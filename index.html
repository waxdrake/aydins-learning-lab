<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#1e293b">
  <title>ü™∂ Aydin's Learning Lab</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { -webkit-tap-highlight-color: transparent; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    .gradient-weather { background: linear-gradient(135deg, #0ea5e9, #1d4ed8); }
    .gradient-space { background: linear-gradient(135deg, #4f46e5, #7c3aed); }
    .gradient-animals { background: linear-gradient(135deg, #16a34a, #059669); }
    .gradient-cars { background: linear-gradient(135deg, #dc2626, #e11d48); }
    .gradient-kitchen { background: linear-gradient(135deg, #d97706, #ea580c); }
    .gradient-nature { background: linear-gradient(135deg, #16a34a, #059669); }
    .gradient-islam { background: linear-gradient(135deg, #059669, #0d9488); }
    .gradient-body { background: linear-gradient(135deg, #f43f5e, #e11d48); }
    .gradient-bugs { background: linear-gradient(135deg, #84cc16, #65a30d); }
    .gradient-building { background: linear-gradient(135deg, #f97316, #ea580c); }
    .gradient-water { background: linear-gradient(135deg, #06b6d4, #0891b2); }
    .gradient-shapes { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }
    .gradient-mindset { background: linear-gradient(135deg, #ec4899, #be185d); }
    .gradient-projects { background: linear-gradient(135deg, #06b6d4, #0284c7); }
  </style>
</head>
<body class="bg-slate-900 text-white min-h-screen">
  <div id="app"></div>

  <script>
    // ========== AYDIN'S COMPLETE LEARNING LAB ==========
    // 150 lessons across 7 categories - Feynman Method
    // Last updated: January 2025

    const categories = {
      weather: {
        id: 'weather', name: 'Weather: Sky Science', icon: 'üå¶Ô∏è',
        gradient: 'gradient-weather',
        description: 'Rain, clouds, storms & rainbows explained',
        chapters: {
          1: {
            title: "Water's Big Adventure", icon: 'üíß',
            description: 'The water cycle - where rain comes from',
            lessons: [
              { title: "Why do puddles disappear?", hook: "After rain, there are puddles everywhere. But the next day, they're gone! Where did all that water go?", scaffold: "Did the ground drink it all like a sponge, OR did the water float up into the sky as invisible gas?", explanation: "The water turned into INVISIBLE GAS and floated away! When the sun heats water, it gives the water molecules so much energy they escape into the air - this is called EVAPORATION. You can't see it happening, but the water is literally floating up into the sky. The puddle doesn't disappear - it just moves to the air!", activity: "üçΩÔ∏è Put a small plate of water in a sunny spot. Mark the water level with tape. Check it every few hours - it gets lower and lower! The water is evaporating into air you can't see.", keyConcept: "Heat turns liquid water into invisible water vapor (gas)." },
              { title: "Where do clouds come from?", hook: "Clouds appear in the sky like magic. One minute blue sky, next minute clouds. What ARE clouds and where do they come from?", scaffold: "Are clouds cotton wool that floats down from space, OR are they made from the water that evaporated from puddles, oceans, and lakes?", explanation: "Clouds ARE water! Remember the invisible water vapor that floated up from puddles? When it rises high enough, the air gets COLD. Cold air can't hold as much water vapor, so the vapor turns back into tiny water droplets - so tiny they float! Billions of these tiny droplets together = a cloud. Clouds are made from yesterday's puddles!", activity: "üò§ Breathe out on a cold day - see your breath? That's a mini cloud! The warm wet air from your lungs hits cold air, and the water vapor turns into tiny droplets you can see.", keyConcept: "Water vapor rises, cools, and turns into tiny floating droplets = cloud." },
              { title: "Why does it rain?", hook: "Water goes UP as vapor, becomes clouds... but then it falls DOWN as rain. What makes it fall?", scaffold: "Does someone squeeze the clouds like a sponge, OR do the tiny droplets bump together and get too heavy to float?", explanation: "Inside clouds, tiny droplets keep bumping into each other and joining together. Small droplet + small droplet = bigger droplet. This keeps happening until the droplet is too heavy for air to hold up - then it FALLS! A raindrop is about 1 million tiny cloud droplets merged together.", activity: "üíß Spray water mist in the air (like from a plant spray) - it floats! Now drip water from a cup - it falls fast. Rain happens when cloud 'mist' joins together into 'drip' size drops.", keyConcept: "Cloud droplets merge until too heavy to float = rain." },
              { title: "What is the water cycle?", hook: "The same water keeps going around and around - evaporating, making clouds, raining, and starting again. It never stops!", scaffold: "Does new water get made every time it rains, OR is it the SAME water recycling forever?", explanation: "Earth has the SAME water it's always had - it just keeps recycling! The water you drink might have been dinosaur pee millions of years ago! Sun heats water ‚Üí water evaporates up ‚Üí vapor makes clouds ‚Üí clouds rain down ‚Üí water flows to oceans/lakes ‚Üí sun heats it again ‚Üí repeat FOREVER.", activity: "üîÑ Draw the cycle: Ocean ‚Üí Sun arrow up (evaporate) ‚Üí Cloud ‚Üí Rain arrow down ‚Üí River ‚Üí back to Ocean. Trace your finger around and around - that's what water does forever!", keyConcept: "Same water cycles: evaporate ‚Üí cloud ‚Üí rain ‚Üí repeat forever." },
              { title: "What is snow?", hook: "Sometimes instead of rain, white fluffy snow falls. But clouds are made of water, so why isn't it always rain?", scaffold: "Is snow frozen rain, OR does it form differently - as ice crystals in very cold clouds?", explanation: "Snow ISN'T frozen rain - it forms completely differently! When clouds are VERY cold (below freezing), water vapor skips the liquid stage and goes straight to ICE CRYSTALS. These crystals have beautiful 6-sided shapes because of how water molecules lock together. No two snowflakes are exactly alike!", activity: "‚ùÑÔ∏è If it snows, catch a flake on dark paper and look quickly before it melts - see the crystal shape! No snow? Look up snowflake photos - they're all 6-sided but all different patterns.", keyConcept: "Very cold clouds = water vapor becomes ice crystals = snow." },
              { title: "What is hail?", hook: "Sometimes balls of ICE fall from the sky, even in summer! How can ice fall when it's warm outside?", scaffold: "Does the ice fall from a freezer in space, OR does it form inside super-tall storm clouds that are freezing cold at the top?", explanation: "Hail forms in VIOLENT thunderstorms with strong updrafts (wind blowing UP). Raindrops get blown UP into the freezing top of the cloud - they freeze into ice. They start to fall, but get blown UP again - more ice layers added! Up and down, adding ice layers like an onion. Finally they're too heavy and fall as hailstones.", activity: "üßÖ Cut a hailstone in half (if you find one) - see the layers like an onion ring! Each ring = one trip up and down in the storm cloud.", keyConcept: "Updrafts bounce raindrops up repeatedly, adding ice layers = hail." }
            ]
          },
          2: {
            title: 'Clouds: Sky Paintings', icon: '‚òÅÔ∏è',
            description: 'Different clouds tell different stories',
            lessons: [
              { title: "What are clouds made of?", hook: "Clouds look fluffy and solid, like you could sit on them. But what are they ACTUALLY made of?", scaffold: "Are clouds made of cotton or smoke, OR are they billions of tiny water droplets floating in air?", explanation: "Clouds are WATER - billions and billions of tiny water droplets so small they float on air! Each droplet is smaller than the width of a hair. They're so light that even gentle air currents keep them up. If you could squeeze a cloud, you'd get water!", activity: "üò§ Breathe on a cold mirror - see the fog? That's a cloud on the mirror! Tiny water droplets that were invisible in your warm breath became visible when they hit the cold surface.", keyConcept: "Clouds = billions of tiny water droplets light enough to float." },
              { title: "Why are there different shaped clouds?", hook: "Some clouds are fluffy cotton balls, some are thin streaks, some are flat grey blankets. Why so many shapes?", scaffold: "Do clouds choose their shape like choosing an outfit, OR does the AIR they form in create their shape?", explanation: "Cloud shape tells you about the air! FLUFFY clouds (cumulus) = air rising in bubbles. FLAT layer clouds (stratus) = air cooling evenly. WISPY streaks (cirrus) = super high up, ice crystals blown by fast winds. DARK towering clouds (cumulonimbus) = storms coming! Clouds are like messages from the sky!", activity: "‚òÅÔ∏è Go cloud watching! Fluffy cotton balls = nice day. Flat grey blanket = drizzle likely. Tall dark tower = storm coming. You're reading the sky!", keyConcept: "Cloud shape = how the air is moving. Shape predicts weather!" },
              { title: "Why are clouds white?", hook: "Water is see-through clear. So why are clouds WHITE if they're made of water?", scaffold: "Do clouds have white paint in them, OR does sunlight bounce around inside and come out white?", explanation: "Sunlight is actually ALL colors mixed together. When sunlight hits cloud droplets, it bounces around in all directions - ALL the colors bounce equally. All colors mixed = WHITE! It's like a disco ball made of water drops sending white light everywhere!", activity: "üî¶ Shine a torch into a glass of milk - it looks white and glowy! The tiny fat droplets in milk scatter light just like water droplets in clouds.", keyConcept: "Droplets scatter all light colors equally = white." },
              { title: "Why are rain clouds dark grey?", hook: "Happy clouds are white. Rain clouds are dark grey, almost black. Why the color change?", scaffold: "Are rain clouds dirty, OR are they so thick that less sunlight gets through?", explanation: "Rain clouds aren't dirty - they're just THICK! A thin cloud lets lots of sunlight through = bright white. A thick rain cloud has SO many water droplets that sunlight can't get through to the bottom. The bottom is in shadow - it looks dark grey to us!", activity: "üìÑ Hold one tissue up to a light - bright! Stack 10 tissues - much darker! Rain clouds are like thick stacks of water droplets blocking the light.", keyConcept: "Thick clouds block sunlight = dark underneath." },
              { title: "Why do clouds float?", hook: "Water is heavy - a bucket of water is hard to lift. So how do clouds made of water just float in the sky?", scaffold: "Are clouds attached to invisible balloons, OR are the droplets so tiny they float on air like dust?", explanation: "Cloud droplets are INCREDIBLY tiny - about 100x thinner than a human hair! At that size, air feels thick to them. They fall very slowly, and even gentle rising air pushes them back up. Also, clouds form in RISING air that holds them up!", activity: "ü™∂ Drop a feather and a ball at the same time. The ball falls fast, the feather floats slowly because air slows it down. Cloud droplets are even lighter than feathers!", keyConcept: "Tiny droplets fall so slowly that rising air keeps them floating." },
              { title: "What is fog?", hook: "Sometimes a cloud is on the GROUND and you can walk through it. What's fog?", scaffold: "Is fog a special ground-only thing, OR is it literally just a cloud that formed at ground level?", explanation: "Fog IS a cloud - just one that touches the ground! It forms the same way: air cools down until water vapor turns into tiny droplets. But instead of happening high up, it happens at ground level. Walk through fog and you're walking through a cloud!", activity: "üöø After a hot shower, open the bathroom door to cold air - see the fog that forms? That's exactly how ground fog forms: warm moist air meets cold air.", keyConcept: "Fog = a cloud at ground level. Same process, different altitude." }
            ]
          },
          3: {
            title: 'Wind: The Invisible Pusher', icon: 'üí®',
            description: 'What makes air move?',
            lessons: [
              { title: "What IS wind?", hook: "You can't see wind, but you can feel it push you. What actually IS wind?", scaffold: "Is wind a magical invisible force, OR is it simply air moving from one place to another?", explanation: "Wind is just AIR MOVING! Air might be invisible, but it's real stuff - it has weight and takes up space. When air moves from one place to another, that movement is wind. A gentle breeze is air moving slowly. A hurricane is air moving FAST.", activity: "üéà Blow up a balloon and let it go - it zooms around! That's air moving. Now blow gently on your hand (breeze) then blow hard (strong wind). Same stuff, different speed!", keyConcept: "Wind = air moving. Faster air = stronger wind." },
              { title: "Why does wind blow?", hook: "What makes air decide to move? Why doesn't air just sit still everywhere?", scaffold: "Does someone blow the air around, OR does the SUN heating things unevenly make air move?", explanation: "The SUN is the wind engine! Sun heats the ground unevenly - sand heats fast, water heats slow. Hot air RISES (it's lighter). When hot air rises, cooler air rushes in to fill the gap. That rushing in = wind! The bigger the difference, the stronger the wind!", activity: "üïØÔ∏è With an adult: Light a candle and watch the flame - it pulls UPWARD because hot air rises, pulling cooler air in at the bottom. That's how wind starts!", keyConcept: "Hot air rises ‚Üí cool air rushes in to replace it ‚Üí wind!" },
              { title: "What is a sea breeze?", hook: "At the beach, wind often blows FROM the sea during the day. But at night, it blows TOWARD the sea. Why?", scaffold: "Is the sea breathing in and out, OR does land and water heat up differently?", explanation: "Land heats up FAST in sun but cools FAST at night. Water heats SLOWLY but cools SLOWLY. During the day: land gets hot, air rises, cooler air rushes in from the sea = sea breeze. At night: land cools quickly, sea is now warmer, wind reverses = land breeze.", activity: "üèñÔ∏è Touch sand in sunshine (hot!) then touch sea water (cool). At night, the sand is cold but water is still warmish. The wind follows the heat!", keyConcept: "Wind blows from cool areas to warm areas. Day/night swaps which is warmer." },
              { title: "Why is it windier on some days?", hook: "Some days are perfectly calm. Other days it's so windy trees bend over. What makes the difference?", scaffold: "Does Earth just have windy moods, OR do bigger temperature differences make bigger winds?", explanation: "Bigger temperature differences = stronger wind! On calm days, temperatures are similar everywhere. On windy days, there are big differences - maybe a cold front meeting warm air. It's like a sink: tiny difference in water levels = slow trickle. Big difference = water GUSHES!", activity: "üõÅ Fill a container higher on one side. Tiny tilt = water slowly levels out. Big tilt = water rushes fast! Wind does this with air pressure differences.", keyConcept: "Big temperature/pressure differences = strong winds." },
              { title: "What makes a tornado?", hook: "Tornadoes are spinning tubes of wind that can destroy houses. How does wind start SPINNING?", scaffold: "Does angry sky start spinning randomly, OR do special conditions make air rotate faster and faster?", explanation: "Tornadoes need special ingredients: 1) Warm wet air near ground. 2) Cold dry air above. 3) Winds blowing different directions at different heights. When warm air rises FAST and those different-direction winds make it rotate, the rising column stretches and spins faster - like an ice skater pulling arms in!", activity: "üåÄ Fill a bottle with water, spin it and flip it upside down - watch the spinning vortex! Tornadoes are like this but made of air, and MUCH bigger.", keyConcept: "Warm rising air + spinning winds = tornado funnel." },
              { title: "Why does wind make you feel colder?", hook: "A 10¬∞C day with no wind feels okay. A 10¬∞C day with strong wind feels FREEZING. Why?", scaffold: "Does wind make the air actually colder, OR does it steal heat from your body faster?", explanation: "Wind doesn't change air temperature - it steals YOUR heat faster! Your body warms a thin layer of air next to your skin. Wind BLOWS AWAY your warm air layer, and your body has to heat up NEW cold air, over and over. This is called 'wind chill'.", activity: "üí® Lick your hand and blow on it - feels COLD! Now lick it again and hold it still - not as cold. The blowing steals heat from the wet skin faster.", keyConcept: "Wind blows away your body's warm air layer = you lose heat faster." }
            ]
          },
          4: {
            title: "Storms: Nature's Light Show", icon: '‚õàÔ∏è',
            description: 'Thunder, lightning, and storm safety',
            lessons: [
              { title: "What is lightning?", hook: "During storms, bright jagged lines flash across the sky. What IS lightning?", scaffold: "Is lightning a crack in the sky letting light through, OR is it a giant electric spark jumping through the air?", explanation: "Lightning is a MASSIVE electric spark! Inside storm clouds, ice and water droplets crash around in the violent winds. All that crashing builds up static electricity - the same stuff that makes your hair stick up on a trampoline! The electricity builds until it ZAPs through the air. A single bolt is 5x hotter than the sun's surface!", activity: "‚ö° Rub a balloon on your hair then touch a metal doorknob - ZAP! That tiny spark is exactly what lightning is, just a billion times smaller.", keyConcept: "Lightning = massive static electricity spark from clouds." },
              { title: "What is thunder?", hook: "After lightning, we hear the rumbling BOOM of thunder. What makes that sound?", scaffold: "Is thunder clouds crashing together like bowling balls, OR is it the sound of air exploding from lightning's heat?", explanation: "Thunder IS the sound of lightning! Lightning is SO hot (30,000¬∞C!) that it makes the air around it EXPLODE outward - the air expands faster than the speed of sound! That explosion creates a shockwave that reaches your ears as thunder.", activity: "üéà Pop a balloon - that bang is air escaping fast. Lightning heats air so fast it 'pops' the air outward. Thunder is LOTS of air popping along the whole lightning bolt!", keyConcept: "Lightning's heat makes air explode outward = thunder." },
              { title: "Why do we see lightning before hearing thunder?", hook: "Lightning always comes first, then thunder follows. They happen at the same time, so why the delay?", scaffold: "Is light just faster at leaving the cloud, OR does light travel WAY faster than sound?", explanation: "They happen at the SAME instant, but light travels nearly 1 MILLION times faster than sound! Light arrives almost instantly. Sound pokes along at only 340 meters per second. So you see the flash immediately, then wait for the sound to catch up. About 3 seconds delay = 1 km away.", activity: "‚è±Ô∏è Count seconds between lightning and thunder. Divide by 3 = km away. 6 seconds? About 2 km. 0 seconds? RUN! It's right above you!", keyConcept: "Light is instant. Sound takes 3 seconds per km. Count and divide!" },
              { title: "Why does lightning hit tall things?", hook: "Lightning often hits trees, towers, and tall buildings. Why does it like tall things?", scaffold: "Are tall things magnets for lightning, OR is it simply that lightning takes the shortest path to the ground?", explanation: "Lightning is LAZY - it takes the easiest path! Electricity wants to get from cloud to ground. Air is hard to push through. Tall things stick up closer to the cloud, making a shorter gap of air to cross. Less air = easier path. That's why tall buildings have lightning rods!", activity: "üíß Drip water from height toward two objects - one tall, one short. Water often hits the tall one first because it's closer! Lightning does the same with electricity.", keyConcept: "Lightning takes shortest path. Tall = closer = more likely to be hit." },
              { title: "How to stay safe in a storm?", hook: "Thunderstorms can be dangerous. What should you do when a storm comes?", scaffold: "Should you hide under a tree because it's tall, OR get inside a building or car?", explanation: "DO: Get inside a building or a car (the metal frame directs lightning around you). Stay away from windows. DON'T: Stand under trees (lightning hits them!), stay in water, hold metal objects outside. If stuck outside, crouch low in a ditch away from trees.", activity: "üè† Practice the 'lightning crouch': squat low on balls of feet, tuck head, cover ears. You want to be small but NOT touching lots of ground. Getting inside is best!", keyConcept: "Get inside buildings/cars. Avoid trees, water, metal, and open areas." },
              { title: "What is a hurricane?", hook: "Hurricanes are HUGE spinning storms that can destroy whole cities. What makes them so powerful?", scaffold: "Are hurricanes just big thunderstorms, OR are they heat engines powered by warm ocean water?", explanation: "Hurricanes are powered by WARM OCEAN WATER! Warm water evaporates, rises, and releases heat into the air. This heat makes air rise faster, sucking in MORE warm wet air, which releases MORE heat. It's a feedback loop! When it hits land, its fuel supply is cut off and it weakens.", activity: "üåÄ Spin water in a bowl - see how it spirals toward the drain? Hurricanes spiral the same way, but the 'drain' is the eye in the middle where air rises super fast!", keyConcept: "Warm ocean = fuel. More heat = more rising air = bigger storm." }
            ]
          },
          5: {
            title: 'Seasons: Why Weather Changes', icon: 'üçÇ',
            description: 'Why we have summer, winter, and in-between',
            lessons: [
              { title: "Why is summer hot and winter cold?", hook: "In summer it's hot and days are long. In winter it's cold and days are short. Why?", scaffold: "Does the Sun get hotter in summer, OR does Earth TILT so we face the Sun more directly?", explanation: "The Sun stays the same temperature always! But Earth is TILTED like a leaning tower. In summer, our part tilts TOWARD the Sun - we get more direct sunlight and longer days. In winter, we tilt AWAY - sunlight hits at an angle (weaker) and days are shorter. It's not about distance - it's about TILT!", activity: "üî¶ Shine a torch straight at a paper (summer) - small bright spot! Tilt the paper (winter) - same light spreads over bigger area, dimmer.", keyConcept: "Earth's tilt = summer side faces Sun directly, winter side faces away." },
              { title: "Why do leaves change color in autumn?", hook: "Leaves are green all summer, then turn beautiful red, orange, and yellow in autumn. What changes?", scaffold: "Do leaves get painted by autumn fairies, OR do they stop making green and other colors show through?", explanation: "Leaves are actually MANY colors - green just covers them up! Green comes from chlorophyll, which leaves make to capture sunlight. In autumn, less sunlight means leaves stop making chlorophyll. As the green fades, the hidden colors - yellow, orange, red - finally show through!", activity: "üñçÔ∏è Color a page with yellow crayon, then cover it with green. The yellow is hidden! Now imagine the green slowly fading... the yellow shows through. That's autumn leaves!", keyConcept: "Less sun = no new green = hidden colors show through." },
              { title: "Why do trees lose leaves in winter?", hook: "Many trees drop ALL their leaves in autumn and stand bare all winter. Why not keep them?", scaffold: "Are the trees dying each winter, OR are they SAVING energy by shutting down for the cold months?", explanation: "Leaves are expensive to run! They need water, which is hard to get when the ground is frozen. They can be damaged by frost. So trees CUT THEIR LOSSES - they pull nutrients back from leaves, then drop them. The tree goes dormant and survives on stored energy until spring!", activity: "üí° Think of turning off lights in rooms you're not using to save electricity. Trees 'turn off' their leaves in winter to save energy!", keyConcept: "Winter: not enough sun or water, so trees save energy by dropping leaves." },
              { title: "What is hibernation?", hook: "Some animals sleep through the ENTIRE winter. Bears hibernate for months! Why?", scaffold: "Are they just really tired, OR is it a survival strategy because food is scarce in winter?", explanation: "Winter = less food available. Hunting and staying warm burns LOTS of energy. Solution: SHUT DOWN! During hibernation, animals' heartbeat slows way down, body temperature drops, breathing slows. They survive on stored body fat. A bear's heart might beat only 8 times per minute!", activity: "üêª Time how many times you breathe in one minute (probably 15-20). A hibernating bear breathes just 2-3 times per minute! They slow EVERYTHING down.", keyConcept: "Slow down body systems + live off fat = survive winter without food." }
            ]
          },
          6: {
            title: 'Rainbows & Special Weather', icon: 'üåà',
            description: 'Beautiful sky phenomena explained',
            lessons: [
              { title: "What makes a rainbow?", hook: "After rain, sometimes a beautiful arch of colors appears in the sky. Where does it come from?", scaffold: "Is there a pot of paint in the sky, OR do raindrops split sunlight into its hidden colors?", explanation: "Sunlight looks white but it's secretly ALL colors mixed together! When sunlight enters a raindrop, it BENDS. But each color bends a DIFFERENT amount - red bends least, violet bends most. This spreads the colors out. Millions of raindrops each send one color to your eye - together they make a rainbow!", activity: "üåà On a sunny day, put a garden hose on mist setting with sun BEHIND you - you'll make a rainbow! Or put a glass of water on a sunny windowsill - see the colors spread on the wall!", keyConcept: "Raindrops bend light + split colors = rainbow." },
              { title: "Why is the sky blue?", hook: "Space is black. The Sun is white-yellow. So why is the sky in between them BLUE?", scaffold: "Did someone paint the sky blue, OR does sunlight get scattered by air molecules, and blue scatters the most?", explanation: "Sunlight is all colors mixed. When it hits tiny molecules in our air, the light bounces around (scatters). But BLUE light scatters the MOST because it has a shorter wavelength. So everywhere you look in the sky, blue light that bounced off air molecules is coming at your eyes!", activity: "ü•õ Put a few drops of milk in a glass of water. Shine a torch through it. From the SIDE, it looks blueish (blue scatters). Looking THROUGH, it looks orange-yellow!", keyConcept: "Blue light scatters more in air = blue sky." },
              { title: "Why are sunsets orange and red?", hook: "At sunrise and sunset, the sky turns beautiful orange, pink, and red. Why does blue disappear?", scaffold: "Does the Sun change color, OR does the sunlight travel through MORE air and lose all its blue?", explanation: "At sunset, sunlight travels through MUCH more air to reach you because it's coming in at a low angle. So much air that almost ALL the blue light has scattered away before reaching you. Only red and orange make it through! The sky near the sun looks red because that's all that's left.", activity: "ü•õ Remember the milk-water experiment? Look THROUGH the glass (not from the side) - it looks orange/red! That's like looking at the sun through LOTS of air at sunset.", keyConcept: "Sunset = long path through air = all blue scatters out = red/orange left." },
              { title: "What is dew?", hook: "In the morning, grass and cars are covered in tiny water droplets, even if it didn't rain. Where does dew come from?", scaffold: "Does water leak up from the ground at night, OR does water vapor in the air turn into droplets when things get cold?", explanation: "Dew comes from the AIR! Air always has some water vapor in it. At night, the ground, grass, and cars cool down. When they get cold enough, water vapor touching them CONDENSES (turns from gas to liquid) - just like how a cold glass gets wet on the outside!", activity: "ü•§ Get a cold drink from the fridge. Watch the outside of the glass - it gets wet! That water came from the air, not through the glass. Dew is the same process.", keyConcept: "Cold surface + water vapor in air = vapor condenses into droplets = dew." },
              { title: "What is frost?", hook: "Sometimes in winter, everything is covered in white sparkly ice crystals instead of dew. What's frost?", scaffold: "Is frost frozen dew, OR does water vapor turn DIRECTLY into ice when it's very cold?", explanation: "Frost is NOT frozen dew! When it's below freezing (0¬∞C), water vapor skips being liquid and goes STRAIGHT to ice crystals! This is called 'deposition' - gas to solid directly. The crystals form beautiful patterns on windows and leaves.", activity: "‚ùÑÔ∏è Look at frost on a window - see the feathery crystal patterns? Each one grew as water vapor added more ice molecules. No liquid step - gas straight to solid ice art!", keyConcept: "Below freezing: water vapor ‚Üí ice crystals directly = frost." }
            ]
          }
        }
      },
      space: {
        id: 'space', name: 'Space & The Universe', icon: 'üöÄ',
        gradient: 'gradient-space',
        description: 'From day & night to distant galaxies',
        chapters: {
          1: {
            title: 'Day, Night & Our Spinning Earth', icon: 'üåç',
            description: 'Why does the Sun "go away" at night?',
            lessons: [
              { title: "Why do we have daytime and nighttime?", hook: "Why does the Sun disappear at night? Where does it go?", scaffold: "Does the Sun fly away to sleep somewhere else, OR does our Earth spin around like a slow ballerina?", explanation: "The Sun NEVER moves! It's always shining, always in the same spot. But the Earth is like a spinning ball. We're standing on the ball. When our side faces the Sun = daytime. When our side faces away = nighttime. We spin once every 24 hours - that's one day!", activity: "üî¶ Get a torch (the Sun) and an orange or ball (Earth). Put a small sticker on the orange - that's Aydin! Hold the torch still and slowly spin the orange. Watch the sticker go from light (day) to shadow (night) and back!", keyConcept: "We move. The Sun stays still." },
              { title: "Why is it morning here but nighttime somewhere else?", hook: "When you're eating breakfast, some kids on the other side of the world are sleeping. Why?", scaffold: "Is it because those kids are lazy, OR because the Sun can only shine on one side of Earth at a time?", explanation: "Earth is a ball, not a flat plate! The Sun can only light up the side facing it. Right now, we're in the light. Kids on the opposite side are in the shadow. As Earth spins, we swap! When we go to sleep, they wake up.", activity: "üåç On your orange, put TWO stickers on opposite sides - one is 'Aydin', one is 'Friend in Australia'. Spin it near the torch. When Aydin is bright, Friend is dark!", keyConcept: "Half of Earth is always in daylight, half in darkness." },
              { title: "Why are some days longer in summer?", hook: "In summer, it's still bright at bedtime! In winter, it's dark at dinner. Why?", scaffold: "Does the Sun get tired in winter, OR does Earth tilt so some places get more Sun time?", explanation: "Earth doesn't spin straight up - it's tilted like a leaning tower! In summer, our part of Earth tilts TOWARD the Sun, so we stay in the light longer as we spin. In winter, we tilt AWAY, so we pass through the light faster.", activity: "üî¶ Tilt your orange while spinning it near the torch. See how the sticker spends more time in light when tilted toward the torch? That's summer!", keyConcept: "Earth's tilt = seasons and day length." }
            ]
          },
          2: {
            title: 'The Moon & Its Changing Face', icon: 'üåô',
            description: 'Why does the Moon change shape?',
            lessons: [
              { title: "Why does the Moon seem to change shape?", hook: "Sometimes the Moon is a big circle, sometimes a banana, sometimes invisible! Is it shapeshifting?", scaffold: "Does the Moon actually change shape like Play-Doh, OR are we just seeing different amounts of the sunny side?", explanation: "The Moon is ALWAYS a round ball - it never changes shape! But only half of it is lit by the Sun (the side facing the Sun). As the Moon goes around Earth, we see different amounts of that bright half. It's like walking around a lamp with a ball - you see different amounts of the lit side!", activity: "üèÄ In a dark room, hold a white ball. Have someone shine a torch from one side. Now slowly walk in a circle around the ball, always looking at it. See how you see different amounts of bright side? That's Moon phases!", keyConcept: "We see different angles of the same half-lit ball." },
              { title: "What's a Full Moon vs New Moon?", hook: "Why is the Moon sometimes super bright and round, and sometimes we can't see it at all?", scaffold: "Does the Moon hide behind a cloud, OR is the bright side just facing away from us?", explanation: "Full Moon: The Sun is behind us, lighting up the whole face of the Moon we see - like a spotlight on a face! New Moon: The Sun is in front of the Moon, so the lit side faces AWAY from us. We see the dark back. The Moon is there, just invisible!", activity: "üî¶ Stand between the torch and the ball (you're Earth). Full Moon = torch behind you, ball face is bright! Now switch - torch in front of you, behind the ball. Ball face is dark = New Moon!", keyConcept: "Full = we see all the light. New = light faces away." },
              { title: "Why does the Moon rise at different times?", hook: "Sometimes the Moon is up during the day! Sometimes it rises really late. Why isn't it always at night?", scaffold: "Is the Moon confused, OR is it on its own schedule going around Earth?", explanation: "The Moon goes around Earth once every 28 days - much slower than our 24-hour spin. So sometimes Earth spins us to face the Moon during daytime, sometimes at night. The Moon doesn't care about our bedtime - it has its own orbit!", activity: "üö∂ Walk in a slow circle around a chair (you're the Moon, chair is Earth). Have someone on the chair spin slowly (day/night). Sometimes they face you in their 'day', sometimes in their 'night'!", keyConcept: "The Moon orbits slowly while Earth spins fast." }
            ]
          },
          3: {
            title: 'Stars: Faraway Suns', icon: '‚≠ê',
            description: 'What are those sparkly dots?',
            lessons: [
              { title: "What are stars actually made of?", hook: "Those tiny sparkles in the sky - are they diamonds? Fairy lights? What ARE they?", scaffold: "Are stars tiny glowing dots stuck to the sky, OR are they HUGE balls of fire incredibly far away?", explanation: "Stars are SUNS! Every single sparkle is a giant ball of burning gas, just like our Sun! They look tiny because they're SO far away. Our Sun is a star too - it's just the closest one, so it looks big and bright. If you could drive to the next nearest star, it would take MILLIONS of years!", activity: "üî¶ At night, look at a bright streetlight nearby (big!). Now find one waaay down the road (tiny dot). Same light, different distance! That's stars vs our Sun.", keyConcept: "Stars = suns. Distance makes them look small." },
              { title: "Why do stars twinkle but planets don't?", hook: "Stars sparkle and shimmer. But some bright dots in the sky DON'T twinkle. What's different?", scaffold: "Do some stars have glitter and some don't, OR is it about how far away the light comes from?", explanation: "Earth has air, and air wobbles! Starlight comes from one tiny point far away - when it goes through wobbly air, it shimmers. Planets are closer and look like small discs (not points). Their light comes from a bigger area, so the wobbles average out = steady light!", activity: "üïØÔ∏è Look at a candle flame from far away (twinkles in the air). Now look at a lamp shade (steady). The candle is a point, the shade is an area. Same idea!", keyConcept: "Point source + wobbly air = twinkle!" },
              { title: "Why can't we see stars during the day?", hook: "The stars don't disappear in the morning... so where do they go?", scaffold: "Do stars turn off their lights to sleep, OR is the Sun so bright it drowns them out?", explanation: "Stars are ALWAYS there, even at noon! But the Sun is so incredibly bright that it lights up all the air (that's the blue sky). The faint starlight can't compete - it's like trying to see a candle next to a bonfire. When the Sun goes away, the 'bonfire' is gone and we can see the 'candles' again!", activity: "üî¶ In a dark room, turn on a small LED light (star). Easy to see! Now turn on the main room light (Sun). The LED is still on, but you can barely notice it.", keyConcept: "Stars don't leave. The Sun just outshines them." },
              { title: "What does a telescope do?", hook: "Stars look like tiny dots. But with a telescope, you can see SO much more! How does it work?", scaffold: "Does a telescope make stars bigger, OR does it collect MORE LIGHT so you can see faint things?", explanation: "A telescope is a LIGHT BUCKET! Its big lens or mirror collects much more light than your tiny eye can. More light = you can see dimmer, farther things! It also MAGNIFIES - spreads the light out so small things look bigger. With a telescope, you can see the Moon's craters, Jupiter's stripes, Saturn's rings, and millions more stars than your eyes alone!", activity: "üî≠ Try looking at the Moon with binoculars or a telescope - suddenly you see CRATERS! Your eye was too small to gather enough light to see them clearly. The bigger the lens, the more you can see!", keyConcept: "Telescope = big light collector. More light = see farther and fainter things!" }
            ]
          },
          4: {
            title: 'The Blue Sky Mystery', icon: 'üå§Ô∏è',
            description: 'Why blue? Why not green?',
            lessons: [
              { title: "Why is the sky blue?", hook: "Space is black. The Sun is white-yellow. So why is the sky in between them BLUE?", scaffold: "Did someone paint the sky blue, OR does sunlight break apart and blue scatters everywhere?", explanation: "Sunlight looks white but it's secretly a rainbow mixed together! When sunlight hits the tiny bits of air, blue light bounces around in all directions - it scatters everywhere like a bouncy ball in a room. Red and yellow light go straighter through. So everywhere you look, blue has bounced into your eyes!", activity: "ü•õ Get a glass of water, add a tiny drop of milk (makes it cloudy like air). Shine a torch through it. Look from the SIDE = blueish! Look straight through = yellowish! The milk breaks the light apart like air does.", keyConcept: "Blue light bounces around. Other colors go straight." },
              { title: "Why are sunsets orange and red?", hook: "In the morning and evening, the sky turns beautiful orange, pink, red. Why does blue go away?", scaffold: "Does the Sun change color at bedtime, OR has the blue scattered away before reaching your eyes?", explanation: "At sunset, sunlight has to travel through MUCH more air to reach you (it comes in at an angle, not straight down). So much more air that ALL the blue has bounced away before it gets to you! Only the red and orange make it through. The Sun looks red because that's all that's left!", activity: "ü•õ With your milk-water glass, look at the torch from far away through a LOT of the cloudy water. It looks more orange! The 'blue' scattered out.", keyConcept: "More air = more blue scattered away = red/orange left." },
              { title: "Why is space black if the Sun is in space?", hook: "The Sun is floating in space and it's super bright. So why is the space around it totally black?", scaffold: "Is space painted black, OR is it because there's nothing up there for light to bounce off?", explanation: "You only see light when it comes INTO your eyes. On Earth, light bounces off air, dust, and stuff - so the sky 'glows' with scattered light. In space, there's no air, no dust, NOTHING. Light from the Sun just zooms past into forever. Nothing sends it to your eyes. No bounces = no glow = black!", activity: "üî¶ In a dusty room, you can see the torch beam (light bouncing off dust). In clean air, you can't see the beam - only what it hits. Space is super-clean - nothing to bounce!", keyConcept: "No stuff to bounce light = darkness." }
            ]
          },
          5: {
            title: 'Gravity: The Invisible Pull', icon: 'üçé',
            description: 'Why do things fall down?',
            lessons: [
              { title: "What is gravity?", hook: "Why does everything fall DOWN? Why not up, or sideways?", scaffold: "Is there a magnet inside Earth pulling everything, OR is there an invisible force between all big objects?", explanation: "Everything with mass (stuff) pulls on everything else! Your book pulls on you, you pull on the book - but you're both so small you can't feel it. Earth is HUGE, so its pull is strong. We call this pulling 'gravity.' It pulls everything toward Earth's center - that's why 'down' is always toward the ground!", activity: "üß≤ Jump up! Gravity pulls you back. Drop a ball. Gravity pulls it down. Everything gets pulled to Earth's middle. You can't escape it (without a rocket)!", keyConcept: "Mass pulls mass. Earth is massive = strong pull." },
              { title: "Why does the Moon stay up there?", hook: "If gravity pulls everything down, why doesn't the Moon fall and crash into us?", scaffold: "Is the Moon magic and doesn't feel gravity, OR is it falling but also moving sideways really fast?", explanation: "The Moon IS being pulled by gravity! It IS falling toward Earth! But it's also moving sideways SO fast that as it falls, it keeps missing Earth. Imagine throwing a ball so hard it curves around the whole planet before landing. The Moon does that forever - always falling, always missing!", activity: "üßµ Tie a small toy to string. Swing it around your head. The string pulls it in (like gravity) but it doesn't hit you because it's also moving around you. That's orbiting!", keyConcept: "Orbiting = falling while moving sideways." },
              { title: "Why do astronauts float in space?", hook: "In the space station, astronauts float around like there's no gravity. Did gravity disappear?", scaffold: "Is there zero gravity in space, OR are the astronauts falling and just don't notice?", explanation: "Gravity is still there! The space station is only 400km up - gravity is almost as strong as on the ground. BUT the station is falling toward Earth while moving sideways fast, so it keeps missing. The astronauts are falling too, at the same speed! Everything inside falls together, so nothing pushes on each other. It FEELS like floating, but it's really falling!", activity: "üé¢ Imagine a lift dropping really fast - you'd feel weightless for a moment! Astronauts are in a lift that never stops falling. That's why they float!", keyConcept: "Astronauts float because they're falling at the same speed as their spaceship." }
            ]
          },
          6: {
            title: 'Planets & Our Solar System', icon: 'ü™ê',
            description: 'Our cosmic neighborhood',
            lessons: [
              { title: "What's the difference between a star and a planet?", hook: "Stars and planets both look like dots in the sky. But they're VERY different. How?", scaffold: "Are they just different sizes, OR does one make its own light while the other just reflects light?", explanation: "Stars MAKE their own light! They're giant balls of burning gas, making heat and light in their core. Planets are just big rocks or balls of gas that make NO light - they only reflect light from their star (like our Sun). A star is a lightbulb. A planet is a mirror.", activity: "üî¶ In a dark room: a torch is like a star (makes light). A shiny ball reflects the torch light like a planet. Turn off the torch - the ball goes dark! Planets only shine because stars light them up.", keyConcept: "Stars make light. Planets only reflect light." },
              { title: "Why do planets go around the Sun?", hook: "Earth and all the planets keep circling the Sun over and over. What keeps them going around?", scaffold: "Is the Sun pulling them with a cosmic rope, OR does the Sun's gravity pull them while they move sideways?", explanation: "Same as the Moon going around Earth - gravity! The Sun is HUGE (a million Earths would fit inside). Its gravity pulls all the planets toward it. But the planets are also moving sideways, so they keep missing the Sun. They fall around it forever - that's an orbit!", activity: "‚öΩ Swing a ball on a string around your head. Your hand pulling = Sun's gravity. The ball moving = planet's sideways motion. Together = orbit!", keyConcept: "Sun's gravity + planet's sideways motion = orbit forever." },
              { title: "Why is Mars red?", hook: "Mars is called the Red Planet. Why isn't it brown or grey like other rocks?", scaffold: "Did someone paint it, OR is the surface covered in rust?", explanation: "Mars is RUSTY! The surface is covered in iron-rich dirt. Long ago, Mars had oxygen in its air. The iron in the rocks reacted with oxygen and turned into iron oxide - the same thing that makes rust on your bike! Mars is one big rusty desert.", activity: "üö≤ Find something rusty (old nail, bike chain). See the red-brown color? That's iron oxide. The whole planet Mars is covered in this stuff! That's why it glows red in the night sky.", keyConcept: "Mars = rusty iron surface = red planet." }
            ]
          }
        }
      },
      animals: {
        id: 'animals', name: 'Animals: Built for Survival', icon: 'ü¶Å',
        gradient: 'gradient-animals',
        description: 'Why animals look and act the way they do',
        chapters: {
          1: {
            title: 'Why Animals Look The Way They Do', icon: 'üîç',
            description: 'Every feature has a reason - 28 lessons!',
            lessons: [
              { title: "Introduction: Names vs Understanding", hook: "You know this is a sheep. But WHY is it a sheep? What makes it sheepy?", scaffold: "Is a sheep a sheep because someone named it that, OR because of how its body is built to survive?", explanation: "Knowing the NAME 'sheep' teaches you nothing! Anyone can memorize a name. Understanding means knowing: Why does it have fluffy wool? Why does it eat grass? Why are its eyes on the sides? Every part of an animal is a TOOL for survival. Let's learn to see the tools, not just the label!", activity: "üñºÔ∏è Look at pictures of animals and ask: 'What do you notice about its body? What job might that part do?' Don't worry about being right - just observe like a detective!", keyConcept: "Every body part is a survival tool." },
              { title: "Sheep: Why the Fluffy Wool?", hook: "Sheep are covered in thick, fluffy wool. But why? What's the wool FOR?", scaffold: "Is the wool just to look cute, OR is it a blanket to survive cold mountains?", explanation: "Sheep originally lived on cold, windy mountains. The wool is like wearing a puffy jacket 24/7! It traps warm air next to their skin. It also keeps rain out - the outer wool is oily and water slides off. Humans liked this 'jacket' so much, we shave it off and make our own clothes from it!", activity: "üß• Put on a thick jumper. Feel how warm your body heat gets trapped inside? That's what wool does for sheep! Now put on a thin t-shirt - cold air gets in. Animals need their own 'jumpers' to survive winter.", keyConcept: "Wool = built-in weatherproof jacket." },
              { title: "Sheep: Why Eyes on the Sides?", hook: "Look at a sheep's face - eyes on the SIDES of its head, not the front like us. Why?", scaffold: "Is it because sheep are silly, OR because they need to see danger coming from anywhere?", explanation: "Sheep are PREY - wolves and lions want to eat them! They need to watch for danger from ALL directions while their head is down eating grass. Side eyes give them almost 360¬∞ vision - they can see behind them without turning! Predators like wolves have eyes in front (to focus on catching ONE thing). Prey have eyes on sides (to spot danger everywhere).", activity: "üëÄ Cover one eye. Notice you can't see to the side? Now put your hands by your ears like horse blinders - you see even less! Sheep eyes on the sides = they see everything, even behind!", keyConcept: "Side eyes = see predators everywhere. Front eyes = focus on prey." },
              { title: "Predator vs Prey: Eyes Tell the Story", hook: "How can you tell if an animal hunts or gets hunted, just by looking at its face?", scaffold: "Do all animals have the same eyes, OR do hunters and hunted have opposite eye setups?", explanation: "Look at the eyes! PREDATORS (lion, wolf, owl) = eyes in FRONT. Both eyes see the same thing. This gives 'depth perception' - judging exactly how far away prey is to pounce accurately. PREY (sheep, rabbit, deer) = eyes on SIDES. They sacrifice depth perception for a wide view of danger. Eye position reveals the animal's job!", activity: "ü¶Å Look at animal photos and sort them: front eyes = hunter, side eyes = hunted. Test it! Lions? Front. Rabbits? Side. Owls? Front. Horses? Side. You're reading their survival story!", keyConcept: "Front eyes = hunter. Side eyes = hunted." },
              { title: "Giraffe: Why the Long Neck?", hook: "Giraffes have the longest necks of any animal. That seems hard to carry around. Why bother?", scaffold: "Is it to look over fences, OR to reach food that no other animal can get?", explanation: "Africa has lots of animals eating plants. Competition! But giraffe ancestors with slightly longer necks could eat leaves that others couldn't reach. They survived better, had babies with long necks. Over millions of years, necks got longer and longer. Now giraffes have their own private 'restaurant' at the top of trees - no competition!", activity: "üç™ Put a treat on a high shelf. Can you reach it? If not, you'd need to wait for someone else to get it. If you COULD reach it, it's all yours! That's why giraffes 'grew' tall - the high-up food is all theirs.", keyConcept: "Long neck = access to food others can't reach." },
              { title: "Elephant: Why the Trunk?", hook: "An elephant's nose is SO long and bendy. No other animal has that. What's it FOR?", scaffold: "Is the trunk just a weird nose, OR is it like having an arm, a hand, AND a nose all in one?", explanation: "The trunk is the ultimate multi-tool! Elephants are huge - bending down to drink is hard. Trunk = straw! They can't scratch their backs easily. Trunk = arm that reaches everywhere! They need to grab things but have no hands. Trunk = fingers that grip! It smells 4x better than a dog's nose. One tool does 5 jobs: breathing, smelling, drinking, grabbing, and hugging their babies!", activity: "üêò Try to pick up a small toy using ONLY your arm (no fingers). Hard! Now use your fingers. That's like an elephant using its trunk 'finger' at the tip. Try to drink through a straw while holding it with your arm - trunk life!", keyConcept: "Trunk = nose + arm + hand + straw combined." },
              { title: "Duck: Why Webbed Feet?", hook: "Ducks have skin between their toes. Chickens don't. Why are duck feet so different?", scaffold: "Did ducks step in glue, OR are webbed feet like built-in flippers for swimming?", explanation: "Ducks live on water! Webbed feet are paddles. When they push back, the web spreads out and pushes lots of water = fast swimming! When they lift their foot forward, the web folds up = no drag. Chickens live on land - they need grippy separate toes for perching and scratching dirt. The home decides the feet!", activity: "üñêÔ∏è Spread your fingers and push your hand through water (that's webbed). Now close your fingers together and push (not webbed). Which pushes more water? Ducks figured this out!", keyConcept: "Webbed feet = swim paddles. Separate toes = land grip." },
              { title: "Chameleon: Why Change Colors?", hook: "Chameleons can turn green, brown, yellow, even spotty! That seems like magic. Why can they do that?", scaffold: "Is it just to look pretty, OR is it camouflage to hide AND a way to 'talk' to other chameleons?", explanation: "Color change does TWO jobs! 1) CAMOUFLAGE: blend into leaves or bark so predators can't see them, and so THEY can sneak up on insects to eat. 2) COMMUNICATION: bright colors say 'I'm angry!' or 'I like you!' to other chameleons. Dark colors can mean they're cold and need to absorb heat! Their skin is like a mood ring + invisibility cloak + thermostat!", activity: "üôà Play hide and seek! Notice you hide better when your clothes match the background? That's camouflage. Chameleons can change their 'clothes' to match anywhere!", keyConcept: "Color change = hide + communicate + temperature control." },
              { title: "Owl: Why the Huge Eyes?", hook: "Owls have ENORMOUS eyes - they take up most of their skull! Why so big?", scaffold: "Are owls just trying to look cute, OR do big eyes help them see in almost complete darkness?", explanation: "Owls hunt at NIGHT when it's dark. Big eyes = more light gets in, just like a bigger window lets in more light! Their eyes are so big they can't move them in their sockets. That's why owls rotate their whole HEAD instead. Their eyes collect up to 100x more light than ours in low light!", activity: "üì∑ Look at a camera lens - big lens = more light for dark photos. Small phone camera struggles in dark. Owl eyes are like having camera lenses instead of human eyes!", keyConcept: "Bigger eyes = more light collected = night vision." },
              { title: "Owl: Why Can They Spin Their Head So Far?", hook: "Owls can turn their head almost all the way around - like 270¬∞! That would kill a human. How?", scaffold: "Do owls have special neck bones, OR is it because their eyes can't move so the head must?", explanation: "Owl eyes are so big they're locked in place - can't move left or right. Solution: move the whole HEAD! Owls have 14 neck bones (we have 7) giving them super flexibility. They also have special blood vessels that keep blood flowing to the brain even when twisted. Eyes can't move, so head does the job!", activity: "üëÄ Try moving just your eyeballs to look sideways (easy!). Now hold your eyes still and turn your whole head (harder, limited). Owls can only do the second option, so their neck evolved to be amazing!", keyConcept: "Fixed eyes = need flexible neck. 14 neck bones = 270¬∞ rotation." },
              { title: "Owl: Why Silent Flight?", hook: "Most birds make whooshing sounds when they fly. Owls are SILENT. Why?", scaffold: "Do owls have magical feathers, OR are their feathers specially designed to muffle sound?", explanation: "Owls are stealth hunters! Their prey (mice, voles) have excellent hearing. Normal bird wings make turbulence = whooshing noise. Owl feathers have: 1) Soft fuzzy edges that break up air smoothly. 2) Velvet-like surface that absorbs sound. 3) Comb-like fringes that reduce turbulence. Silent death from above!", activity: "ü™∂ Wave a piece of paper fast - hear the whoosh? Now wave a soft towel - much quieter! Owl feathers are like built-in silencers. Mice never hear them coming.", keyConcept: "Special fuzzy feathers break up air = silent flight = surprise attack." },
              { title: "Camel: Why the Hump?", hook: "Camels have one or two big humps. Is that where they store water for the desert?", scaffold: "Is the hump a water tank, OR is it actually a FAT storage that gives them energy?", explanation: "NOT water - it's FAT! Camels store fat in the hump instead of all over their body. Why? Fat all over = too hot in desert sun. Fat in one lump on top = body stays cool, shade from the hump! When food is scarce, they burn the hump fat for energy. A healthy hump is firm; a starving camel has a floppy hump!", activity: "üê™ Think about wearing a backpack vs a puffy jacket. Backpack keeps the weight in one spot. Camels do this with fat! Floppy hump = used up their 'backpack' of energy.", keyConcept: "Hump = fat storage for energy, not water. Keeps body cool." },
              { title: "Camel: Desert Survival Features", hook: "Camels survive where other animals die - blazing hot days, freezing nights, sand everywhere. How?", scaffold: "Are camels just tough, OR do they have special body features for every desert problem?", explanation: "Camels are desert SURVIVAL MACHINES: Long eyelashes + extra eyelid = block sandstorms. Close nostrils = keep sand out. Wide flat feet = don't sink in sand (like snowshoes). Can drink 100L in 10 minutes! Can let body temperature rise during day (saves water from sweating). Every part is a desert solution!", activity: "üèúÔ∏è Spread your fingers wide and press on sand/flour (camel foot) vs pointed finger (horse foot). Which sinks less? Wide feet = don't sink in soft ground!", keyConcept: "Every body part solves a desert problem: sand, heat, water." },
              { title: "Polar Bear: Why White Fur?", hook: "Polar bears are white in a world of white snow. Coincidence?", scaffold: "Did they just happen to be white, OR did white fur evolve to make them invisible hunters?", explanation: "Polar bears are HUNTERS who stalk seals. In a white world, white fur = INVISIBLE! Seals don't see them coming until it's too late. But here's the cool part: the fur isn't actually white - each hair is transparent and hollow! It just LOOKS white because of how light bounces around inside. Their skin underneath is actually BLACK (to absorb heat)!", activity: "üéØ Try to spot a white toy on a white bed sheet - hard! Now put a dark toy there - easy! Polar bears chose 'white on white' to be sneaky hunters.", keyConcept: "White fur = camouflage in snow = invisible hunter." },
              { title: "Polar Bear: Arctic Survival", hook: "The Arctic is freezing cold! Polar bears swim in ice water. How don't they freeze?", scaffold: "Do they just tough it out, OR do they have built-in heating and insulation systems?", explanation: "Multiple layers of protection: 1) Black skin absorbs any heat from sun. 2) 10cm of blubber (fat) for insulation. 3) Two layers of fur trap air for warmth. 4) Small ears and tail = less heat loss. 5) Fur on bottom of feet = warm and grippy on ice. They can overheat chasing prey!", activity: "‚ùÑÔ∏è Put your hand in ice water - cold fast! Now wrap hand in a thick sock (blubber) and try - much better! Polar bears have built-in 'socks' everywhere.", keyConcept: "Black skin + blubber + double fur + small ears = Arctic-ready." },
              { title: "Flamingo: Why Pink?", hook: "Flamingos are bright pink, but baby flamingos are grey. What makes them turn pink?", scaffold: "Do they blush permanently, OR does the food they eat literally change their color?", explanation: "YOU ARE WHAT YOU EAT! Flamingos eat tiny shrimp and algae full of 'carotenoids' - the same chemicals that make carrots orange. Their body puts these chemicals into their feathers. More shrimp = pinker bird! In zoos, they add carotenoids to food or flamingos turn white. Baby flamingos are grey until they eat enough shrimp!", activity: "ü•ï Eat LOTS of carrots - your skin can actually turn slightly orange! (Really!) Flamingos do the same thing but with shrimp-pink. You are what you eat!", keyConcept: "Pink color comes from shrimp food. No shrimp = white flamingo." },
              { title: "Flamingo: Why Stand on One Leg?", hook: "Flamingos often stand on ONE leg for hours. That looks tiring! Why not use both?", scaffold: "Are they just showing off, OR does one leg up actually save body heat?", explanation: "It's about HEAT! Flamingos stand in cold water. Legs lose heat fast because they're skinny with no feathers. Tucking one leg up under warm feathers = half the heat loss! Also, their legs have a special locking joint that takes NO muscle effort to stand on one leg. They can even sleep that way!", activity: "ü¶© Stand on one foot - tiring because you use muscles to balance. Flamingos have a 'locked knee' that clicks into place. No effort! Try leaning on a door frame - easy because you're not balancing.", keyConcept: "One leg up = save heat + locking joint = no effort standing." },
              { title: "Penguin: Why Can't They Fly?", hook: "Penguins have wings but can't fly. What happened? Did they forget how?", scaffold: "Did they lose the ability, OR did their wings become better at something else - swimming?", explanation: "Penguins USED to fly, millions of years ago! But they lived where the best food was in the water. Wings that are good for flying are BAD for swimming (too bendy). Over time, penguin wings became stiff, flat FLIPPERS - terrible for flying but AMAZING for swimming. They 'fly' underwater at 22mph! They traded sky for sea.", activity: "üñêÔ∏è Wave your flat hand through air (easy) then through water (resistance!). Now cup your hand and push water (more power!). Penguin flippers push water better than bird wings ever could.", keyConcept: "Wings evolved into flippers = can't fly but swim amazingly." },
              { title: "Penguin: Why the Tuxedo?", hook: "Penguins look like they're wearing a black and white suit. Why that pattern?", scaffold: "Are they just fancy dressers, OR is it camouflage that works from above AND below?", explanation: "It's called COUNTERSHADING! From ABOVE (where flying predators are): black back blends with dark ocean. From BELOW (where seals and orcas are): white belly blends with bright sky/surface. The penguin is camouflaged from BOTH directions at once! Many ocean animals have this pattern.", activity: "üêß Draw a penguin. Now imagine looking down at ocean (dark) - the black back hides. Looking up at surface (bright) - white belly hides. Camouflage from every direction!", keyConcept: "Black back = hide from above. White belly = hide from below." },
              { title: "Kangaroo: Why the Pouch?", hook: "Baby kangaroos live in mum's pouch. No other animals have that! Why do kangaroos need it?", scaffold: "Is the pouch just a baby carrier, OR are kangaroo babies born SO tiny they need an outside womb?", explanation: "Kangaroo babies (joeys) are born CRAZY tiny - about the size of a jellybean! That's way too small to survive outside. The pouch is like an OUTSIDE WOMB! The tiny joey crawls into the pouch, attaches to a nipple, and keeps developing for months. It's safer than a long pregnancy if predators attack - mum can escape easier!", activity: "ü´ò A jellybean is about the size of a newborn joey! That tiny baby has to crawl through fur to find the pouch. The pouch keeps it warm and fed until it's big enough for the world.", keyConcept: "Pouch = outside womb for extremely premature babies." },
              { title: "Kangaroo: Why Hop Instead of Run?", hook: "Kangaroos don't walk or run - they BOUNCE. That seems weird. Why hop?", scaffold: "Is hopping just for fun, OR is it actually MORE energy-efficient than running?", explanation: "Hopping is SUPER EFFICIENT at high speeds! Kangaroo legs work like pogo sticks - tendons store energy from each landing and release it for the next hop. FREE energy! At high speeds, a hopping kangaroo uses LESS energy than a running horse the same size. They can cruise at 25mph while barely trying!", activity: "üèÄ Bounce a ball - it comes back up using stored energy from the bounce. Kangaroo tendons do this! Now try hopping yourself - your legs get tired because human legs don't store bounce energy as well.", keyConcept: "Legs like springs = store and reuse energy = efficient bouncing." },
              { title: "Crocodile: Why Eyes on Top?", hook: "Crocodile eyes are on TOP of their head, not on the front or sides. Why up there?", scaffold: "Is it a design mistake, OR perfect for being a sneaky underwater ambush predator?", explanation: "Crocs are AMBUSH hunters! They float mostly underwater with JUST eyes and nostrils above surface. They can breathe and see while being 99% invisible! Fish and animals at the water's edge don't notice the 'log' until SNAP! Eyes on top = periscope mode for underwater spying.", activity: "üêä Float in a bath with just your eyes above water. You can see everything but you're almost invisible! Crocodiles hunt like this. Eyes on top = perfect for this sneaky style.", keyConcept: "Eyes on top = see while almost fully hidden underwater." },
              { title: "Crocodile: Why 80 Teeth?", hook: "Crocodiles have about 80 teeth! And they keep growing new ones their whole life. Why so many?", scaffold: "Do they need that many for chewing, OR are croc teeth for GRABBING and they don't chew at all?", explanation: "Crocs don't CHEW - they GRAB and HOLD! Those 80 teeth are like prison bars that lock onto prey. Then crocs either swallow small prey whole or do a 'death roll' to rip chunks off big prey. Teeth break often from this violence, so crocs can regrow teeth their whole life - up to 8,000 teeth over a lifetime!", activity: "ü¶∑ Look at your teeth - some are flat for grinding, some are sharp for biting. Crocs have ALL pointy grabbing teeth. They swallow food whole - no chewing needed!", keyConcept: "Teeth grab and hold. Endless replacements waiting." },
              { title: "Rabbit: Why the Big Ears?", hook: "Rabbits have HUGE ears compared to their head. Way bigger than they need just for hearing. Why?", scaffold: "Is it just to look cute, OR do big ears help them hear danger AND cool down their body?", explanation: "Rabbit ears do TWO jobs! 1) RADAR DISHES: Big ears catch more sound waves = hear predators from far away. They can rotate ears independently to locate sounds from any direction! 2) AIR CONDITIONERS: Ears are full of blood vessels near the surface. Wind blowing over them cools the blood down. Rabbits can't sweat, so ears release heat! Desert rabbits have even BIGGER ears.", activity: "üê∞ Cup your hands behind your ears - sounds louder, right? Now fan your ears - feels cooler! Rabbit ears are permanently big for both effects.", keyConcept: "Big ears = hear danger + release body heat." },
              { title: "Rabbit: Why Hop with Big Back Legs?", hook: "Rabbits have tiny front legs but HUGE back legs. Why so uneven?", scaffold: "Is it a design mistake, OR are big back legs ESCAPE ROCKETS from predators?", explanation: "Rabbits are prey animals - they NEED to escape fast! Those huge back legs are spring-loaded for explosive speed. From standing still, a rabbit can LAUNCH up to 3 meters in one bound! While running, they can zigzag unpredictably - those big back legs change direction instantly. Front legs are just for landing. Back legs are the power source!", activity: "üöÄ Try jumping forward with your legs together (small jump). Now really crouch and use your legs like springs (big jump!). Rabbit legs are in permanent 'big spring' mode - always ready to explode!", keyConcept: "Giant back legs = explosive escape speed." },
              { title: "Zebra: Why Stripes?", hook: "Zebras have black and white stripes all over. That seems like it would stand out! Why not blend in?", scaffold: "Do the stripes make them easy to spot, OR do they confuse predators when zebras run together?", explanation: "Stripes create CONFUSION! When a herd of zebras runs together, all those stripes mixing creates a dazzling blur. A lion can't tell where one zebra ends and another begins! Hard to pick a target when everything's swirling stripes. The stripes might also confuse biting flies (they can't land properly on stripy surfaces). It's like nature's dazzle camouflage!", activity: "ü¶ì Spin a black-and-white striped top (or draw stripes on paper and spin it) - the stripes blur together! Imagine 20 zebras running and mixing their stripes. Dizzy!", keyConcept: "Stripes blur together = confuses predators." },
              { title: "Snake: Why No Legs?", hook: "Snakes slither on their bellies. Most animals have legs. What happened to snake legs?", scaffold: "Did snakes lose a bet, OR did having no legs become an ADVANTAGE for their lifestyle?", explanation: "Snake ancestors DID have legs! But snakes evolved to live in tight spaces - underground burrows, thick bushes, narrow rock cracks. Legs just got in the way! Over millions of years, legs got smaller and disappeared. Now snakes can slide into spaces no legged animal can reach. Their flexible spine has up to 400 vertebrae (you have 33!) letting them bend anywhere.", activity: "üêç Try crawling into a narrow space on your hands and knees. Hard! Now army-crawl on your belly - you can squeeze through smaller gaps! Snakes are pro belly-crawlers.", keyConcept: "No legs = slip into tight spaces others can't." },
              { title: "Snake: Why the Forked Tongue?", hook: "Snakes keep flicking out a forked tongue. It looks creepy. What's it doing?", scaffold: "Is the snake being rude, OR is its tongue SMELLING the air?", explanation: "Snakes smell with their tongue! They flick it out to grab tiny scent particles from the air. The fork shape lets them sample TWO spots at once - left and right. If there's more scent on the left fork, prey is to the left! They bring the tongue back in and touch it to a special 'Jacobson's organ' on the roof of their mouth that reads the smells. It's like having two noses on a stick!", activity: "üëÉ Close your eyes and sniff the air. Can you tell which direction a smell is coming from? Hard! Now imagine smelling from two separate spots at once - you'd know exactly where the smell is. That's the forked tongue!", keyConcept: "Forked tongue = smell in stereo to locate prey." }
            ]
          }
        }
      },
      cars: {
        id: 'cars', name: 'Cars & Machines', icon: 'üöó',
        gradient: 'gradient-cars',
        description: 'How engines, wheels, and vehicles work',
        chapters: {
          1: {
            title: 'Wheels & Rolling', icon: 'üõû',
            description: 'Why round things roll',
            lessons: [
              { title: "Why are wheels round?", hook: "Wheels are circles. But why? Why not squares or triangles?", scaffold: "Is round just prettier, OR does round roll smoothly while other shapes would bump?", explanation: "Round wheels keep the axle at a CONSTANT height! Every point on a circle is the same distance from the center. So as it rolls, the car stays level. A square wheel would go up and down with each corner - bump bump bump! Triangles would be even worse. Round = smooth ride.", activity: "üîµ Roll a ball across a table (smooth!). Now try rolling a cube or box - it tumbles and bumps! The corners hit the ground and push the box up each time. Round things keep the same height.", keyConcept: "Round = constant distance from center = smooth roll." },
              { title: "Why do tyres have grooves?", hook: "Tyres have patterns cut into them. Why not smooth tyres?", scaffold: "Are grooves just for decoration, OR do they push water away so tyres don't slip?", explanation: "The grooves are RAIN CHANNELS! On wet roads, water can get between the tyre and road. If water stays there, the tyre floats on it (hydroplaning) and can't grip = you slide! Grooves give water a path to escape. Water squeezes into the grooves and squirts out the sides. Rubber touches road = grip!", activity: "üíß Press your flat hand on a wet table - it slides! Now spread your fingers and press - water escapes between fingers and you grip better. Tyre grooves are like finger gaps!", keyConcept: "Grooves channel water away = rubber can grip wet roads." },
              { title: "Why do racing cars have smooth tyres?", hook: "But wait - racing cars have NO grooves! If grooves help grip, why smooth?", scaffold: "Are racing teams silly, OR do smooth tyres grip BETTER on DRY tracks?", explanation: "On DRY roads, more rubber touching the ground = more grip! Grooves reduce the rubber contact area. Racing tyres are called 'slicks' - 100% rubber contact for maximum grip. But they're TERRIBLE in rain because they can't channel water. That's why races sometimes stop in heavy rain or switch to grooved 'wet' tyres!", activity: "üèéÔ∏è Press your whole hand flat on a surface - lots of contact. Now just press with fingers spread (like grooves) - less touching. Slicks = whole hand. Grooved = fingers spread.", keyConcept: "Dry = smooth for max grip. Wet = grooves to move water." },
              { title: "Why does a bigger wheel roll over bumps easier?", hook: "Trucks have big wheels. Skateboards have tiny wheels. What difference does size make?", scaffold: "Do big wheels just look cool, OR do they literally roll over obstacles that would stop small wheels?", explanation: "Picture hitting a curb: a small wheel hits it like a WALL - stops dead. A big wheel hits the same curb as a small bump in its curve - rolls right over! The bigger the wheel, the smaller bumps FEEL to it. That's why monster trucks can drive over cars and bikes struggle with potholes.", activity: "üö≤ Roll a marble at a pencil lying down - it stops! Roll a tennis ball at the same pencil - goes right over. The pencil is big compared to marble, tiny compared to tennis ball.", keyConcept: "Big wheels 'shrink' obstacles into small bumps they can roll over." }
            ]
          },
          2: {
            title: 'How Engines Work', icon: 'üîß',
            description: 'Turning fuel into movement',
            lessons: [
              { title: "What makes a car go?", hook: "You press the pedal and the car zooms forward. What's actually pushing it?", scaffold: "Does the car have magic go-juice, OR does burning fuel make tiny explosions that push the wheels?", explanation: "Cars run on EXPLOSIONS! Inside the engine, fuel and air mix in small tubes called 'cylinders'. A spark ignites it - BANG! The explosion pushes a piston down. That piston is connected to rods that turn the wheels. Thousands of tiny explosions per minute = smooth driving power!", activity: "üí• Clap your hands hard - feel the push? Imagine a clap 1000x stronger, happening thousands of times a minute. That's what's happening inside an engine - explosions pushing pistons!", keyConcept: "Fuel + air + spark = explosion = piston pushed = wheels turn." },
              { title: "Why do cars need petrol or diesel?", hook: "Cars drink petrol or diesel. What's special about those liquids?", scaffold: "Can cars run on any liquid, OR do fuel molecules contain stored energy that gets released when burned?", explanation: "Petrol and diesel are made of molecules that have ENERGY locked inside the bonds between atoms. When you burn them (add heat + oxygen), those bonds BREAK and release the energy as heat and expanding gases. That expansion pushes the pistons. Water doesn't have those energy-rich bonds - nothing to release!", activity: "üî• Ask an adult to light a candle - the wax has energy in its bonds, releasing as heat and light. Water can't burn because it doesn't have those energy bonds. Fuel = burnable energy storage!", keyConcept: "Fuel has energy stored in molecular bonds. Burning releases it." },
              { title: "How do electric cars work?", hook: "Electric cars don't have explosions. So what makes them go?", scaffold: "Do they use magic electricity, OR do electric motors spin using the push and pull of magnets?", explanation: "Electric cars use MOTORS instead of engines. Motors work with magnets! Inside are magnets on a spinning shaft. Electricity flowing through coils creates CHANGING magnetic fields. These push and pull the magnets, making the shaft spin super fast. Battery stores electricity ‚Üí motor spins magnets ‚Üí wheels turn. No explosions, no exhaust, much quieter!", activity: "üß≤ Put two magnets near each other - they push or pull! Now imagine flipping the push/pull super fast in a circle. The magnet would SPIN! That's what electricity does in a motor.", keyConcept: "Electricity creates magnetic fields that push and pull, spinning the motor." },
              { title: "Why do cars get hot?", hook: "After a drive, the bonnet is hot! Why does the car heat up?", scaffold: "Does the sun heat it up, OR do all those explosions create heat that needs to escape?", explanation: "Those explosions are HOT! Not all the energy from burning fuel goes to motion - about 70% becomes HEAT. If it stayed in the engine, it would melt! So cars have a cooling system: liquid flows around the hot engine parts, absorbs heat, goes to the radiator at the front, wind cools it down, liquid goes back for more heat. Constantly cycling!", activity: "ü•µ After running hard, you're hot! Blood flows to your skin to release heat (you go red). A car's coolant is like blood - moving heat from engine to radiator (skin) where it escapes.", keyConcept: "Explosions = lots of heat. Coolant carries heat to radiator to escape." }
            ]
          },
          3: {
            title: 'Brakes & Stopping', icon: 'üõë',
            description: 'How to slow down safely',
            lessons: [
              { title: "What makes a car stop?", hook: "Press the brake pedal and the car slows down. What's grabbing the wheels?", scaffold: "Do invisible hands grab the wheels, OR do brake pads squeeze against spinning discs to create friction?", explanation: "Brake pads squeeze the wheels! Next to each wheel is a metal disc spinning with it. When you brake, pads clamp onto that disc - HARD. The friction between pad and disc turns the wheel's motion energy into HEAT. The wheel slows down because its energy is being converted to heat!", activity: "üñêÔ∏è Rub your hands together fast - they get warm! The friction turns motion into heat. Brakes do the same thing at huge scale. After hard braking, discs can glow red hot!", keyConcept: "Brake pads squeeze spinning disc = friction = motion ‚Üí heat = stop." },
              { title: "Why do brakes get hot?", hook: "After driving down a mountain with lots of braking, brakes can glow red! Why so hot?", scaffold: "Is there fire in there, OR does ALL that motion energy have to go somewhere - into heat?", explanation: "Energy can't disappear - it just changes form! A moving car has lots of energy. When you brake, that motion energy doesn't vanish - it becomes HEAT in the brakes. More speed or more stopping = more heat. Mountain driving = constant braking = LOTS of heat. If brakes get too hot, they stop working (brake fade) because the pads can't grip!", activity: "üì¶ Push a box across carpet - feel the carpet get warm? All your pushing energy went into friction heat. Now imagine converting ALL of a car's motion to heat - that's a LOT!", keyConcept: "Motion energy ‚Üí friction ‚Üí heat. More braking = more heat." },
              { title: "Why do trucks have so many wheels?", hook: "Trucks have 10, 18, even 22 wheels! Why not just 4 like a car?", scaffold: "Do they just like wheels, OR does more wheels = more grip and spread out the weight?", explanation: "Two reasons! 1) More GRIP: Each tyre can only produce so much braking force. 10 tyres = more total braking power. Heavy truck needs more grip to stop! 2) WEIGHT DISTRIBUTION: Heavy loads would crush regular tyres. More wheels = weight spread out = each tyre carries less = tyres survive. It's like lying on a bed of nails - more points = less pressure each!", activity: "üìö Hold a heavy book on one finger (ouch!). Now hold it on your whole palm (easy). More contact points = pressure spread out = easier to handle.", keyConcept: "More wheels = more grip for braking + spread weight across more points." }
            ]
          },
          4: {
            title: 'Steering & Turning', icon: 'üîÑ',
            description: 'How cars go around corners',
            lessons: [
              { title: "How does the steering wheel turn the tyres?", hook: "You turn the wheel and the car turns. What connects them?", scaffold: "Are they connected by magic, OR by rods and gears that convert wheel spin to tyre angle?", explanation: "There's a whole system! The steering wheel connects to a 'steering column' (long rod) going down into the engine bay. At the bottom, gears convert your turning into side-to-side movement. Rods connect to the front wheels and push/pull them to angle left or right. Small turn of wheel = small turn of tyres!", activity: "üö≤ Look at a bicycle - turn the handlebars and the front wheel turns directly (no gears). Cars add gears to make it easier - small movement of your hands = big effect on wheels.", keyConcept: "Steering wheel ‚Üí column ‚Üí gears ‚Üí rods ‚Üí wheels turn." },
              { title: "Why do only front wheels turn?", hook: "Most cars only turn the FRONT wheels. Why not all four?", scaffold: "Is it cheaper to make, OR does turning only front wheels let the car pivot around the back wheels?", explanation: "Front-wheel steering is simpler and works great! The front wheels AIM where you want to go, the back wheels FOLLOW in a smooth arc. If back wheels turned too, the car would 'crab' sideways - harder to control! Some forklifts DO have rear steering for tight turns. Some fancy cars have 4-wheel steering at high speeds for stability.", activity: "üõí Push a shopping trolley normally - easy curves! Now try pushing it sideways - chaotic! Front steering is more natural and predictable.", keyConcept: "Front wheels aim, back wheels follow in an arc = predictable turning." },
              { title: "Why is turning harder at high speed?", hook: "A sharp turn at slow speed is fine. Same turn at high speed = SCARY or crash! Why?", scaffold: "Does the car get scared, OR does speed create sideways force that tyres struggle to grip?", explanation: "It's about GRIP! When you turn, the car wants to keep going straight (inertia). Tyres have to push you sideways into the turn. At low speed = small sideways force = tyres grip fine. At high speed = HUGE sideways force. If the force is bigger than tyres can grip, you SLIDE. That's why you slow down for turns!", activity: "üèÉ Try turning sharply while walking (easy). Now run fast and try the same sharp turn - you skid! Your feet have the same grip problem as tyres at high speed.", keyConcept: "High speed + turn = more sideways force than tyres can grip = slide!" }
            ]
          },
          5: {
            title: 'Fuel & Energy', icon: '‚õΩ',
            description: 'What powers our vehicles',
            lessons: [
              { title: "Where does petrol come from?", hook: "We fill cars with petrol. Where does petrol come from originally?", scaffold: "Is petrol made in factories, OR is it ancient dead creatures transformed by millions of years of pressure?", explanation: "Petrol is DINOSAUR JUICE! Well, sort of. Millions of years ago, tiny sea creatures and plants died and sank to the ocean floor. Over millions of years, mud covered them, pressure built up, heat increased. Slowly they transformed into crude oil! We drill it up and refine it into petrol, diesel, and plastic. Fossil FUEL because it comes from fossils!", activity: "‚è∞ The petrol in your car is made from creatures that lived 300 MILLION years ago - before dinosaurs! It took that long to cook. That's why it's called 'non-renewable' - we can't make more quickly.", keyConcept: "Petrol = ancient organisms transformed by millions of years of heat/pressure." },
              { title: "What is a hybrid car?", hook: "Some cars are called 'hybrids'. What does that mean?", scaffold: "Is it half car half something else, OR does it have BOTH a petrol engine AND an electric motor?", explanation: "Hybrid means TWO power sources! Hybrid cars have a petrol engine AND an electric motor with batteries. At low speeds (city driving), the electric motor runs - quiet and efficient. At high speeds (motorway), the petrol engine takes over - more power. When braking, the motor becomes a generator, charging the batteries! Best of both worlds.", activity: "üîã Think of having both a bicycle AND a scooter. Use the bike for short easy trips, scooter for longer ones. A hybrid car switches between electricity and petrol the same way!", keyConcept: "Hybrid = petrol engine + electric motor. Switches for efficiency." },
              { title: "Why do electric cars have big batteries?", hook: "Electric car batteries are HUGE and heavy. Why so big?", scaffold: "Are bigger batteries just fancier, OR does more battery = more stored energy = longer range?", explanation: "Batteries are heavy and don't store as much energy as petrol for their weight. A tank of petrol is light but full of energy. To go the same distance on electricity, you need A LOT of batteries. That's why electric cars are heavier. The battery in a Tesla weighs about 500kg! Technology is improving - batteries are getting smaller and more powerful.", activity: "üîã Compare: a small phone battery lasts a day. A car needs to drive 300+ miles! That requires THOUSANDS of phone batteries worth of energy storage.", keyConcept: "Batteries store less energy per kg than petrol = need big/heavy batteries for range." }
            ]
          },
          6: {
            title: 'Safety Features', icon: 'üõ°Ô∏è',
            description: 'How cars protect people',
            lessons: [
              { title: "Why do cars have seatbelts?", hook: "You must wear a seatbelt. What's it actually protecting you from?", scaffold: "Is it just a rule adults made up, OR does physics make your body keep moving even when the car stops suddenly?", explanation: "It's all about INERTIA! When a car stops suddenly, the car stops but YOUR BODY KEEPS MOVING at the same speed. Without a seatbelt, you'd smash into the steering wheel or windscreen at full speed. The seatbelt stops YOUR body by spreading the force across your strong hip bones and chest. It saves lives!", activity: "üßç Have someone push a toy car with a figure standing on it, then stop the car suddenly - the figure flies forward! That's you without a seatbelt. Now 'belt' the figure down - it stays safe.", keyConcept: "Car stops suddenly, body keeps moving. Seatbelt stops body safely." },
              { title: "How do airbags work?", hook: "In a crash, bags EXPLODE out of the steering wheel and dashboard. How do they work so fast?", scaffold: "Are they pre-inflated and just released, OR do they inflate in milliseconds using a chemical explosion?", explanation: "Airbags inflate in about 30 MILLISECONDS - faster than you can blink! Sensors detect sudden deceleration (crash). They trigger a tiny explosion that produces a gas (usually nitrogen) which FILLS the bag instantly. The bag catches your head and chest, slowing them down gently instead of hitting the hard dashboard. Then the bag deflates so you're not trapped.", activity: "‚è±Ô∏è A blink takes about 300 milliseconds. An airbag inflates in 30ms - TEN TIMES faster than a blink! By the time you realize there's a crash, the airbag is already full.", keyConcept: "Sensor detects crash ‚Üí tiny explosion makes gas ‚Üí bag inflates in 30ms." },
              { title: "Why do cars crumple in crashes?", hook: "Modern cars crumple like a crushed can in crashes. Old cars stayed solid. Isn't solid better?", scaffold: "Are new cars weaker and worse, OR does crumpling actually absorb energy to protect the people inside?", explanation: "Crumpling SAVES LIVES! When a car hits something, it needs to stop. If the car is rigid, it stops INSTANTLY - all that force goes into the passengers (bad!). But if the front crumples, the car slows down over a longer time - less force on passengers. The crumpling metal absorbs the energy. The passenger cabin stays rigid to protect you, but the front and back are designed to crush!", activity: "ü•ö Drop an egg onto concrete from 30cm - it breaks! Now put the egg in a box stuffed with crumpled paper and drop it - the paper crushes and the egg survives. The car's crumple zones are like that paper!", keyConcept: "Crumpling front absorbs energy = less force on passengers inside." }
            ]
          }
        }
      },
      kitchen: {
        id: 'kitchen', name: 'Kitchen Science', icon: 'üç´',
        gradient: 'gradient-kitchen',
        description: 'Why food does what it does',
        chapters: {
          1: {
            title: 'Melting & Freezing', icon: 'üßä',
            description: 'Why chocolate melts in your hand',
            lessons: [
              { title: "Why did chocolate melt in my hand?", hook: "You held chocolate and it got soft and melty. But it was solid before! What happened?", scaffold: "Did your hand break the chocolate, OR did HEAT from your hand make it change from solid to liquid?", explanation: "Your hand is WARM (about 37¬∞C) and chocolate melts at about 34¬∞C - that's LOWER than your body temperature! When you hold chocolate, heat flows from your warm hand INTO the cold chocolate. That heat energy makes the tiny particles in chocolate jiggle faster and faster until they break free from their solid shape and slide around as liquid.", activity: "üç´ Hold chocolate in one hand and an ice cube in the other. Which melts faster? Chocolate! Because chocolate's melting point (34¬∞C) is lower than ice's (0¬∞C) but CLOSER to your hand temperature.", keyConcept: "Your body (37¬∞C) is warmer than chocolate's melting point (34¬∞C) = melts in your hand!" },
              { title: "Why doesn't chocolate melt on the table?", hook: "Chocolate melts in your hand but sits on the table just fine. Why doesn't the table melt it?", scaffold: "Is the table magic, OR is the table just NOT WARM ENOUGH to melt chocolate?", explanation: "The table is at 'room temperature' - about 20¬∞C. But chocolate needs 34¬∞C to melt! The table is 14 degrees too cold. Your hand at 37¬∞C is 3 degrees ABOVE chocolate's melting point - that's why it melts. Things only melt when they reach THEIR specific melting point.", activity: "üå°Ô∏è Put chocolate in the fridge (cold), on the table (room temp), and hold some. Only your hand melts it! Each location has different temperature, only hand is above 34¬∞C.", keyConcept: "Room temperature (20¬∞C) < chocolate's melting point (34¬∞C) = stays solid." },
              { title: "What IS melting, actually?", hook: "When something melts, what's actually happening inside it?", scaffold: "Does stuff disappear, OR do the tiny particles just start moving differently?", explanation: "Everything is made of tiny particles (molecules). In a SOLID like chocolate, particles are locked together in a pattern - they vibrate but stay in place. When you add HEAT, particles vibrate faster until they shake loose! Now they slide around freely = LIQUID. Same particles, just moving differently!", activity: "üë´ Stand still holding hands with family (solid). Now let go and walk around freely (liquid). Now run everywhere (gas)! Same people, different movement = different states of matter!", keyConcept: "Solid = locked. Liquid = sliding. Gas = flying. Same particles, different energy!" },
              { title: "Why does ice cream melt fast?", hook: "Ice cream turns to soup really fast! Ice cubes last longer. Both are frozen, why different?", scaffold: "Is ice cream weaker, OR does it have a lower melting point because of what's in it?", explanation: "Ice is pure frozen water - melts at 0¬∞C. Ice cream has SUGAR and FAT mixed in! These ingredients get in the way of water molecules trying to lock together. It's like trying to stack blocks when marbles are thrown in. The mixture can't form as strong a solid, so it melts at LOWER temperature!", activity: "üß™ Make two ice cubes: one pure water, one with lots of sugar. Freeze both. Race them - the sugary one melts faster! Sugar weakens the ice structure.", keyConcept: "Sugar + fat weaken ice structure ‚Üí melts at lower temperature." },
              { title: "What are solids, liquids and gases?", hook: "Water can be ice, liquid water, or steam. What's changing?", scaffold: "Does water become different things, OR is it the same particles just moving differently?", explanation: "It's the SAME particles behaving differently! SOLID: Particles locked tight, vibrating in place. LIQUID: Particles sliding past each other, staying close. GAS: Particles zooming everywhere, spreading out. Same H2O molecules, just different energy!", activity: "üëØ Act it out! Solid: Stand holding hands, just wiggling. Liquid: Let go, walk around bumping. Gas: Run around the whole room spreading out!", keyConcept: "Solid = locked. Liquid = sliding. Gas = zooming. Same stuff, different energy!" }
            ]
          },
          2: {
            title: 'Cooking Changes Food', icon: 'üç≥',
            description: 'Why cooked food is different forever',
            lessons: [
              { title: "Why does popcorn POP?", hook: "A hard little kernel EXPLODES into fluffy popcorn! What's happening?", scaffold: "Is there a bomb inside, OR is there WATER that turns to steam and bursts the shell?", explanation: "There's WATER trapped inside each kernel! When you heat it, water turns to STEAM. Steam takes up MUCH more space than water (1,600 times more!). Pressure builds inside the hard shell until... POP! The shell explodes and starchy insides puff out!", activity: "üçø Count how many kernels pop vs don't. The ones that don't probably lost their water ('old maids'). Water inside is the secret to the POP!", keyConcept: "Water inside ‚Üí heat makes steam ‚Üí 1,600x expansion ‚Üí shell EXPLODES!" },
              { title: "Why does bread have holes?", hook: "Look inside bread - it's full of holes! What made all those air pockets?", scaffold: "Did someone poke holes, OR did something ALIVE breathe gas bubbles inside?", explanation: "YEAST made those holes! Yeast is a tiny living fungus. When you make bread dough, yeast EATS the sugar and breathes out carbon dioxide gas. Those bubbles get trapped in stretchy dough, making it rise. When baked, yeast dies but bubbles stay = holes!", activity: "ü´ß Mix yeast, warm water, and sugar in a bottle. Put a balloon on top. Wait 15 minutes - balloon inflates! Yeast is breathing out gas. Same gas makes bread fluffy!", keyConcept: "Yeast eats sugar ‚Üí breathes out CO2 ‚Üí bubbles make bread rise and holey." },
              { title: "Why can't you un-cook an egg?", hook: "Raw egg is runny. Cooked egg is solid. Why can't you un-cook it back to runny?", scaffold: "Is cooked egg just warm, OR did heat PERMANENTLY change the egg's structure?", explanation: "Cooking an egg causes a CHEMICAL CHANGE - permanent! Raw egg whites have proteins all tangled like messy headphones. When heated, proteins UNFOLD and stick to each other in a new permanent pattern. You can't untangle them! Melting chocolate is reversible. Cooking egg is forever.", activity: "üç≥ Watch an egg cook - see white part go from clear to white? That's proteins tangling permanently! Try to make cooked egg runny again - impossible!", keyConcept: "Cooking tangles proteins permanently. Can't be reversed!" },
              { title: "Why does toast turn brown?", hook: "Bread is pale and soft. Toast is brown and crunchy. What changed?", scaffold: "Did you just dry the bread, OR did heat cause a chemical reaction creating new stuff?", explanation: "The MAILLARD REACTION! When bread gets hot enough (above 140¬∞C), sugars and proteins REACT together creating hundreds of new compounds - including brown colors and DELICIOUS flavors. This is actual chemistry in your toaster. Too much = burnt and bitter.", activity: "üçû Toast bread lightly vs longer. Taste both - different flavors! Darker = more Maillard reaction = more new flavor molecules created.", keyConcept: "Maillard reaction: heat + sugars + proteins = brown color + yummy flavors!" },
              { title: "Why does onion make you cry?", hook: "Cutting onion makes your eyes sting and water. What's attacking you?!", scaffold: "Is onion just smelly, OR does it release a chemical weapon?", explanation: "Onion has CHEMICAL DEFENCE! When you cut it, you break cells. Chemicals inside react to form a GAS that floats to your eyes. It reacts with water in your eyes to form tiny bit of ACID! Your eyes make tears to wash it away. You're being attacked by onion chemical warfare!", activity: "üßÖ Cut onion near running water or with swimming goggles - less tears! The gas either washes away or gets blocked before reaching your eyes.", keyConcept: "Cut onion releases gas ‚Üí gas hits eye water ‚Üí forms acid ‚Üí tears!" }
            ]
          },
          3: {
            title: 'Hot & Cold', icon: 'üå°Ô∏è',
            description: 'How heat moves around',
            lessons: [
              { title: "What actually IS heat?", hook: "We say things are 'hot' or 'cold' but what IS heat?", scaffold: "Is heat a thing that flows, OR is it just particles moving fast?", explanation: "Heat is ENERGY of movement! Everything is made of particles that jiggle. When particles jiggle FAST = hot. When they jiggle SLOWLY = cold. Heat isn't a 'thing' - it's how much energy particles have. Fast particles bump into slow ones and transfer energy - that's 'heat flowing'!", activity: "üèÉ Run around then hold hands with someone still. They'll feel your warmth! Fast particles (you) transferred energy to slow particles (them). That's heat flow!", keyConcept: "Heat = particle movement energy. Fast = hot. Slow = cold." },
              { title: "Why does heat flow from hot to cold?", hook: "Put ice in warm water - ice melts, water cools. Heat always goes hot to cold. Why?", scaffold: "Is there a rule, OR do fast particles just bump into slow particles and share energy?", explanation: "Imagine people running (hot) and standing (cold) in a room. Running people bump into standing people, making them move. Runners slow down, standers speed up, until everyone moves medium speed. Particles do this automatically! Fast shares with slow until equal.", activity: "ü•∂ Hold an ice cube. Your hand feels cold because heat flows FROM your hand INTO the ice. You're not adding cold - you're LOSING heat!", keyConcept: "Fast (hot) particles share energy with slow (cold) particles until even." },
              { title: "Why does metal feel colder than wood?", hook: "Touch a metal spoon and wooden spoon in same room. Metal feels colder! But they're same temperature. Why?", scaffold: "Is metal actually colder, OR does it steal heat from your hand faster?", explanation: "They're the SAME temperature! But metal is a 'conductor' - heat flows through it fast. When you touch metal, it steals heat from your hand quickly, so your hand cools fast = feels 'cold'. Wood is an 'insulator' - heat flows slowly. You're feeling how fast you LOSE HEAT, not actual temperature!", activity: "ü•Ñ Touch metal, wood, and plastic in your kitchen. Same room = same temperature! But they feel different because they steal heat at different speeds.", keyConcept: "You feel how fast heat leaves your hand, not actual temperature!" },
              { title: "Why do we wear jumpers when cold?", hook: "When cold, we put on jumpers. How does a jumper make you warm?", scaffold: "Does the jumper make heat, OR does it trap heat YOUR body makes?", explanation: "Jumpers don't make ANY heat - YOU do! Your body is always making heat (that's why you're 37¬∞C). In cold weather, heat ESCAPES too fast. A jumper creates trapped air, and air is a bad conductor - heat flows slowly through it. Your body heat stays near you instead of escaping!", activity: "üß• Feel outside of your jumper (cool) then inside against skin (warm). The jumper isn't warm - it's keeping YOUR heat IN!", keyConcept: "Jumpers don't make heat. They trap YOUR body heat using air pockets." }
            ]
          }
        }
      },
      nature: {
        id: 'nature', name: 'Plants & Growing Things', icon: 'üå±',
        gradient: 'gradient-nature',
        description: 'Mushrooms, plants, and how things grow',
        chapters: {
          1: {
            title: 'Marvellous Mushrooms', icon: 'üçÑ',
            description: 'Why mushrooms are NOT plants!',
            lessons: [
              { title: "Is a mushroom a plant?", hook: "Mushrooms grow from the ground like plants. So they're plants, right?", scaffold: "Are mushrooms weird-looking plants, OR something completely DIFFERENT?", explanation: "Mushrooms are NOT plants - they're FUNGI, completely different! Plants are green because they make food from sunlight. Mushrooms have NO green and don't need sunlight at all. They EAT dead things - old leaves, dead wood, rotting stuff. They're nature's recyclers! Scientists say fungi are actually more related to ANIMALS than plants!", activity: "üîç Compare: Plants have green leaves for sunlight. Mushrooms have no green. Plants need sun. Mushrooms grow in dark forests. Totally different!", keyConcept: "Mushrooms are FUNGI, not plants. They eat dead things, not sunlight." },
              { title: "What's the mushroom we see?", hook: "When we see a mushroom popping up, what IS that part?", scaffold: "Is the mushroom the whole organism, OR just a small part of something HUGE underground?", explanation: "The mushroom is like the FRUIT on a tree - just a small part! The main body is hidden underground as tiny threads called MYCELIUM spreading everywhere like a web. These threads can cover an entire forest! The mushroom pops up just to release SPORES (seeds) into the air.", activity: "üçé An apple isn't the whole tree - it's just fruit! The real tree is the trunk and roots. Mushrooms are the 'fruit' - the real fungus is a massive hidden web underground!", keyConcept: "Mushroom = just the 'fruit'. Real fungus = giant underground web of threads." },
              { title: "What do mushrooms eat?", hook: "Plants eat sunlight. Animals eat plants or animals. What do mushrooms eat?", scaffold: "Do mushrooms eat soil, OR dead and rotting things?", explanation: "Mushrooms are nature's RECYCLERS! They eat dead things - fallen leaves, dead trees, even dead animals. Their underground threads release juices that break down dead stuff, then absorb it like a sponge. Without fungi, dead leaves would pile up forever! They turn dead things back into soil.", activity: "üçÇ Find a rotting log - you might see white threads (mycelium) or small mushrooms! The fungi are eating the dead wood and turning it back into soil.", keyConcept: "Mushrooms eat dead things and turn them back into soil. Nature's recyclers!" },
              { title: "Why do mushrooms pop up after rain?", hook: "After rain, mushrooms appear everywhere! Where do they come from so fast?", scaffold: "Do mushrooms fall from clouds, OR were they hiding underground waiting for water?", explanation: "The fungus is ALWAYS there underground as threads! But growing a mushroom takes lots of water. When rain soaks the ground, the fungus quickly builds a mushroom and pushes it up. Mushrooms are mostly water (90%!) so they grow super fast - some pop up overnight!", activity: "üåßÔ∏è After rain, go mushroom hunting in parks (just looking!). You'll find more than on dry days. The fungi were waiting underground for water!", keyConcept: "Fungi live underground always. Rain gives water to quickly grow mushrooms." },
              { title: "Why are some mushrooms poisonous?", hook: "Some mushrooms can make you very sick. Why would they be poisonous?", scaffold: "Are poisonous mushrooms mean, OR is poison their defense against being eaten?", explanation: "Poison is DEFENCE! Animals want to eat mushrooms, but if eaten, mushrooms can't spread spores. So some evolved poison - animals eat them once, get sick, learn to NEVER eat that type again. Poison says 'leave me alone!' NEVER eat wild mushrooms - some deadly ones look like safe ones!", activity: "üö´ IMPORTANT: Never eat wild mushrooms unless an expert says safe! Some poisonous ones look almost exactly like safe ones. Only eat shop mushrooms!", keyConcept: "Poison protects mushrooms from being eaten. NEVER eat wild mushrooms!" },
              { title: "How do mushrooms spread?", hook: "Mushrooms don't have seeds like plants. How do new mushrooms grow?", scaffold: "Do mushrooms crawl to new places, OR release tiny SPORES that float through air?", explanation: "Look under a mushroom cap - see lines or holes? Those release SPORES - dust-sized seeds! One mushroom releases BILLIONS of spores into the air. They float on wind far away. When a spore lands somewhere good, it grows into new fungus threads!", activity: "üî¨ Put a mushroom cap on white paper, cover with bowl, leave overnight. See the spore print! Those tiny specks could each become new fungi!", keyConcept: "Mushrooms release billions of tiny spores that float on air to spread." }
            ]
          },
          2: {
            title: 'How Plants Work', icon: 'üåø',
            description: 'The magic of sunlight to food',
            lessons: [
              { title: "Why are plants green?", hook: "Most plants are green - leaves, stems, grass. Why green? Why not blue or pink?", scaffold: "Do plants just like green, OR is there something IN them that makes them green?", explanation: "Plants are green because of CHLOROPHYLL! Chlorophyll's job is to catch sunlight to make food. Here's the cool part: chlorophyll catches red and blue light FROM the sun but BOUNCES green light back. What do we see? The bounced light - green! Plants don't 'want' to be green - it's the rejected color!", activity: "üåà Shine light through a leaf - less red and blue comes through because the plant 'ate' them! Green comes through because plant doesn't use it.", keyConcept: "Chlorophyll catches red & blue light. Green bounces back = we see green!" },
              { title: "How do plants make food from sunlight?", hook: "Plants don't eat things like animals. How do they get food?", scaffold: "Do plants have secret snacks, OR do they MAKE food from sunlight, air, and water?", explanation: "Plants make food from thin air! 1) Roots suck up WATER. 2) Leaves take in CO2 from air. 3) Chlorophyll catches SUNLIGHT. 4) Using sun's energy, plants combine water + CO2 to make SUGAR (food!) and release OXYGEN (we breathe!). This is PHOTOSYNTHESIS!", activity: "üå± Plants breathe out oxygen that we need! Sit near a houseplant - it's making air for you right now. And making its own food from just light, water, and air!", keyConcept: "Water + CO2 + Sunlight ‚Üí Sugar (food) + Oxygen. Plants make their own food!" },
              { title: "Why do plants need water?", hook: "If you don't water a plant, it droops and dies. Why is water so important?", scaffold: "Do plants get thirsty, OR is water needed for food-making AND to keep them standing?", explanation: "Water does THREE jobs: 1) INGREDIENT for photosynthesis - plants use water to make sugar. 2) Carries NUTRIENTS from soil up into plant. 3) Keeps cells PLUMP - plant cells are like tiny water balloons. Full = stands tall. Empty = droops!", activity: "ü•¨ Get wilted celery. Put in water for an hour. Watch it become crisp! Cells refilled with water like balloons inflating.", keyConcept: "Water: 1) Makes food 2) Carries nutrients 3) Keeps cells plump." },
              { title: "What do roots do?", hook: "Roots are hidden underground. What are they doing down there?", scaffold: "Are roots just anchors, OR are they the plant's mouth drinking water?", explanation: "Roots are the plant's mouth AND anchor! Two jobs: 1) ANCHOR - Hold plant so wind doesn't blow it away. 2) ABSORB - Suck up water and nutrients from soil. The water travels UP through tubes to leaves. Roots can spread as wide as branches above!", activity: "ü•ï Pull up a small plant (with permission!) - see how roots spread? Carrots, radishes, beetroot are all roots storing food!", keyConcept: "Roots: 1) Anchor plant 2) Absorb water and nutrients from soil." },
              { title: "Why do plants grow toward light?", hook: "Indoor plants lean toward windows. Why do they chase light?", scaffold: "Do plants have eyes, OR a clever chemical trick that bends them toward light?", explanation: "Plants can SENSE light! When light hits one side, a hormone called AUXIN moves to the shady side. Auxin makes cells grow longer. So shady side grows MORE = plant bends TOWARD light! It's like if one side of a balloon inflated more - it bends!", activity: "üåª Put a plant by window. After days, it leans toward light! Turn it around. Days later, it turns again! Always chasing light.", keyConcept: "Shady side grows more ‚Üí plant bends toward light. Chasing food source!" }
            ]
          },
          3: {
            title: 'Seeds & Growing', icon: 'üå∞',
            description: 'How tiny seeds become big plants',
            lessons: [
              { title: "What's inside a seed?", hook: "A tiny seed can grow into a HUGE tree. What's inside?", scaffold: "Is a seed mostly empty, OR is it a baby plant with packed lunch?", explanation: "A seed is a survival pod: 1) A tiny BABY PLANT (embryo) - already has mini root, stem, leaves ready! 2) FOOD STORAGE - packed to feed it until it makes own food. 3) Tough COAT - protects until conditions right. It's a plant in hibernate mode with a lunchbox!", activity: "ü´ò Soak a bean overnight, split it open. See the tiny baby plant? The fleshy parts are food supply. Everything for life in one little bean!", keyConcept: "Seed = baby plant + food supply + protective coat. A whole life kit!" },
              { title: "How does a seed know when to grow?", hook: "Seeds can wait years, then suddenly grow. How do they know when?", scaffold: "Do seeds have calendars, OR wait until they sense water, warmth, light?", explanation: "Seeds wait for signals! Most need: 1) WATER - main wake-up call. 2) WARMTH - that's why spring works. 3) Some need LIGHT or DARKNESS or even FIRE! Until conditions are right, seeds stay dormant - alive but sleeping. Some wait 100+ years!", activity: "üå± Plant seeds in two pots. Water one, don't water other. Only watered one grows! Water is the wake-up signal.", keyConcept: "Seeds wait for water, warmth, sometimes light. Until then, they sleep." },
              { title: "How does a tiny seed become a big tree?", hook: "An acorn is tiny. An oak tree weighs 10,000 kg. WHERE does all that stuff come from?!", scaffold: "Does tree suck material from soil, OR does most come from AIR?", explanation: "Trees are mostly made of AIR! Photosynthesis takes carbon dioxide GAS and turns it into solid WOOD. The carbon in CO2 becomes carbon in the tree! That 10,000 kg oak got most mass from invisible air molecules caught over hundreds of years. Trees are air-catchers!", activity: "üå≥ Hug a tree! Almost everything you're touching was once invisible air! The tree caught carbon dioxide and turned it into solid wood.", keyConcept: "Trees are mostly AIR! CO2 from air ‚Üí solid wood through photosynthesis." },
              { title: "Why do flowers exist?", hook: "Flowers are pretty but take energy. Why bother making them?", scaffold: "Are flowers just decoration, OR the plant's way of making babies?", explanation: "Flowers are for MAKING BABIES! They're the plant's reproductive system. POLLEN needs to reach the OVARY where seeds form. But plants can't move! So they use HELPERS - bees, butterflies, wind. Pretty colors and sweet smell say 'Come here bees!' After pollination, flower makes seeds.", activity: "üêù Watch a bee visit flowers. It collects nectar, getting covered in pollen! At next flower, pollen rubs off. Bee delivers plant mail without knowing!", keyConcept: "Flowers attract pollinators to help make seeds. Pretty colors = advertising!" },
              { title: "Why do plants make fruit?", hook: "Apples, oranges, berries taste great. Why do plants make yummy things?", scaffold: "Are fruits treats for us, OR clever tricks to spread seeds?", explanation: "Fruits are SEED TAXIS! Plants can't walk, so how do seeds travel? Make something YUMMY around seeds! Animals eat fruit, walk away, and poop out seeds somewhere new - with fertilizer! Seeds get transported far from parent plant. Fruit = packaging for seed delivery!", activity: "üçì Eat a strawberry - see tiny seeds on outside? Birds eat strawberries and poop seeds in new places. You help too when throwing apple cores outside!", keyConcept: "Fruit = seed taxi. Animals eat fruit and carry seeds to new places." }
            ]
          }
        }
      },
      islam: {
        id: 'islam', name: 'Islam: Understanding Faith', icon: '‚ò™Ô∏è',
        gradient: 'gradient-islam',
        description: 'Understanding our faith from first principles',
        chapters: {
          1: {
            title: 'When Someone Dies', icon: 'üïäÔ∏è',
            description: 'Understanding death, grief, and hope',
            lessons: [
              { title: "What happens when someone dies?", hook: "When someone we love dies, their body stops working. But what happens to THEM?", scaffold: "Does the person just disappear, OR does their soul go somewhere while their body stays here?", explanation: "Think of your body like a HOUSE, and your soul (ruh) like the PERSON living inside. When someone dies, the person (soul) leaves the house (body). The body stays here, but the real 'them' - their soul - returns to Allah. The body was just borrowed clothing. The soul is eternal.", activity: "üè† Look at an empty house - the lights are off, no one answers. But that doesn't mean the people are gone - they moved somewhere else! When someone dies, their soul moved to be with Allah.", keyConcept: "Body = temporary house. Soul = the real person. Soul returns to Allah." },
              { title: "Where does the soul go?", hook: "If the soul leaves the body, where does it go?", scaffold: "Does it float around lost, OR does it return HOME to Allah who created it?", explanation: "The soul returns to Allah, like going home after a long trip. For good people who loved Allah and did good deeds, their soul goes to a beautiful place called Jannah (Paradise) - gardens, happiness, and peace forever! Allah takes care of the soul. If Grandma loved Allah and was kind, we trust Allah is caring for her now.", activity: "üíö Make dua together: 'Allah, please take care of Grandma and give her a beautiful place in Jannah.' Duas are like sending love letters to her through Allah!", keyConcept: "Souls return to Allah. Good souls go to Jannah - gardens, peace, happiness." },
              { title: "Why do people have to die?", hook: "Why can't people live forever? Why does death have to happen?", scaffold: "Is death a punishment, OR is it moving from a temporary test to our REAL eternal home?", explanation: "This life is like a school day - important, but not forever! Allah created us, put us in this world to learn, love, and be kind. Death is like the bell ringing - school's over, time to go home. Jannah is our real home - better than anything here! Everyone 'goes home' eventually. It's not scary because we'll all be together again someday.", activity: "üè´ Think about school ending each day - you're happy to go home! This life is like a school day. Jannah is going home to Allah where things are even better.", keyConcept: "This life = temporary test. Death = graduation to real eternal home." },
              { title: "Is it okay to feel sad?", hook: "When someone we love dies, it hurts SO much. Is it wrong to cry?", scaffold: "Should we pretend to be happy, OR is it OKAY to feel sad because we loved them?", explanation: "It is ABSOLUTELY okay to cry! Even Prophet Muhammad Ô∑∫ cried when his son Ibrahim died. He said: 'The eyes shed tears, the heart is grieved, but we only say what pleases Allah.' Being sad shows you LOVED them - that's beautiful! You can be sad AND trust that Allah is caring for them. Both feelings are okay at the same time.", activity: "üíß It's okay to cry when you miss someone. You can also talk to Allah about how you feel - He understands everything. And you can talk to Mummy and Daddy too.", keyConcept: "Crying is okay - Prophet Muhammad Ô∑∫ cried too. Sadness shows love." },
              { title: "Will I see Grandma again?", hook: "If Grandma went to Jannah, will I ever see her again?", scaffold: "Is this goodbye forever, OR will families meet again in Jannah?", explanation: "YES! In sha Allah, families will be together in Jannah! If we love Allah and try to be good, we'll meet everyone we love again in Paradise. It's not goodbye forever - it's goodbye FOR NOW. One day, in sha Allah, you'll see Grandma again and give her the biggest hug!", activity: "ü§ó Think of it like this: If someone you love goes on a long trip, you miss them. But you KNOW you'll see them again someday! Jannah is where we'll meet again.", keyConcept: "Not goodbye forever. In Jannah, families reunite. We'll see her again!" },
              { title: "How can we remember Grandma?", hook: "Grandma isn't here anymore. But she lived here once. How can we remember her?", scaffold: "Do we just forget, OR are there special ways to remember and even HELP her?", explanation: "Four beautiful ways to remember: 1) Make DUA for her - these blessings reach her! 2) Remember happy times - stories about things you did together. 3) Do good deeds 'for her' - she gets reward too! 4) Talk about her - she lives in our memories. She would be SO proud seeing you learn and grow!", activity: "üíù Think of 3 happy memories with Grandma. This week, do one kind deed 'for Grandma' - help someone, give charity, be extra kind. She gets the reward too!", keyConcept: "Remember through: Dua, happy memories, good deeds in her name, talking about her." }
            ]
          },
          2: {
            title: 'Who is Allah?', icon: '‚ú®',
            description: 'Understanding our Creator',
            lessons: [
              { title: "Who made everything?", hook: "Trees, animals, stars, YOU - where did it all come from?", scaffold: "Did everything make itself, OR did someone AMAZING design and create it all?", explanation: "Look at how perfect everything is! Your eyes that can see millions of colors. Birds that know how to fly. Seeds that know how to become trees. Could all this make itself? No! Someone incredibly wise and powerful DESIGNED it. That's Allah - the Creator of everything. Amazing creation = amazing Creator!", activity: "üëÄ Look around - everything you see was designed! Pick something amazing (eye, flower, bird). Ask: could this make itself? Allah made it all with perfect wisdom.", keyConcept: "Amazing creation points to amazing Creator. Allah designed everything." },
              { title: "Can we see Allah?", hook: "If Allah is real, why can't we see Him?", scaffold: "Does invisible mean not real, OR are the most powerful things often invisible?", explanation: "The most powerful things are often invisible! Can you see love? No, but it's REAL - you feel it! Can you see wind? No, but you see trees moving! Can you see your thoughts? No, but they're yours! Allah is greater than anything - our eyes in this world simply aren't strong enough. In Jannah, believers WILL see Allah - the greatest gift!", activity: "üí® Go outside - feel the wind but can't see it! You know it's real from what it DOES. Allah is known from His creation, His signs, and how He guides our hearts.", keyConcept: "Invisible ‚â† not real. Many powerful things (love, wind, thoughts) are invisible." }
            ]
          },
          3: {
            title: 'Why Do We Pray?', icon: 'ü§≤',
            description: 'Understanding salah',
            lessons: [
              { title: "What is salah?", hook: "Muslims pray five times a day. What actually IS prayer?", scaffold: "Is it just words we repeat, OR is it an actual MEETING with the Creator of everything?", explanation: "Imagine you could meet the most powerful king in the universe - would you go? Salah is even BIGGER - you're meeting ALLAH, the Creator of EVERYTHING! Five times a day, you get a private appointment with the Most Powerful. You stand before Him, talk to Him, bow to Him. It's the most important meeting of your day!", activity: "ü§≤ Next time you pray, remember: this isn't just movements. You're MEETING Allah! He's listening to every word. How amazing is that?", keyConcept: "Salah = meeting with Allah, Creator of everything. Private appointment 5x daily." },
              { title: "Why five times?", hook: "Why do we pray FIVE times? Why not once? Why not ten?", scaffold: "Is it random, OR does our soul need regular connection with Allah like our body needs food?", explanation: "Your body needs food several times a day - not once a year! Your SOUL also needs food - connection with Allah. Five times spreads through the whole day: wake up (Fajr), midday (Dhuhr), afternoon (Asr), sunset (Maghrib), night (Isha). You're never far from recharging your soul!", activity: "üîã Think of prayer like charging a phone - do it regularly or it dies! Your soul needs regular 'charging' with Allah throughout the day.", keyConcept: "Soul needs Allah like body needs food. 5 times = spread through whole day." }
            ]
          },
          4: {
            title: 'The Quran', icon: 'üìñ',
            description: "Allah's words to us",
            lessons: [
              { title: "What is the Quran?", hook: "Muslims read from a special book called Quran. What makes it special?", scaffold: "Is it just a book some people wrote, OR are these the actual WORDS OF ALLAH?", explanation: "The Quran isn't written BY humans ABOUT Allah - it IS Allah's actual words! Allah sent His words through Angel Jibreel to Prophet Muhammad Ô∑∫. When you read Quran, you're reading what ALLAH said - the Creator of the universe is talking to you! No other book is like this.", activity: "üìñ Next time you see or hear Quran, remember - those are ALLAH's words! Imagine getting a letter from the most important person ever. That's what Quran is!", keyConcept: "Quran = Allah's actual words. Not about Allah - FROM Allah." },
              { title: "Why is it in Arabic?", hook: "The Quran is in Arabic. Why Arabic? Can we understand it?", scaffold: "Is Arabic random, OR is it the exact language Allah chose to reveal His words?", explanation: "Arabic is the original language Allah chose. Translations help us understand the MEANING, but the actual words of Allah are in Arabic. That's why many Muslims learn Arabic - to read Allah's exact words! But reading translations is also good - Allah wants us to understand!", activity: "üìö Look at Quran with translation - Arabic on one side, English on other. The Arabic is Allah's exact words. The English helps us understand. Both are valuable!", keyConcept: "Arabic = original words. Translations help understand meaning." }
            ]
          },
          5: {
            title: 'Being a Good Muslim', icon: 'üíö',
            description: 'How we live our faith',
            lessons: [
              { title: "Why is kindness important?", hook: "Islam has prayers and fasting. But why do we also have to be KIND?", scaffold: "Is kindness just nice to have, OR is it actually a HUGE part of Islam?", explanation: "Islam = worshipping Allah + excellent character! Prophet Muhammad Ô∑∫ said the BEST Muslims are those with the BEST character. Being kind, honest, helpful, patient - these are all worship! Even smiling at someone is charity. You can pray all day, but if you're mean to people, something's missing.", activity: "üòä Today, do 3 secret acts of kindness without telling anyone. Help someone, be extra patient, share something. Each one is worship - Allah sees even when no one else does!", keyConcept: "Best Muslims = best character. Kindness is worship. Even smiling is charity!" },
              { title: "Why respect parents?", hook: "Islam says to respect parents A LOT. Why is it so important?", scaffold: "Is it just cultural, OR does Allah put it right after worshipping HIM?", explanation: "In Quran, Allah puts respecting parents RIGHT AFTER worshipping Him - that's how important it is! Parents sacrificed SO much for you - nights without sleep, working hard, constant worry and love. Allah commands us to be grateful, respectful, and kind to them. Even saying 'uff!' (annoyed sigh) is warned against!", activity: "üíù Think of 3 things your parents do for you. Say thank you for ONE specific thing today. Being grateful to them is being grateful to Allah!", keyConcept: "Respecting parents = right after worshipping Allah in importance. They sacrificed everything." },
              { title: "Why don't we lie?", hook: "Everyone says lying is bad. But why is it REALLY bad?", scaffold: "Is it just a rule, OR does honesty build trust while lies destroy everything?", explanation: "Prophet Muhammad Ô∑∫ said a believer is NEVER a liar. Lies might seem easy but they break trust, hurt people, and lead to more lies. Truthfulness leads to goodness which leads to Jannah. Lying leads to wickedness which leads to punishment. Even small lies damage your soul.", activity: "üîó Imagine trust as a chain. Every lie = broken link. Hard to fix! One truth at a time builds a strong chain. Choose truth even when hard.", keyConcept: "Believers are never liars. Truth ‚Üí goodness ‚Üí Jannah. Lies break trust." },
              { title: "Why do we share?", hook: "Islam says to give to others - charity, zakat. Why share what we earned?", scaffold: "Is it just being nice, OR does everything actually belong to ALLAH who asks us to share?", explanation: "Here's the secret: everything belongs to Allah! We don't really 'own' things - we're trusted to use them well. Sharing is a TEST - will you be generous or greedy? The amazing thing: the more you give, the more Allah gives back! Sharing doesn't make you poorer - it makes your soul richer.", activity: "üéÅ Find something you have two of. Give one away. Notice how good it feels! Allah will replace it with something better - maybe not the same thing, but better for your heart.", keyConcept: "Everything belongs to Allah. Sharing is a test. Give more = receive more!" }
            ]
          }
        }
      },
      body: {
        id: 'body', name: 'My Amazing Body', icon: 'ü´Ä',
        gradient: 'gradient-body',
        description: 'How your body works from the inside',
        chapters: {
          1: { title: 'Eating & Energy', icon: 'üçΩÔ∏è', description: 'Where food goes', lessons: [
            { title: "Why do I need to eat?", hook: "You eat every day. But why?", scaffold: "Is food just tasty, OR is it FUEL your body burns?", explanation: "Your body is like a car - needs FUEL! Food gets broken down and burned for ENERGY. Energy powers walking, talking, thinking, even sleeping!", activity: "üèÉ Run for 1 minute. Feel tired? You just burned fuel!", keyConcept: "Food = fuel. Body burns it for energy." },
            { title: "Where does food go?", hook: "You swallow... then what?", scaffold: "Sits in tummy, OR goes on a 9-METER journey?", explanation: "Food travels 9 meters! Mouth ‚Üí Stomach (acid breaks it down) ‚Üí Small intestine (nutrients absorbed) ‚Üí Large intestine ‚Üí Out as poo! Takes 1-3 days.", activity: "üßµ Measure 9 meters of string - that's your digestive system length!", keyConcept: "Food travels 9m over 1-3 days." },
            { title: "Why does my tummy rumble?", hook: "Your tummy makes growling noises! What's that?", scaffold: "Animal inside, OR squeezing air?", explanation: "Your stomach always SQUEEZES to move food. When EMPTY, it squeezes AIR = rumble!", activity: "üéà Squeeze a balloon with air inside - hear it?", keyConcept: "Empty stomach squeezing air = rumble." },
            { title: "Why do I poo?", hook: "Everyone poos! But what IS it?", scaffold: "Failed food, OR leftover waste?", explanation: "Body takes good stuff from food. Leftover waste (fibre, dead cells) collects and gets pushed out!", activity: "üçå Fibre (bananas, apples) helps push poo out!", keyConcept: "Poo = waste body can't use." },
            { title: "Why do I wee?", hook: "Drink water, later wee. What happened?", scaffold: "Goes straight through, OR body USES it first?", explanation: "Water goes everywhere in blood! KIDNEYS filter waste water ‚Üí BLADDER collects it ‚Üí wee!", activity: "üíß Water takes 30-45 mins to become wee!", keyConcept: "Kidneys filter ‚Üí bladder ‚Üí wee." }
          ]},
          2: { title: 'Heart & Blood', icon: '‚ù§Ô∏è', description: 'Your delivery system', lessons: [
            { title: "Why does my heart beat?", hook: "Feel that thump thump?", scaffold: "Just vibrating, OR PUMPING blood?", explanation: "Heart is a PUMP! Squeeze-relax = beat. Pushes blood everywhere. ~100,000 beats daily!", activity: "üíì Find pulse, count 15 sec √ó 4 = heart rate!", keyConcept: "Heart pumps blood. ~100,000/day!" },
            { title: "What IS blood?", hook: "Red liquid from cuts. What is it?", scaffold: "Red water, OR full of tiny workers?", explanation: "Blood has workers! RED CELLS (oxygen), WHITE CELLS (fight germs), PLATELETS (fix cuts), PLASMA (carries all).", activity: "üî¥ One drop = 5 MILLION red cells!", keyConcept: "Red + white cells + platelets in plasma." },
            { title: "Why do cuts stop bleeding?", hook: "Cuts bleed then STOP. How?", scaffold: "Blood tired, OR cells PLUG it?", explanation: "PLATELETS rush to cuts, clump together, make net = SCAB!", activity: "ü©π Watch a cut heal - platelets working!", keyConcept: "Platelets clump ‚Üí scab." },
            { title: "Why is blood red?", hook: "Why red, not blue?", scaffold: "Random, OR something makes it red?", explanation: "HAEMOGLOBIN has IRON. Iron + oxygen = red. Same reason rust is red!", activity: "üî© Rust is red too - iron + oxygen!", keyConcept: "Iron + oxygen = red." },
            { title: "Why do bruises change color?", hook: "Purple ‚Üí blue ‚Üí green ‚Üí yellow. Why?", scaffold: "Skin changing, OR trapped blood changing?", explanation: "Bruise = trapped blood. Colors show healing! Purple (fresh) ‚Üí Blue ‚Üí Green ‚Üí Yellow (healed).", activity: "üåà Track bruise colors - healing progress!", keyConcept: "Colors = blood breakdown stages." }
          ]},
          3: { title: 'Bones & Muscles', icon: 'ü¶¥', description: 'Frame and movers', lessons: [
            { title: "Why do I have bones?", hook: "Hard bones inside. What for?", scaffold: "Just for Halloween, OR holding you up?", explanation: "Without bones = blob! Bones = FRAME. Hold shape, support weight, protect organs. 206 total!", activity: "üèóÔ∏è Lego without frame collapses. With frame = stands!", keyConcept: "206 bones = your frame." },
            { title: "Are bones alive?", hook: "Bones seem dead. Are they?", scaffold: "Like rocks, OR living things?", explanation: "Bones are ALIVE! They grow, heal, remake. Skeleton replaced every 10 years!", activity: "ü•õ Drink milk for calcium = strong bones!", keyConcept: "Bones grow, heal, remake!" },
            { title: "How do muscles work?", hook: "Muscles move you. HOW?", scaffold: "Push like springs, OR PULL by shortening?", explanation: "Muscles only PULL! Fibres slide together = shorter = pulls bone. Work in PAIRS.", activity: "üí™ Bicep gets shorter when you flex!", keyConcept: "Muscles PULL in pairs." },
            { title: "Why do muscles get tired?", hook: "Hold heavy thing - arm shakes. Why?", scaffold: "Bored, OR out of fuel?", explanation: "Muscles burn fuel fast. Low fuel + waste (lactic acid) = tired. Rest = refuel!", activity: "‚úä Squeeze fist 60 sec - feel the burn!", keyConcept: "Tired = low fuel + waste." },
            { title: "Why do I need sleep?", hook: "Sleep 1/3 of life! Why?", scaffold: "Just rest, OR body doing WORK?", explanation: "Sleep = maintenance! Brain cleans, body repairs, you GROW (growth hormone!).", activity: "üìè Kids grow during sleep!", keyConcept: "Sleep = clean, repair, grow!" }
          ]},
          4: { title: 'Breathing', icon: 'üå¨Ô∏è', description: 'Why you breathe', lessons: [
            { title: "Why do I breathe?", hook: "Breathe all day. Why?", scaffold: "Just habit, OR body NEEDS air?", explanation: "Body needs OXYGEN to burn fuel! No oxygen = cells die.", activity: "üïØÔ∏è Candle under glass goes out - no oxygen!", keyConcept: "Cells burn food + oxygen = energy." },
            { title: "What happens when I breathe in?", hook: "Air goes in. Where?", scaffold: "Fills tummy, OR special bags?", explanation: "Air ‚Üí LUNGS ‚Üí 300 million tiny sacs (ALVEOLI). Oxygen jumps into blood!", activity: "üéà Deep breath - chest expands! Lungs like balloons.", keyConcept: "Lungs have millions of sacs for oxygen." },
            { title: "What do I breathe OUT?", hook: "Breathe in oxygen. What comes out?", scaffold: "Same air, OR waste gas?", explanation: "CARBON DIOXIDE - waste from burning fuel! Blood carries it to lungs, you breathe it out.", activity: "üò§ Fog on cold window = water + CO2!", keyConcept: "Breathe OUT carbon dioxide waste." },
            { title: "Why breathe faster when running?", hook: "Sitting = slow. Running = panting. Why?", scaffold: "Lungs panic, OR muscles need MORE?", explanation: "Working muscles need MORE oxygen! Brain says: BREATHE FASTER!", activity: "üèÉ Count breaths sitting vs after running!", keyConcept: "More work = faster breathing." },
            { title: "Why can't I breathe underwater?", hook: "Fish can. Why can't I?", scaffold: "Oxygen locked, OR wrong equipment?", explanation: "Water HAS oxygen! But lungs need AIR. Fish have GILLS for water.", activity: "üêü Watch fish gills moving!", keyConcept: "Lungs for air. Gills for water." }
          ]},
          5: { title: 'Senses', icon: 'üß†', description: 'How you experience the world', lessons: [
            { title: "How do I see?", hook: "Open eyes - see! HOW?", scaffold: "Eyes send beams, OR light comes IN?", explanation: "Light enters eye ‚Üí LENS focuses ‚Üí RETINA ‚Üí signals to brain. Brain makes the picture!", activity: "üëÅÔ∏è Pupil bigger in dark, smaller in light!", keyConcept: "Light ‚Üí eye ‚Üí brain sees." },
            { title: "How do I hear?", hook: "Sounds appear! How?", scaffold: "Sounds fly to brain, OR ears catch vibrations?", explanation: "Sound = vibrating air! Ear catches ‚Üí EARDRUM vibrates ‚Üí bones ‚Üí signals to brain!", activity: "ü•Å Rice on clingfilm jumps with noise - vibrations!", keyConcept: "Ear converts vibrations to signals." },
            { title: "Why things taste different?", hook: "Pizza ‚â† apple. How?", scaffold: "Tongue guesses, OR has detectors?", explanation: "10,000 TASTE BUDS detect 5 tastes: sweet, salty, sour, bitter, umami. SMELL adds the rest!", activity: "üç¨ Pinch nose while eating - less flavor!", keyConcept: "5 tastes + smell = flavor." },
            { title: "Why does pain hurt?", hook: "Fire HURTS! Why?", scaffold: "Body mean, OR warning alarm?", explanation: "Pain = PROTECTION! Nerves detect danger ‚Üí urgent signal ‚Üí you pull away FAST!", activity: "üî• You pull from hot before thinking!", keyConcept: "Pain = alarm to protect you." },
            { title: "Why dizzy after spinning?", hook: "Spin, stop - world spins! Why?", scaffold: "World moving, OR ear fluid sloshing?", explanation: "Ears have FLUID for balance. When you stop, fluid keeps spinning = brain confused = DIZZY!", activity: "üåÄ Spin 10x, try walking straight!", keyConcept: "Ear fluid still spinning = dizzy." }
          ]}
        }
      },
      bugs: {
        id: 'bugs', name: 'Bugs & Insects', icon: 'üêõ',
        gradient: 'gradient-bugs',
        description: 'Tiny creatures everywhere',
        chapters: {
          1: { title: 'What Makes a Bug?', icon: 'üîç', description: 'Insect bodies', lessons: [
            { title: "What IS an insect?", hook: "We call things 'bugs' - but what makes something an insect?", scaffold: "Anything small, OR specific body parts?", explanation: "Insects have THREE things: 1) THREE body parts. 2) SIX legs. 3) Exoskeleton. Spider (8 legs) = NOT insect!", activity: "üî¢ Count legs! 6 = insect. 8 = spider.", keyConcept: "Insect = 6 legs + 3 parts + shell." },
            { title: "Why shell on OUTSIDE?", hook: "You have bones inside. Insects have hard parts outside. Why?", scaffold: "Different design, OR special advantages?", explanation: "EXOSKELETON = armour + waterproof. BUT can't grow! So insects MOULT - shed shell, grow new one.", activity: "ü¶Ä Moulted shells show the old exoskeleton!", keyConcept: "Exoskeleton = armour. Must moult to grow." },
            { title: "How do insects breathe?", hook: "No lungs or nose! How?", scaffold: "Through skin, OR tiny tubes?", explanation: "SPIRACLES = tiny holes on sides! Air goes into tubes (TRACHEAE) delivering oxygen directly.", activity: "üîç Caterpillar sides have tiny dots - spiracles!", keyConcept: "Spiracles ‚Üí tubes ‚Üí oxygen to cells." },
            { title: "Why HUGE eyes?", hook: "Fly eyes are enormous! Why?", scaffold: "Showing off, OR thousands of tiny eyes?", explanation: "COMPOUND EYES = thousands of tiny lenses! Dragonfly has 30,000! Amazing at detecting MOVEMENT.", activity: "üëÄ Can't sneak up on flies - they see everything!", keyConcept: "Compound eyes = thousands of lenses." },
            { title: "Can insects feel pain?", hook: "Does swatting hurt them?", scaffold: "Have feelings, OR just react?", explanation: "Not sure! They react to damage but may not 'feel' pain like us. Still be kind!", activity: "ü§î They detect damage but whether they suffer is a mystery.", keyConcept: "Detect damage, uncertain if they 'feel' it." }
          ]},
          2: { title: 'Bees', icon: 'üêù', description: 'Nature\'s workers', lessons: [
            { title: "Why make honey?", hook: "Bees make honey. For us?", scaffold: "Gift for humans, OR BEE FOOD?", explanation: "Honey = WINTER FOOD! Bees collect nectar, reduce water, store as honey. We steal some!", activity: "üçØ 2 MILLION flowers = 500g honey!", keyConcept: "Honey = bees' winter food." },
            { title: "How do bees talk?", hook: "Bees work together perfectly. How?", scaffold: "Figure it out, OR special language?", explanation: "Bees DANCE! WAGGLE DANCE: direction = which way, length = how far!", activity: "üíÉ Try giving directions by dancing!", keyConcept: "Waggle dance = direction + distance." },
            { title: "Why die after stinging?", hook: "Bee stings, then dies! Why?", scaffold: "Dramatic, OR stinger rips out?", explanation: "Stinger has BARBS (hooks) that grip skin. When bee flies away, stinger rips out with guts!", activity: "‚ö†Ô∏è Scrape off stinger, don't squeeze!", keyConcept: "Barbed stinger rips out = bee dies." },
            { title: "Why are bees important?", hook: "Save the bees! Why?", scaffold: "Nice to have, OR ESSENTIAL?", explanation: "Bees POLLINATE plants! Pollen on fuzzy bodies ‚Üí next flower ‚Üí fruit grows! 1/3 of food needs pollinators.", activity: "üçé Thank a bee for that apple!", keyConcept: "Bees pollinate 1/3 of our food." },
            { title: "Who lives in a hive?", hook: "Thousands of bees together. Same job?", scaffold: "Free-for-all, OR specific jobs?", explanation: "QUEEN (lays eggs), WORKERS (females do everything), DRONES (males mate). Total teamwork!", activity: "üëë 60,000 bees, ONE queen!", keyConcept: "Queen + workers + drones." }
          ]},
          3: { title: 'Ants', icon: 'üêú', description: 'Tiny but mighty', lessons: [
            { title: "How strong are ants?", hook: "Ants carry things bigger than themselves!", scaffold: "Super muscles, OR being small helps?", explanation: "Ants lift 10-50√ó body weight! Being small = muscles strong relative to weight.", activity: "üèãÔ∏è If you could do this, you'd lift a car!", keyConcept: "Small = relatively strong. 10-50√ó weight!" },
            { title: "How find food?", hook: "One finds crumb, soon there's a trail! How?", scaffold: "Shout to friends, OR invisible trail?", explanation: "PHEROMONE trails = invisible chemical smells! More ants = stronger trail!", activity: "üîç Wipe across ant trail - they get confused!", keyConcept: "Pheromone trails guide others." },
            { title: "Who's the boss?", hook: "Ants work perfectly. Someone in charge?", scaffold: "Queen gives orders, OR everyone just knows?", explanation: "No boss! Queen only lays eggs. Ants follow SIMPLE RULES + chemicals = perfect teamwork!", activity: "üèôÔ∏è Millions of ants, no manager!", keyConcept: "No boss! Simple rules = teamwork." },
            { title: "What do ants eat?", hook: "Ants seem to eat everything!", scaffold: "Eat anything, OR prefer specific foods?", explanation: "Most love SUGAR + PROTEIN! Some even FARM fungus!", activity: "üß™ Put sugar near ants - watch them go!", keyConcept: "Sugar + protein. Some farm fungus!" },
            { title: "How build nests?", hook: "Underground tunnels and rooms. How?", scaffold: "Dig randomly, OR designed rooms?", explanation: "Amazing architects! Nurseries, food storage, queen's chamber. Some go 7 meters deep!", activity: "üèóÔ∏è Colony can move 40 tonnes of soil!", keyConcept: "Specialized rooms. One grain at a time!" }
          ]},
          4: { title: 'Butterflies', icon: 'ü¶ã', description: 'Transformers', lessons: [
            { title: "Caterpillar ‚Üí butterfly. HOW?", hook: "Crawling ‚Üí flying! How possible?", scaffold: "Grows wings, OR rebuilds ENTIRE body?", explanation: "In chrysalis, body turns to SOUP! Special cells rebuild completely new body. Like melting car, building plane!", activity: "üîÑ Watch chrysalis over days - amazing transformation!", keyConcept: "Caterpillar ‚Üí soup ‚Üí rebuilt as butterfly!" },
            { title: "Why colorful wings?", hook: "Beautiful colors! Why?", scaffold: "Just pretty, OR colors have JOBS?", explanation: "Colors work! ATTRACT mates, CAMOUFLAGE (look like leaves), WARNING (poisonous!), STARTLE (eye patterns).", activity: "ü¶ã Spot camouflage ones vs warning ones!", keyConcept: "Colors = mate + hide + warn + scare." },
            { title: "Why eat SO much?", hook: "Caterpillars eat 27,000√ó body weight!", scaffold: "Greedy, OR storing for transformation?", explanation: "Transformation needs HUGE energy! Plus butterflies mostly drink nectar. Eating for BOTH stages!", activity: "üìà One caterpillar = 20 leaves/day!", keyConcept: "Stores food for transformation + butterfly life." },
            { title: "Taste with FEET?", hook: "Butterflies taste by standing! How?", scaffold: "Taste buds on toes?", explanation: "CHEMORECEPTORS (taste sensors) on feet! Land ‚Üí instantly know if it's food!", activity: "üëü Imagine tasting pizza by stepping on it!", keyConcept: "Taste sensors on feet!" },
            { title: "How far do they travel?", hook: "Some fly THOUSANDS of km!", scaffold: "Fly randomly, OR navigate like GPS?", explanation: "Monarchs migrate 4,800 km! Use SUN as compass + magnetic crystals. Takes 3-4 GENERATIONS!", activity: "üß≠ They find same trees their great-grandparents used!", keyConcept: "4,800km using sun + magnets. Inherited!" }
          ]},
          5: { title: 'Spiders', icon: 'üï∑Ô∏è', description: 'Eight-legged hunters', lessons: [
            { title: "Why not insects?", hook: "We call them bugs, but not insects. Why?", scaffold: "Technicality, OR completely different?", explanation: "Spiders = ARACHNIDS! EIGHT legs (not 6). TWO body parts (not 3). No antennae. Related to scorpions!", activity: "üî¢ Count spider legs - always 8!", keyConcept: "Spider = 8 legs, 2 parts. NOT insect!" },
            { title: "How make webs?", hook: "Webs are incredibly strong! How?", scaffold: "Cough up string, OR special body parts?", explanation: "SPINNERETS at back squeeze liquid silk ‚Üí hardens to thread. One spider makes 7 TYPES of silk!", activity: "üï∏Ô∏è Morning dew shows sticky vs non-sticky threads!", keyConcept: "Spinnerets make 7 types of silk!" },
            { title: "Why don't stick to own web?", hook: "Web catches flies. Why not spider?", scaffold: "Immune to stickiness, OR clever tricks?", explanation: "Only SPIRAL threads sticky. Spider walks on non-sticky spokes + oily feet + careful movement!", activity: "üï∏Ô∏è Spider walks certain threads, avoids others!", keyConcept: "Walk on non-sticky parts + oily feet." },
            { title: "Are spiders dangerous?", hook: "Should we be scared?", scaffold: "All deadly, OR most harmless?", explanation: "Most can't pierce human skin! Only ~30 of 40,000+ species dangerous. UK has NO deadly spiders. They eat pests!", activity: "üè† House spiders are harmless - they eat flies!", keyConcept: "Most harmless. ~30 of 40,000 dangerous." },
            { title: "Jumping spiders?", hook: "Some JUMP on prey! How?", scaffold: "Blindly leap, OR super senses?", explanation: "EIGHT eyes (great depth perception), PLAN jumps, attach safety line first! Jump 50√ó body length!", activity: "ü¶ò Jumping spiders are curious - might look at YOU!", keyConcept: "8 eyes + planned attack + safety line = pounce!" }
          ]}
        }
      },
      building: {
        id: 'building', name: 'Building & Engineering', icon: 'üèóÔ∏è',
        gradient: 'gradient-building',
        description: 'Why structures stand up',
        chapters: {
          1: { title: 'Why Things Stand', icon: 'üèõÔ∏è', description: 'Secrets of stability', lessons: [
            { title: "Why don't buildings fall?", hook: "Buildings are heavy. What stops them tipping?", scaffold: "Glued to ground, OR where weight sits?", explanation: "CENTER OF GRAVITY! If that point is over the base = stands. Outside base = tips! Wide + heavy bottom = stable.", activity: "üß± Thin tower vs wide pyramid - push both. Pyramid harder to tip!", keyConcept: "Center of gravity over base = stands." },
            { title: "Why foundations?", hook: "Builders dig DOWN before building UP. Why?", scaffold: "Tradition, OR ground needs prep?", explanation: "Foundations SPREAD THE LOAD! Like snowshoes vs boots in snow. Spread weight = don't sink.", activity: "üëü Stand on sand feet together (sink) vs spread (sink less)!", keyConcept: "Foundations spread weight over larger area." },
            { title: "Why thicker at bottom?", hook: "Castle walls thicker at bottom. Why?", scaffold: "Lazy at top, OR bottom carries more?", explanation: "Bottom holds EVERYTHING above! Like person at bottom of people stack carries most.", activity: "üìö Stack books on hand - hand pushes harder as you add more!", keyConcept: "Bottom carries weight of everything above." },
            { title: "What is a load?", hook: "Engineers talk about 'loads'. What's that?", scaffold: "Just weight, OR all forces pushing?", explanation: "Load = any force! DEAD (building weight), LIVE (people, furniture), WIND, EARTHQUAKE. Must design for ALL!", activity: "üè† Walls = dead load. You walking = live load. Wind = wind load!", keyConcept: "Load = any force on structure." },
            { title: "Why buildings sway in wind?", hook: "Skyscrapers MOVE in wind! Dangerous?", scaffold: "Sign of weakness, OR actually SAFER?", explanation: "Swaying is GOOD! Absorbs energy like tree bending vs snapping. Flexible = safer than rigid!", activity: "üå≥ Rigid ruler might snap. Flexible ruler bends and springs back!", keyConcept: "Controlled sway absorbs energy. Flexible = safer!" }
          ]},
          2: { title: 'Magic of Triangles', icon: 'üìê', description: 'Strongest shape', lessons: [
            { title: "Why triangles so strong?", hook: "Bridges full of triangles. Why not squares?", scaffold: "Design choice, OR special strength?", explanation: "Triangles CAN'T CHANGE SHAPE without breaking! Push square = collapses to diamond. Push triangle = won't budge!", activity: "üî∫ Make straw square (push - collapses!) vs triangle (push - holds!).", keyConcept: "Triangles can't change shape = strongest!" },
            { title: "What's a truss?", hook: "Bridges made of connected triangles. What's a truss?", scaffold: "Random triangles, OR carefully designed?", explanation: "TRUSS = structure of triangles! Each piece pushed or pulled. Strong AND lightweight. Eiffel Tower = giant truss!", activity: "üóº Eiffel Tower = mostly air but super strong. Triangles!", keyConcept: "Truss = connected triangles. Strong + light!" },
            { title: "Why cranes use triangles?", hook: "Cranes lift huge weights. How?", scaffold: "Super-strong metal, OR triangle design?", explanation: "Triangulated structures! Less material but stronger + stiffer than solid. Triangles stop twisting.", activity: "üèóÔ∏è Build solid Lego beam vs truss. Truss harder to bend!", keyConcept: "Triangulated = strong but lightweight." },
            { title: "Triangles everywhere?", hook: "Once you notice, triangles EVERYWHERE! Why?", scaffold: "Obsession, OR structural reason?", explanation: "Triangles WORK! Roof trusses, shelf brackets, bicycle frames, scaffolding. Even bent knee = triangle!", activity: "üîç Triangle hunt! Roofs, bikes, playground, shelves...", keyConcept: "Engineers use triangles everywhere for strength." }
          ]},
          3: { title: 'Bridges', icon: 'üåâ', description: 'Crossing gaps', lessons: [
            { title: "Why not flat plank?", hook: "Simplest bridge = plank. Real bridges complicated. Why?", scaffold: "Engineers showing off, OR planks have problems?", explanation: "Long planks SAG! Weight creates BENDING force. Long spans need special designs!", activity: "üìè Ruler between books - press middle. Bends! Short span bends less.", keyConcept: "Long flat spans sag. Need clever designs." },
            { title: "How arch bridges work?", hook: "Roman arches still standing! What makes them strong?", scaffold: "Curved just decorative, OR does something special?", explanation: "Arches convert BENDING into COMPRESSION (squeezing)! Stone loves being squashed. Force flows to ground.", activity: "ü§ù Press fingertips together as arch - push down, feel sideways push!", keyConcept: "Arches turn bending into compression." },
            { title: "How suspension bridges work?", hook: "Golden Gate hangs from cables! How?", scaffold: "Hanging weak, OR cables super strong when PULLED?", explanation: "Steel cables INCREDIBLY strong in tension! Road hangs from cables ‚Üí pulls towers ‚Üí pushes into ground.", activity: "üßµ Hang ruler from strings - strings in tension hold it!", keyConcept: "Cables in tension. Steel loves being pulled!" },
            { title: "Forces in bridges?", hook: "What forces act on bridges?", scaffold: "Just gravity, OR multiple forces?", explanation: "COMPRESSION (squeezing columns), TENSION (pulling cables), BENDING (deck), SHEAR (supports). Right material for each!", activity: "üèãÔ∏è Squeeze hands (compression). Hook fingers, pull (tension). Both in bridges!", keyConcept: "Bridges handle compression, tension, bending, shear." }
          ]},
          4: { title: 'Materials', icon: 'üß±', description: 'Why different stuff', lessons: [
            { title: "Why different materials?", hook: "Steel, concrete, wood, glass... Why not one for all?", scaffold: "Just fancy, OR different superpowers?", explanation: "Each has strengths/weaknesses! STEEL: strong, rusts. CONCRETE: great compression, cracks in tension. WOOD: light, burns. Pick right one!", activity: "üî® Try to break pencil by squeezing vs bending vs pulling. Different strengths!", keyConcept: "Match material to the job!" },
            { title: "What's concrete good at?", hook: "Concrete everywhere! What's special?", scaffold: "Grey stone, OR specific strengths?", explanation: "Amazing at COMPRESSION, cheap, waterproof. But CRACKS in tension! Solution: REINFORCED CONCRETE - steel bars inside handle tension!", activity: "üß± Concrete = strong cookie that hates bending. Steel = chopstick through it!", keyConcept: "Concrete loves compression. Add steel for tension." },
            { title: "Why still use wood?", hook: "We have steel! Why wood?", scaffold: "Old-fashioned, OR still advantages?", explanation: "Wood: RENEWABLE, LIGHT, EASY to work, INSULATOR, stores CARBON, beautiful! Great for houses.", activity: "ü™µ Wooden vs metal spoon - wood lighter AND doesn't feel cold!", keyConcept: "Wood: renewable, light, insulating, beautiful." },
            { title: "Earthquake-proof buildings?", hook: "Earthquakes shake violently! How survive?", scaffold: "Lucky, OR specially designed?", explanation: "Clever tricks! FLEXIBILITY (bend not crack), BASE ISOLATION (rubber absorbs), CROSS-BRACING (triangles)!", activity: "üè† Lego house + diagonal braces. Shake - much more stable!", keyConcept: "Flexible + base isolation + bracing = earthquake-proof." }
          ]},
          5: { title: 'Forces', icon: '‚öñÔ∏è', description: 'Push, pull, balance', lessons: [
            { title: "What is compression?", hook: "Engineers say 'compression'. What's that?", scaffold: "Fancy word, OR specific force?", explanation: "COMPRESSION = SQUEEZING force! Standing on can = compression. Stone/brick GREAT at resisting it!", activity: "üí™ Push hands together hard - that's compression!", keyConcept: "Compression = squeezing. Stone resists it." },
            { title: "What is tension?", hook: "Opposite of compression?", scaffold: "Stress, OR pulling force?", explanation: "TENSION = PULLING force! Tug of war rope is in tension. Steel/rope great at resisting it!", activity: "ü™¢ Pull rubber band - that's tension!", keyConcept: "Tension = pulling. Steel resists it." },
            { title: "Balance in structures?", hook: "Buildings don't move. But forces act. How?", scaffold: "Forces not there, OR perfectly balanced?", explanation: "BALANCED FORCES! Every push has equal push back. Building pushes down, ground pushes up!", activity: "ü™ë Sit on chair - you push down, chair pushes up equally!", keyConcept: "Stable = forces balanced." },
            { title: "What makes things break?", hook: "Everything CAN break. What causes it?", scaffold: "Get tired, OR too much force?", explanation: "Force EXCEEDS STRENGTH! Also FATIGUE - repeated small forces add up (bending paperclip).", activity: "üìé Bend paperclip back and forth - snaps! Fatigue.", keyConcept: "Break = force exceeds strength or fatigue." }
          ]}
        }
      },
      water: {
        id: 'water', name: 'Water Science', icon: 'üíß',
        gradient: 'gradient-water',
        description: 'Amazing properties of water',
        chapters: {
          1: { title: 'Floating & Sinking', icon: 'üö¢', description: 'Why some float', lessons: [
            { title: "Why some things float?", hook: "Wood floats, rocks sink. Heavy ships float, coins sink. Why?", scaffold: "About weight, OR something called DENSITY?", explanation: "DENSITY matters, not just weight! Less dense than water = floats. Ships are mostly air inside = overall less dense!", activity: "üß™ Clay sinks. Shape SAME clay into boat = floats! Air space changes density.", keyConcept: "Less dense than water = floats." },
            { title: "What is buoyancy?", hook: "In bath you feel lighter. What's pushing up?", scaffold: "Magic, OR water PUSHING?", explanation: "BUOYANCY = water pushing up! Displacing water makes it push back. Push equals weight of water displaced!", activity: "üõÅ Fill glass to top. Lower something in - water overflows = displaced water = buoyancy force!", keyConcept: "Buoyancy = water pushing up." },
            { title: "How do ships float?", hook: "Steel ball sinks. Steel ship floats. How?", scaffold: "Magic metal, OR SHAPE matters?", explanation: "Ship HULL traps air! Displaces HUGE water. Buoyancy > ship weight = floats!", activity: "‚öì Foil ball (sinks) vs foil boat (floats). Same metal, different shape!", keyConcept: "Ship shape displaces lots of water = floats." },
            { title: "Why float better in sea?", hook: "Easier to float in ocean than pool. Why?", scaffold: "Sea magical, OR something in water?", explanation: "Sea has SALT = denser water! Displace denser water = more buoyancy! Dead Sea = can't sink!", activity: "üßÇ Float egg in plain water (sinks). Add lots of salt - floats!", keyConcept: "Salt makes water denser = easier floating." },
            { title: "How fish control depth?", hook: "Fish hover at any depth. How?", scaffold: "Swim non-stop, OR buoyancy trick?", explanation: "SWIM BLADDER = balloon inside! Add gas = rise. Remove gas = sink. Match density to water = hover!", activity: "üéà Small balloon in water - adjust weight to hover in middle!", keyConcept: "Swim bladder adjusts buoyancy." }
          ]},
          2: { title: 'Water Tricks', icon: 'üé©', description: 'Strange things water does', lessons: [
            { title: "Why water climbs paper towel?", hook: "Dip corner - water climbs UP! Against gravity!", scaffold: "Paper drinking, OR water has climbing power?", explanation: "CAPILLARY ACTION! Water clings to surfaces (adhesion) + itself (cohesion). In tiny gaps, it pulls itself up! How plants drink!", activity: "üåπ White flower in colored water - color climbs to petals!", keyConcept: "Capillary action = water climbs through tiny spaces." },
            { title: "Why bugs walk on water?", hook: "Water striders walk on water! How?", scaffold: "Magic feet, OR water surface special?", explanation: "SURFACE TENSION! Water molecules pull on each other. At surface = thin 'skin'. Light things don't break through!", activity: "üíß Float paperclip carefully on water - surface tension holds it!", keyConcept: "Surface tension = 'skin' supporting light things." },
            { title: "Why raindrops round?", hook: "Drops always roundish. Why not cubes?", scaffold: "Lazy shape, OR tension PULLS into balls?", explanation: "Surface tension pulls inward! Sphere has smallest surface for volume. Water naturally balls up!", activity: "üíß Drip water on waxy surface - balls up! On paper - spreads.", keyConcept: "Surface tension pulls ‚Üí smallest surface ‚Üí sphere." },
            { title: "Why does ice float?", hook: "Ice is solid water. Shouldn't it sink? But it floats!", scaffold: "Secretly hollow, OR water does something WEIRD freezing?", explanation: "Water EXPANDS when freezing! Molecules form crystal with MORE space = less dense = floats. Unusual! Good for fish under ice!", activity: "üßä Ice floats 10% above water. Fill bottle, freeze - might crack!", keyConcept: "Water expands freezing = ice floats. Unusual!" },
            { title: "Why water makes things wet?", hook: "Water sticks to some things. Why not all?", scaffold: "Water likes some materials, OR molecules attract?", explanation: "Water is POLAR (+ end, - end). Attracted to polar surfaces (glass) = wets. Non-polar (wax) = beads up!", activity: "üíß Water on glass (spreads) vs wax (beads). Different attraction!", keyConcept: "Polar surfaces = wet. Non-polar = beads." }
          ]},
          3: { title: 'Waves & Currents', icon: 'üåä', description: 'How water moves', lessons: [
            { title: "What makes waves?", hook: "Waves keep coming at beach. What pushes them?", scaffold: "Fish swimming, OR WIND?", explanation: "WIND! Dragging surface creates ripples. Water mostly goes up and down in circles - wave is ENERGY traveling!", activity: "üõÅ Blow across water - ripples form! Energy travels, water stays mostly in place.", keyConcept: "Wind ‚Üí waves. Wave = energy traveling." },
            { title: "Why waves break?", hook: "Out at sea, waves roll. At beach, they CRASH. Why?", scaffold: "Waves angry, OR shallow water?", explanation: "SHALLOW water slows bottom. Top keeps going fast. Gets steeper until top falls over = CRASH!", activity: "üåä Make waves in sloped tub - steepen and break at shallow end!", keyConcept: "Shallow = bottom slows, top topples = breaks." },
            { title: "What makes currents?", hook: "Ocean water flows in huge rivers. What makes them?", scaffold: "Drain somewhere, OR wind/temperature?", explanation: "WIND pushes surface. TEMPERATURE differences (cold sinks, warm rises). Creates massive 'conveyor belts'!", activity: "üå°Ô∏è Warm red water + cold blue water - watch currents form!", keyConcept: "Wind + temperature ‚Üí ocean currents." },
            { title: "Why water swirls down drain?", hook: "Water spins draining. Why?", scaffold: "Always spin one way, OR depends on existing movement?", explanation: "Swirl direction = existing movement amplified! Like skater pulling arms in. For sinks, it's random (not Earth rotation).", activity: "üöø Settle water, then drain - might go either way! Stir first = determines direction.", keyConcept: "Drain swirl = existing movement amplified. Random for sinks!" },
            { title: "How do tides work?", hook: "Sea in and out twice daily. Why?", scaffold: "Sea breathing, OR MOON pulling?", explanation: "Moon's GRAVITY pulls water into bulges! As Earth rotates, you pass through bulges = 2 high tides/day!", activity: "üåô Tide times shift ~50 min daily - Moon orbits!", keyConcept: "Moon pulls water into bulges = 2 tides/day." }
          ]},
          4: { title: 'Water Life', icon: 'üê†', description: 'Living in water', lessons: [
            { title: "How fish breathe underwater?", hook: "Fish stay underwater forever. How breathe?", scaffold: "Hold breath well, OR different equipment?", explanation: "GILLS! Oxygen dissolved in water. Water flows over gills, oxygen passes into blood. Breathe water like you breathe air!", activity: "üêü Watch fish - mouth opens, gills move. Breathing!", keyConcept: "Gills extract oxygen from water." },
            { title: "Why whales surface?", hook: "Whales live in water but come up. Why can't use gills?", scaffold: "Forgot how, OR actually more like us?", explanation: "Whales = MAMMALS with LUNGS! Ancestors lived on land. Must breathe air. Some hold breath 2 HOURS!", activity: "üí® Hold breath 30 sec? Whale = 90 minutes!", keyConcept: "Whales = mammals. Lungs need air." },
            { title: "How fish survive cold?", hook: "Icy ponds. Cold-blooded fish. How not freeze?", scaffold: "Tiny heaters, OR body adapts?", explanation: "COLD-BLOODED = body matches water. Slow down, need less oxygen. Some have 'antifreeze' proteins! Ice floats = liquid below.", activity: "üßä Ice floats! Insulates liquid below where fish survive.", keyConcept: "Slow metabolism + antifreeze + liquid under ice." },
            { title: "How deep can life be?", hook: "Deep ocean: dark, crushing, freezing. Life there?", scaffold: "Empty, OR weird creatures adapted?", explanation: "Life at DEEPEST points! No swim bladders, make own light (bioluminescence). Life finds a way!", activity: "ü¶ë Look up deep sea creatures - they look like aliens!", keyConcept: "Life adapts to extreme: no bladder, own light." },
            { title: "Why sea salty?", hook: "Ocean salty, rain isn't. Where's salt from?", scaffold: "Giant salt shaker, OR built up over time?", explanation: "Salt from ROCKS! Rain dissolves minerals, rivers carry to sea. Water evaporates, salt stays. BILLIONS of years!", activity: "üßÇ Evaporate salt water - water goes, salt stays!", keyConcept: "Rivers bring dissolved rock. Water leaves, salt stays." }
          ]}
        }
      },
      shapes: {
        id: 'shapes', name: 'Amazing Shapes', icon: 'üî∑',
        gradient: 'gradient-shapes',
        description: 'Building blocks of everything',
        chapters: {
          1: { title: 'Flat Shapes (2D)', icon: '‚¨°', description: 'Shapes on paper', lessons: [
            { title: "What IS a shape?", hook: "Circles, squares... what actually IS a shape?", scaffold: "Just pictures, OR boundary marking space?", explanation: "Shape = BOUNDARY around space! The outline. Shapes describe everything - face (oval), eyes (circles), teeth (rectangles)!", activity: "‚úèÔ∏è Draw around hand - that outline IS a shape!", keyConcept: "Shape = boundary around a space." },
            { title: "Why circles special?", hook: "Circles everywhere - wheels, plates, coins. Why?", scaffold: "Just pretty, OR special properties?", explanation: "Every point SAME DISTANCE from center! Perfect for: WHEELS (roll smooth), PIPES (resist pressure), LIDS (rotate to fit). No corners to break!", activity: "üîµ Roll ball vs cube. Ball smooth, cube thunk-thunk on corners!", keyConcept: "Circle = all points equal from center. Rolls smooth!" },
            { title: "What's special about triangles?", hook: "Simplest straight-sided shape. What's special?", scaffold: "Three random, OR three is minimum?", explanation: "Can't make closed shape with 2 lines! Three = MINIMUM. Also STRONGEST - can't change shape without breaking! All polygons can divide into triangles.", activity: "üìê Try 2 straws = just angle. 3 = enclosed shape. Minimum!", keyConcept: "Triangle = minimum sides. Strongest - can't squash!" },
            { title: "Different shapes?", hook: "Triangle, square, pentagon... What makes them different?", scaffold: "Just names, OR counting sides?", explanation: "Named by SIDES! Triangle=3, Quadrilateral=4, Pentagon=5, Hexagon=6, Octagon=8. More sides = more like circle!", activity: "‚úã Hand = 5 fingers like pentagon! Stop sign = 8 = octagon!", keyConcept: "Polygon name = number of sides." },
            { title: "What's 'regular' mean?", hook: "Regular hexagon. What's regular?", scaffold: "Normal, OR specific meaning?", explanation: "REGULAR = all sides SAME length + all angles SAME! Regular triangle = equilateral. Regular quadrilateral = SQUARE (not rectangle!).", activity: "üìè Square = all sides equal. Rectangle = different lengths = irregular!", keyConcept: "Regular = all sides equal + all angles equal." },
            { title: "What are angles?", hook: "Some corners sharp, some wide. Why?", scaffold: "Random pointiness, OR measured?", explanation: "ANGLE = how much corner opens! Measured in DEGREES. Right angle = 90¬∞. Straight = 180¬∞. Full circle = 360¬∞.", activity: "üìê Book corner = 90¬∞. Open book wide = bigger angle. Flat = 180¬∞!", keyConcept: "Angle = how open. Right=90¬∞, Straight=180¬∞, Full=360¬∞." }
          ]},
          2: { title: 'Why Shapes Are That Shape', icon: 'ü§î', description: 'Reason behind every shape', lessons: [
            { title: "Why manhole covers circular?", hook: "Almost always circles. Why not square?", scaffold: "Tradition, OR clever reason?", explanation: "Circle CAN'T FALL THROUGH! Square tilted diagonally = narrower than hole. Circle same width every direction = can't fall in!", activity: "üîµ Cut paper circle and square. Square can fit through its hole tilted. Circle can't!", keyConcept: "Circle = same width all directions = can't fall through." },
            { title: "Why eggs egg-shaped?", hook: "Not round balls. Pointy one end. Why?", scaffold: "Evolution mistake, OR perfect design?", explanation: "GENIUS! Stronger than sphere. Rolls in CIRCLE (back to nest, not away). Packs tightly together!", activity: "ü•ö Gently press egg top-to-bottom - surprisingly strong! Arch shape.", keyConcept: "Egg shape = stronger + rolls in circles + packs tight." },
            { title: "Why bubbles spheres?", hook: "Always round. Never cubes. Why?", scaffold: "Air likes round, OR most efficient?", explanation: "SURFACE TENSION pulls soap film smallest! Smallest surface for volume = SPHERE. Nature is efficient!", activity: "ü´ß Can't make cube bubble! Surface tension forces sphere.", keyConcept: "Sphere = smallest surface for volume. Efficient!" },
            { title: "Why honeycomb hexagons?", hook: "Bees make perfect hexagons. Why not squares?", scaffold: "Bees like hexagons, OR mathematical reason?", explanation: "Of shapes that tile, hexagons have LEAST perimeter for area = least wax! Mathematically optimal. Bees are genius!", activity: "‚¨° Draw hexagons vs squares same area - hexagons need less edge line!", keyConcept: "Hexagons tile with LEAST perimeter = efficient!" },
            { title: "Why dice cubes?", hook: "Standard dice = cubes. Why?", scaffold: "Nice looking, OR fair rolling?", explanation: "6 identical faces = each has SAME CHANCE! Symmetric every direction. Fair!", activity: "üé≤ Roll 30 times - roughly equal each number. Fair because symmetric!", keyConcept: "Cube = 6 identical faces = fair rolling." },
            { title: "Why containers rectangles?", hook: "Boxes, books, phones... mostly rectangles. Why?", scaffold: "Habit, OR practical advantages?", explanation: "Rectangles STACK perfectly! No wasted space. Don't roll. Flat faces easy to make.", activity: "üì¶ Stack round tins vs boxes. Boxes fit perfectly!", keyConcept: "Rectangles stack with no gaps. Practical!" }
          ]},
          3: { title: 'Solid Shapes (3D)', icon: 'üßä', description: 'Length, width AND height', lessons: [
            { title: "3D vs 2D?", hook: "Circle vs sphere. What's different?", scaffold: "3D fancier, OR extra dimension?", explanation: "2D = FLAT (length + width). 3D = SOLID (length + width + HEIGHT). Circle = flat outline. Sphere = ball you hold!", activity: "üìÑ Draw circle (2D). Hold ball (3D). Ball goes around - extra dimension!", keyConcept: "2D = flat. 3D = solid with height/depth." },
            { title: "What's a sphere?", hook: "Balls, planets. What makes sphere special?", scaffold: "3D circle, OR unique properties?", explanation: "Every point SAME DISTANCE from center in ALL directions! Perfect for rolling, containing pressure, moving through air/water.", activity: "‚öΩ Ball rolls smooth any direction. Cube? Thunk thunk!", keyConcept: "Sphere = all surface points equal from center." },
            { title: "What's a cube?", hook: "Dice, boxes. What defines cube?", scaffold: "3D square, OR specific rules?", explanation: "6 IDENTICAL square faces! 8 corners, 12 edges. All edges same length. Stacks perfectly!", activity: "üßä Count dice: 6 faces, 8 corners, 12 edges!", keyConcept: "Cube = 6 square faces, 8 vertices, 12 edges." },
            { title: "What's a cylinder?", hook: "Cans, pipes, bottles. What's cylinder?", scaffold: "Tube shape, OR specific definition?", explanation: "2 identical CIRCLE ends + curved surface! Unroll curved part = rectangle! Good for liquids + rolling + stacking.", activity: "üìÉ Roll paper = cylinder! Rectangle becomes curve.", keyConcept: "Cylinder = 2 circles + curved rectangle." },
            { title: "What's a pyramid?", hook: "Egyptian pyramids. What IS a pyramid?", scaffold: "Triangle stack, OR base + triangles to point?", explanation: "Polygon BASE + triangular sides meeting at APEX! Square base = 4 triangle sides. VERY stable - wide base, narrow top!", activity: "üìê Paper pyramid: square base + 4 triangles to point. Hard to push over!", keyConcept: "Pyramid = base + triangles to apex. Stable!" },
            { title: "What's a cone?", hook: "Ice cream cones, traffic cones. What's cone?", scaffold: "Pointy cylinder, OR specific shape?", explanation: "CIRCLE base + curved surface to APEX! Smooth taper, not flat faces. Focuses toward point!", activity: "üéâ Make party hat from circle with wedge cut out!", keyConcept: "Cone = circle base + curve to point." },
            { title: "Edges, vertices, faces?", hook: "Counting parts of 3D shapes. What are these?", scaffold: "Fancy words, OR specific parts?", explanation: "FACE = flat surface. EDGE = line where faces meet. VERTEX = corner. Formula: F + V - E = 2!", activity: "üé≤ Cube: 6 faces + 8 vertices - 12 edges = 2. Works!", keyConcept: "F + V - E = 2 (Euler's formula)." }
          ]},
          4: { title: 'Shapes Fit Together', icon: 'üß©', description: 'Tessellation & patterns', lessons: [
            { title: "What shapes fit perfectly?", hook: "Some shapes fit with NO gaps. Others leave gaps. Which work?", scaffold: "Any shape, OR only certain ones?", explanation: "TESSELLATION = no gaps! Only works if angles at meeting point = 360¬∞. Triangles, squares, hexagons work. Pentagons DON'T!", activity: "üî∫ Draw triangles fitting - works! Pentagons - gaps appear!", keyConcept: "Tessellation = angles at point = 360¬∞." },
            { title: "Why bees use hexagons?", hook: "Triangles and squares also tessellate. Why hexagons?", scaffold: "Preference, OR mathematically best?", explanation: "Same area, hexagons have SHORTEST perimeter! Least wax for most honey storage. Proven mathematically in 1999!", activity: "üìè Same area: hexagon perimeter < square < triangle!", keyConcept: "Hexagons = least perimeter for area." },
            { title: "Mix different shapes?", hook: "Can different shapes fit together?", scaffold: "Need matching, OR combine cleverly?", explanation: "YES! Octagons + squares fit. Rule: angles at each meeting = 360¬∞. Islamic art uses many shapes together!", activity: "üé® Octagons leave gaps - fill with squares! 135¬∞+135¬∞+90¬∞=360¬∞!", keyConcept: "Different shapes can tessellate if angles = 360¬∞." },
            { title: "What makes patterns?", hook: "Tessellations make patterns. What makes them interesting?", scaffold: "Random, OR rules about repetition?", explanation: "UNIT CELL = smallest piece that repeats. Can have TRANSLATIONAL (slide), ROTATIONAL (turn), REFLECTIVE (mirror) symmetry!", activity: "üìê Find smallest piece of pattern that copies to make whole thing!", keyConcept: "Unit cell repeats with symmetry." },
            { title: "Penrose pattern?", hook: "Some patterns NEVER repeat! How?", scaffold: "All patterns repeat, OR pattern without repetition?", explanation: "Penrose tiles fit perfectly but NEVER repeat! Aperiodic tessellation. Found in some crystals!", activity: "üîç Look up Penrose tiles - fit together but no repeated section!", keyConcept: "Penrose = tessellates but never repeats!" }
          ]},
          5: { title: 'Symmetry: Mirror Magic', icon: 'ü™û', description: 'When parts match', lessons: [
            { title: "What IS symmetry?", hook: "Butterflies are symmetrical. What does that mean?", scaffold: "Being pretty, OR matching parts?", explanation: "SYMMETRY = one part MATCHES another! Butterfly left = mirror of right. Fold line = LINE OF SYMMETRY.", activity: "ü¶ã Fold paper, cut shape, unfold - symmetrical! Fold line = mirror line.", keyConcept: "Symmetry = matching parts across line." },
            { title: "How many symmetry lines?", hook: "Square looks same from different angles. How many lines?", scaffold: "Every shape has symmetry, OR different amounts?", explanation: "Different shapes = different lines! Square = 4. Rectangle = 2. Equilateral triangle = 3. Circle = INFINITE!", activity: "üìè Find square's mirror lines: vertical, horizontal, both diagonals = 4!", keyConcept: "Different shapes have different symmetry lines." },
            { title: "What's rotational symmetry?", hook: "Spin windmill - looks same several times. What symmetry?", scaffold: "Just repeating, OR different kind?", explanation: "ROTATIONAL = looks same when TURNED! Order = how many times per full turn. Square = order 4 (90¬∞ turns).", activity: "üîÑ Cut square, put dot on corner. Rotate - same at 90¬∞, 180¬∞, 270¬∞, 360¬∞ = order 4!", keyConcept: "Rotational = looks same when turned. Order = times per turn." },
            { title: "Nature loves symmetry?", hook: "Flowers, snowflakes, starfish... Why so much symmetry?", scaffold: "Nature artistic, OR practical reasons?", explanation: "EFFICIENCY! Flowers with radial symmetry = pollinate from any direction. Bilateral (left-right) = balanced movement!", activity: "üå∏ Count flower petals - that's often rotational symmetry order!", keyConcept: "Symmetry = efficient growth + function." },
            { title: "Asymmetrical things?", hook: "Not everything symmetrical. What's asymmetry?", scaffold: "Broken symmetry, OR deliberate?", explanation: "ASYMMETRY = no matching! Heart on left, dominant hand, fiddler crab's big claw. Shows CHARACTER!", activity: "üë§ Your face isn't perfectly symmetrical - that's what makes it unique!", keyConcept: "Asymmetry = uniqueness and character." }
          ]},
          6: { title: 'Shapes in Buildings', icon: 'üèõÔ∏è', description: 'Engineering with shapes', lessons: [
            { title: "Why windows rectangular?", hook: "Almost all windows rectangles. Why not circles?", scaffold: "Tradition, OR practical?", explanation: "PRACTICAL! Fit into rectangular walls. Less glass than circle. Straight edges seal better. Blinds fit!", activity: "ü™ü Imagine curtains for circular window - much harder!", keyConcept: "Rectangle windows = practical!" },
            { title: "Why domes strong?", hook: "Domes span huge spaces, no pillars. How?", scaffold: "Curved nice, OR distributes force?", explanation: "Domes = 3D ARCH in every direction! Convert downward force into compression flowing to base. Maximum space, minimum material!", activity: "ü•ö Press eggshell top - strong! Curved distributes force.", keyConcept: "Dome = 3D arch. Huge spans, no pillars!" },
            { title: "Why towers triangular/circular?", hook: "Eiffel Tower tapers. Lighthouse circular. Why?", scaffold: "Style, OR resist forces?", explanation: "Resist WIND! Wide base = stable. Narrower at top = less wind catch. Circular spreads wind load. Triangles for bracing!", activity: "üìê Two paper towers: straight vs tapered. Blow on both - tapered more stable!", keyConcept: "Tapering = stable base + less wind at top." },
            { title: "Why arches in old buildings?", hook: "Ancient buildings full of arches. Why?", scaffold: "Decorative, OR solved problem?", explanation: "Before steel, only STONE and BRICK - good at compression, bad at tension. Arches convert bending to compression. Stone loves it!", activity: "üèõÔ∏è Stack blocks with gap - one across sags. Arrange as arch with keystone - holds!", keyConcept: "Arches = compression. Stone loves compression." },
            { title: "Modern skyscraper shapes?", hook: "Tall buildings: boxes, twists, tapers. Why different?", scaffold: "Just looks, OR engineering reasons?", explanation: "Rectangle = efficient space. TWIST = reduces wind (no single flat face). TAPER = less wind up high. Shape = engineering!", activity: "üè¢ Look at skyscrapers - each shape is engineering decision!", keyConcept: "Skyscraper shape = balancing space + wind + strength." }
          ]},
          7: { title: 'Islamic Geometric Art', icon: '‚ò™Ô∏è', description: 'Beautiful mathematics in faith', lessons: [
            { title: "Why geometric patterns?", hook: "Mosques covered in geometry. Why?", scaffold: "Just decoration, OR deeper meaning?", explanation: "Geometric patterns reflect INFINITE nature of Allah! Extend FOREVER = eternity. Mathematical rules = divine order in creation!", activity: "üïå Patterns continue infinitely. Infinity in finite space!", keyConcept: "Geometry = infinity, divine order, perfection." },
            { title: "How are patterns made?", hook: "Look incredibly complex. Where start?", scaffold: "Each tile separate, OR simple rules?", explanation: "All start from CIRCLES! Compass + straightedge. Divide circles into equal parts (4,5,6,8,10,12...). Complexity from simplicity = how Allah creates!", activity: "‚≠ê Draw circle, divide into 6, connect points = star! Simple rules, complex results.", keyConcept: "Complex patterns from simple circles." },
            { title: "Different star numbers?", hook: "6-pointed, 8-pointed, 12-pointed stars. Why different?", scaffold: "Random, OR numbers have meaning?", explanation: "Numbers have MEANING! 8-pointed = 8 angels carrying throne. 12 = 12 months, 12 Imams. Different numbers create different patterns!", activity: "‚ú° Draw stars with different points - they tessellate differently!", keyConcept: "Star numbers have meanings and create different patterns." },
            { title: "What's arabesque?", hook: "Flowing curves with leaves. What's that called?", scaffold: "Just decoration, OR follows rules?", explanation: "ARABESQUE = flowing curves, spirals, plant forms. Same mathematical principles but with CURVES. Plants never end = also INFINITY!", activity: "üåø Draw spiral, add branches spiraling off. Goes on forever = arabesque thinking!", keyConcept: "Arabesque = flowing infinite curves." },
            { title: "Why patterns repeat?", hook: "Patterns repeat across huge walls. How?", scaffold: "Hand-measured, OR clever system?", explanation: "UNIT CELLS! Design one tile where edges continue to neighbors. Repeat forever! One careful design = infinite coverage.", activity: "üìê Design square where left continues from right, top from bottom. Tiles forever!", keyConcept: "Unit cell tiles perfectly = infinite from one design." },
            { title: "How is this mathematics?", hook: "Beautiful art = actually mathematics. How?", scaffold: "Maths just numbers, OR geometry is visual maths?", explanation: "Islamic patterns use: SYMMETRY, TESSELLATION, RATIOS, ANGLES. Artists were mathematicians! Faith-inspired art pushed maths forward.", activity: "üìè Creating geometric patterns = doing maths! Symmetry, angles, tessellation.", keyConcept: "Islamic art IS mathematics: symmetry, tessellation, ratios, angles." }
          ]}
        }
      },
      mindset: {
        id: 'mindset', name: 'Strong Mind & Kind Heart', icon: 'üí™',
        gradient: 'gradient-mindset',
        description: 'Building character from the inside',
        chapters: {
          1: { title: 'Kindness & Empathy', icon: 'üíù', description: 'Understanding others', lessons: [
            { title: "Why be kind?", hook: "Everyone says 'be kind!' But WHY? What does kindness actually DO?", scaffold: "Is kindness just a rule adults made up, OR does it actually make the world WORK better?", explanation: "Kindness is like GLUE for people! When you're kind, people trust you, want to help you, and feel safe around you. Unkindness breaks trust - people become scared and lonely. Imagine if NOBODY was kind - everyone would be alone and scared! Kindness builds friendships, families, and communities. It makes life WORK.", activity: "üîó Think of your best friend. WHY are they your friend? Probably because they've been kind to you! Kindness is how friendships are BUILT.", keyConcept: "Kindness = glue that holds people together. Without it, everyone is alone." },
            { title: "What is empathy?", hook: "Sometimes you see someone sad and YOU feel sad too. What's happening?", scaffold: "Is that weird, OR is your brain designed to FEEL what others feel?", explanation: "EMPATHY is your superpower to feel what someone else feels! When you see someone hurt, your brain actually feels a tiny bit of their pain. When they're happy, you feel happy too! This helps us understand each other. Without empathy, you wouldn't know if you were hurting someone or helping them.", activity: "üò¢ Next time someone is sad, notice YOUR feelings. Do you feel a little sad too? That's empathy! It's telling you 'this person needs kindness right now.'", keyConcept: "Empathy = feeling what others feel. It's your guide for how to treat people." },
            { title: "Do my words matter?", hook: "They're just words, right? They can't actually hurt someone... can they?", scaffold: "Are words just sounds that disappear, OR do they stick in people's minds forever?", explanation: "Words are POWERFUL! Mean words stick in people's brains - sometimes for YEARS. Someone might remember a cruel thing you said when they're a grown-up! Kind words also stick - they make people believe in themselves. Your words can build someone up or tear them down. Choose carefully!", activity: "üí≠ Think of the nicest thing anyone ever said to you. You still remember it! Now think of something mean. You remember that too. Words STAY.", keyConcept: "Words stick in minds forever. Kind words build people up. Mean words tear down." },
            { title: "Why help people who can't help me back?", hook: "If someone can't do anything for you, why bother helping them?", scaffold: "Is helping only worth it if you get something back, OR is there a deeper reason?", explanation: "Here's the secret: helping others actually helps YOU! When you help someone, your brain releases chemicals that make YOU feel good. It's called the 'helper's high.' Plus, you become the kind of person others WANT to help. AND it's just the right thing to do - we all need help sometimes.", activity: "üéÅ Do something kind for someone who can't pay you back - maybe help a younger kid or pick up litter. Notice how YOU feel after. Good, right?", keyConcept: "Helping others makes YOUR brain happy. And it's the right thing to do." },
            { title: "What if being kind is hard?", hook: "Sometimes you don't FEEL like being kind. What then?", scaffold: "Do you only be kind when you feel like it, OR can you choose kindness even when it's hard?", explanation: "Kindness is a CHOICE, not just a feeling! Sometimes you're tired, angry, or upset - being kind feels impossible. But that's when it matters MOST. Anyone can be kind when it's easy. Choosing kindness when it's HARD is what makes you strong. It's like a muscle - the more you use it, the stronger it gets.", activity: "üí™ Next time you're grumpy and don't feel kind, try being kind ANYWAY. Notice how hard it is - but also notice that you CAN do it. That's strength!", keyConcept: "Kindness when it's hard = true strength. It's a choice, not just a feeling." }
          ]},
          2: { title: 'Never Giving Up', icon: 'üî•', description: 'Resilience and persistence', lessons: [
            { title: "Why do I fail sometimes?", hook: "You try something and it doesn't work. You FAILED. Why does that happen?", scaffold: "Does failing mean you're not good enough, OR is failing just part of HOW you learn?", explanation: "Failing is your brain's LEARNING SIGNAL! When you fail, your brain says 'Ooh, that didn't work - let me remember not to do that!' Every expert failed hundreds of times before becoming expert. Babies fall down thousands of times before walking. Failing isn't the opposite of success - it's the PATH to success!", activity: "üìù Ask a grown-up about something they're good at. Then ask: 'How many times did you fail before you got good?' The answer will be A LOT!", keyConcept: "Failing = learning signal. Every expert failed many times first." },
            { title: "What does 'never give up' mean?", hook: "People say 'never give up!' But NEVER? What if it's really, really hard?", scaffold: "Does 'never give up' mean keep doing the exact same thing, OR does it mean keep TRYING even if you change HOW?", explanation: "Never giving up doesn't mean banging your head against a wall! It means: if one way doesn't work, TRY A DIFFERENT WAY. Failed the puzzle? Try a new approach. Can't reach something? Get a stool. 'Never give up' means never stop TRYING - but be smart and try different things!", activity: "üß© If you're stuck on something, instead of giving up OR doing the same thing, ask: 'What's a DIFFERENT way I could try this?'", keyConcept: "Never give up = keep trying different ways. Not the same way forever!" },
            { title: "What is resilience?", hook: "Some people get knocked down and bounce back. Others stay down. What's the difference?", scaffold: "Are some people just born tough, OR is bouncing back something you can LEARN?", explanation: "RESILIENCE is like being a rubber ball - you get squashed but bounce back! It's not about not falling. Everyone falls. It's about getting UP again. And here's the secret: every time you get up, you get a tiny bit MORE resilient. It's a skill you BUILD by practicing. Tough times make you tougher!", activity: "üèÄ Bounce a ball - it always comes back up! Now imagine YOU as that ball. Every time life pushes you down, you can choose to bounce back.", keyConcept: "Resilience = bouncing back after hard times. Built by practice!" },
            { title: "Is it okay to feel frustrated?", hook: "When things are hard, you feel angry and frustrated. Is that bad?", scaffold: "Should you pretend you're not frustrated, OR is frustration actually USEFUL?", explanation: "Frustration is your brain saying 'I CARE about this and I want to succeed!' It's actually a GOOD sign - it means you haven't given up. The feeling is okay - what matters is what you DO with it. Take a breath, then use that energy to try again. Frustration can become FUEL!", activity: "üò§ Next time you're frustrated, say 'This feeling means I care!' Take 3 deep breaths. Then try again. Use the frustration as fuel.", keyConcept: "Frustration means you care. Take a breath, use it as fuel to try again." },
            { title: "What's the difference between hard and impossible?", hook: "Sometimes things feel impossible. But are they really?", scaffold: "When something feels impossible, IS it impossible, OR does it just mean you need more time or a different approach?", explanation: "Very few things are truly impossible! Most 'impossible' things are just HARD + you haven't found the right way YET. Flying was 'impossible' until the Wright brothers. Running a 4-minute mile was 'impossible' until Roger Bannister. When something feels impossible, ask: 'Has anyone ever done this?' Usually yes! That means YOU can too.", activity: "üöÄ Think of something you can do now that felt impossible when you were younger (reading, riding a bike, swimming). It wasn't impossible - just hard! What feels hard NOW that you'll master later?", keyConcept: "Most 'impossible' = just hard + not yet. Very few things are truly impossible!" }
          ]},
          3: { title: 'Hard Work & Effort', icon: '‚öíÔ∏è', description: 'Why effort matters', lessons: [
            { title: "Why do I have to work for things?", hook: "Why can't everything just be easy? Why do we have to work hard?", scaffold: "Is hard work just unfair, OR is the effort actually PART of what makes things valuable?", explanation: "Things you work for are worth MORE to you! A toy you saved up for feels more special than one just given to you. A skill you practiced feels AMAZING to use. Easy things don't build your strength - challenges do! Working hard is how you become capable, confident, and proud of yourself.", activity: "üèÜ Think of something you worked really hard for. How did it feel when you finally got it? Better than easy stuff, right?", keyConcept: "Working hard makes things more valuable AND makes YOU stronger." },
            { title: "What is practice?", hook: "Why do I have to practice things over and over? It's so boring!", scaffold: "Is practice just repeating things for no reason, OR is it actually CHANGING YOUR BRAIN?", explanation: "Practice literally REWIRES your brain! Every time you practice, the connections in your brain get stronger and faster. First time = slow, hard, lots of mistakes. 100th time = fast, easy, automatic! Musicians can play without thinking because they practiced until their brains rewired. You're BUILDING a better brain!", activity: "üß† Try writing your name with your wrong hand. Hard! Now imagine doing it 100 times. It would get easier because your brain would rewire. That's practice!", keyConcept: "Practice rewires your brain. Connections get stronger each time." },
            { title: "Does talent matter more than effort?", hook: "Some people seem naturally good at things. If you're not talented, why bother trying?", scaffold: "Is talent everything, OR can hard work BEAT natural talent?", explanation: "Effort beats talent when talent doesn't try! A 'talented' person who never practices will be beaten by a 'non-talented' person who practices every day. Studies show that most 'talented' people actually just practiced more when they were young. Hard work is the great equalizer - it can make up for almost anything!", activity: "üìä Think of someone amazing at something. Ask them (or look up) how much they practiced. Even 'naturals' worked incredibly hard!", keyConcept: "Hard work beats talent when talent doesn't work hard." },
            { title: "Why is 'hard' a good sign?", hook: "When something feels hard, you want to quit. But what if 'hard' means something different?", scaffold: "Does 'hard' mean you should stop, OR does it mean you're about to grow?", explanation: "When something feels hard, your brain is GROWING! Easy things don't change you. Hard things stretch your brain to become bigger, stronger, faster. That uncomfortable feeling IS the feeling of growth. Athletes say 'no pain, no gain.' For learning, it's 'no struggle, no growth!'", activity: "üå± A plant breaking through soil is 'hard' for the plant. But that's how it grows toward the sun! Your hard moments are you breaking through to become stronger.", keyConcept: "Hard = your brain is growing. No struggle, no growth!" },
            { title: "Can I have it now or should I wait?", hook: "You want something NOW. But sometimes waiting gets you something BETTER. What should you do?", scaffold: "Is waiting for something better silly, OR is it actually a superpower?", explanation: "DELAYED GRATIFICATION is a superpower! People who can wait for bigger rewards are more successful in almost everything. It means choosing: 1 sweet now, OR 3 sweets later. Easy fun now, OR achieving your dream later. Every time you choose to wait for something better, you're training your brain to be stronger!", activity: "üç¨ Try the marshmallow test! Put a treat in front of you. Wait 5 minutes without eating it. If you can wait, you get TWO treats. This builds self-control!", keyConcept: "Waiting for bigger rewards = superpower. Trains your brain to be stronger!" }
          ]},
          4: { title: 'Growth Mindset', icon: 'üå±', description: 'Your brain can grow', lessons: [
            { title: "Can my brain get smarter?", hook: "Are you born with a set amount of 'smartness', or can you GROW your brain?", scaffold: "Is your brain fixed like your eye color, OR can it change and grow like a muscle?", explanation: "Your brain is like a MUSCLE - it grows when you use it! Every time you learn something hard, your brain makes new connections. You're not stuck with the brain you were born with. Kids who believe their brain can grow actually DO better in school because they try harder!", activity: "üß† Your brain has 86 BILLION neurons! Every time you learn something new, some of those neurons connect in new ways. Learning = literally BUILDING your brain!", keyConcept: "Your brain grows like a muscle. Learning makes it stronger!" },
            { title: "Why are mistakes good?", hook: "Mistakes feel bad. You want to avoid them. But what if mistakes are actually USEFUL?", scaffold: "Are mistakes just failures to feel bad about, OR are they the SECRET to learning?", explanation: "Mistakes are how your brain knows what to FIX! Without mistakes, you wouldn't know what you need to learn. When you make a mistake, your brain pays extra attention and remembers better next time. Scientists found that people who make mistakes and learn from them become smarter than people who never make mistakes!", activity: "üéØ Next time you make a mistake, say 'Good! Now my brain knows what to practice!' Then try again. Mistake = feedback = improvement.", keyConcept: "Mistakes = feedback for your brain. They show what to learn next!" },
            { title: "What's the magic word 'YET'?", hook: "When you can't do something, it feels final. But one little word changes everything.", scaffold: "Is 'I can't do it' the end of the story, OR does adding 'YET' change everything?", explanation: "'I can't ride a bike' ‚Üí 'I can't ride a bike YET.' 'I can't read' ‚Üí 'I can't read YET.' 'I don't understand' ‚Üí 'I don't understand YET.' That tiny word 'YET' reminds you that you're ON THE WAY. You're not finished learning! Everything you CAN do now, you once couldn't do... YET.", activity: "üìù Write down 3 things you can't do. Now add 'YET' to each one. Notice how it feels different? You're not stuck - you're on the way!", keyConcept: "'Can't do it YET' = you're on the way. Not stuck, just not finished!" },
            { title: "Who should I compare myself to?", hook: "Someone is always better than you at something. How do you deal with that?", scaffold: "Should you compare yourself to others, OR to a different version of yourself?", explanation: "Compare yourself to YESTERDAY YOU! There will always be someone better AND someone worse than you at anything. That comparison is useless. But comparing yourself to who you were yesterday - THAT shows real progress. Are you better at reading than last month? Better at being patient than last year? That's what matters!", activity: "üìÜ Think of something you're better at now than 1 year ago. You grew! That's the only comparison that matters. You vs. past you.", keyConcept: "Compare yourself to yesterday you. That shows real progress!" },
            { title: "Is asking for help cheating?", hook: "You want to do it yourself. Asking for help feels like giving up. Is it?", scaffold: "Is asking for help a weakness, OR is it actually the SMART thing to do?", explanation: "Asking for help is SMART, not weak! The most successful people ask for help all the time. You learn faster with a teacher than alone. Even superheroes have teams! Asking for help means 'I want to learn and grow.' Being too proud to ask means 'I'd rather stay stuck.' Which is smarter?", activity: "ü¶∏ Think of any superhero - they ALL have helpers, teams, mentors. Batman has Alfred. Iron Man had Jarvis. Asking for help isn't weakness - it's wisdom!", keyConcept: "Asking for help = smart and strong. You learn faster with help!" }
          ]},
          5: { title: 'Understanding Feelings', icon: 'üé≠', description: 'All emotions are okay', lessons: [
            { title: "Are all feelings okay to feel?", hook: "Some feelings are nice (happy, excited). Some feel bad (sad, angry). Are the bad ones wrong?", scaffold: "Should you push away bad feelings, OR are ALL feelings okay to feel?", explanation: "ALL feelings are okay! Feelings are just information - they tell you something. Sad = you lost something you cared about. Angry = something seems unfair. Scared = something might hurt you. The feeling isn't good or bad - it just IS. What matters is what you DO with the feeling. Feel it, understand it, then choose your action.", activity: "üåà Feelings are like weather - you can't control whether it rains, but you CAN control what you do in the rain (get an umbrella!). All weather happens. All feelings happen.", keyConcept: "All feelings are okay. They're information. What matters is what you DO with them." },
            { title: "Why do I get angry?", hook: "Sometimes anger explodes out of you! Where does it come from and what should you do?", scaffold: "Is anger just bad, OR is it trying to TELL you something important?", explanation: "Anger is an ALARM! It says 'Something is unfair!' or 'My boundaries were crossed!' That alarm is useful - it tells you something is wrong. But you don't want to let the alarm control you. Feel the anger, understand WHY you're angry, then CHOOSE what to do calmly. Anger tells you about a problem. YOU decide the solution.", activity: "üö® When you feel angry, try this: STOP. Take 3 breaths. Ask 'What is my anger trying to tell me?' Then choose what to do. Don't let the alarm drive the car!", keyConcept: "Anger = alarm saying something is wrong. Feel it, understand it, then CHOOSE your action." },
            { title: "What is patience?", hook: "Waiting is SO hard. You want it NOW. What is patience and how do you get more of it?", scaffold: "Is patience just suffering through waiting, OR is it a skill you can practice?", explanation: "Patience is a MUSCLE you can build! Every time you wait calmly, your patience gets stronger. Impatient people struggle in life because almost everything good takes time. Patient people can work toward big goals. Patience doesn't mean you don't WANT it now - it means you can handle waiting.", activity: "‚è≥ Practice patience with small things. Waiting for food? Practice calm waiting. In a queue? Practice. Every calm wait builds your patience muscle.", keyConcept: "Patience is a muscle. Build it with small waits. Strong patience = big achievements." },
            { title: "What is being brave?", hook: "Brave people aren't scared of anything, right?", scaffold: "Is being brave about NOT feeling fear, OR about acting even WHEN you feel fear?", explanation: "Being brave isn't about not being scared - it's about doing the right thing EVEN WHEN you're scared! Everyone feels fear. Heroes, firefighters, astronauts - they all feel fear. Brave people feel the fear and do it anyway because it matters. Bravery without fear isn't brave - it's just not understanding the danger!", activity: "ü¶Å Think of something that scares you a little. Now do it anyway (if it's safe!). That moment - feeling scared but doing it - THAT is bravery. You're braver than you think!", keyConcept: "Brave = feeling fear AND doing it anyway. No fear = not understanding danger!" },
            { title: "Why should I talk about feelings?", hook: "Sometimes you don't want to talk about how you feel. Why bother?", scaffold: "Is talking about feelings weakness, OR does it actually make them EASIER to handle?", explanation: "Talking about feelings makes them SMALLER and more manageable! When feelings stay inside, they grow bigger and scarier. When you say them out loud to someone you trust, they shrink. Scientists call this 'name it to tame it.' Just saying 'I feel angry' makes the anger easier to handle!", activity: "üó£Ô∏è Next time you feel a strong feeling, try saying out loud: 'I feel ____.' Notice if it feels even a tiny bit better. Naming tames!", keyConcept: "Name it to tame it. Saying feelings out loud makes them smaller and easier to handle." }
          ]},
          6: { title: 'Curiosity & Questions', icon: '‚ùì', description: 'The power of asking why', lessons: [
            { title: "Why should I ask questions?", hook: "Some kids are shy to ask questions. But what if asking questions is actually a SUPERPOWER?", scaffold: "Is asking questions annoying, OR is it how the smartest people in the world learn?", explanation: "EVERY smart person asks LOTS of questions! Scientists, inventors, doctors - they all started by asking 'why?' and 'how?' Questions are how you open doors in your brain. A kid who asks questions learns 10x faster than one who stays quiet. There are no stupid questions - only missed chances to learn!", activity: "‚ùì Today, try to ask 10 questions about anything! 'Why is the sky blue? How do planes fly? Why do we sleep?' Every question makes you smarter.", keyConcept: "Questions = doors to learning. Smart people ask LOTS of questions!" },
            { title: "What is curiosity?", hook: "You see something interesting and you HAVE to know more. What is that feeling?", scaffold: "Is curiosity just being nosy, OR is it your brain's way of making you LEARN?", explanation: "Curiosity is your brain saying 'FEED ME!' It's the hungry feeling that makes you want to understand things. Curious people discover new things, solve problems, and never get bored! The most successful people stayed curious their whole lives. Never lose your curiosity - it's your learning engine!", activity: "üîç Find something ordinary (a leaf, a tap, a light switch) and ask 5 questions about it. How does it work? Why is it that shape? Curiosity makes everything interesting!", keyConcept: "Curiosity = your brain hungry to learn. Keep it fed with questions!" },
            { title: "Why try difficult things?", hook: "Easy things feel nice. Difficult things feel uncomfortable. So why not just do easy things?", scaffold: "Are difficult things just painful, OR do they give you something easy things CAN'T?", explanation: "Easy things keep you the SAME. Difficult things make you GROW! Think of it like exercise - lifting light weights is easy but doesn't build muscle. Heavy weights are hard but make you strong. Your brain works the same way! Every difficult thing you try makes you more capable.", activity: "üí™ Pick something slightly too hard for you and TRY it. Maybe a harder puzzle, a new skill, a bigger climb. Feel that struggle? That's you growing!", keyConcept: "Easy = stay the same. Difficult = grow stronger. Choose growth!" },
            { title: "How do I solve difficult problems?", hook: "You face a problem that seems impossible. What do you do?", scaffold: "Should you just give up, OR is there a way to break big problems into smaller pieces?", explanation: "Big problems are just LOTS of small problems stacked together! The secret is to break them apart. Can't build the whole Lego set? Build one section. Can't read the whole book? Read one page. Can't solve the puzzle? Find one piece. Small wins add up to big victories!", activity: "üß© Next time something seems too hard, ask: 'What's the SMALLEST first step?' Do just that. Then the next small step. Big problems fall apart when you break them down!", keyConcept: "Big problem = many small problems. Break it down. Small steps add up!" },
            { title: "What if I don't know the answer?", hook: "Someone asks you something and you don't know. That feels embarrassing. What should you do?", scaffold: "Should you pretend you know, OR is saying 'I don't know' actually POWERFUL?", explanation: "'I don't know' is the START of learning, not the end! Nobody knows everything. The smartest people say 'I don't know - let's find out!' Pretending you know stops you from learning. Admitting you don't know opens the door to discovery. 'I don't know YET' is always honest and always leads somewhere!", activity: "üî¨ Next time you don't know something, say proudly: 'I don't know - let's find out together!' Then look it up or ask someone. That's what scientists do!", keyConcept: "'I don't know' = start of learning. Never pretend. Always discover!" }
          ]},
          7: { title: 'Dreams & Joy', icon: '‚≠ê', description: 'What makes life wonderful', lessons: [
            { title: "What are dreams and why do they matter?", hook: "You imagine being something amazing when you grow up. Is that just silly imagination?", scaffold: "Are dreams just fantasy, OR are they the first step to making amazing things REAL?", explanation: "Every amazing thing in the world started as someone's DREAM! Planes, phones, medicines, art - someone imagined it first. Your dreams are like a compass - they point you toward what you care about. Dreams give you something to work toward. Without dreams, you just wander. With dreams, you have direction!", activity: "‚ú® Draw or write your biggest dream - what do you want to do, be, or create? Put it somewhere you'll see it. That dream is your compass!", keyConcept: "Dreams = compass for your life. Every amazing thing started as a dream!" },
            { title: "How do I follow my dreams?", hook: "Having a dream is one thing. But how do you actually REACH it?", scaffold: "Do dreams just come true by wishing, OR do you need to build a PATH to them?", explanation: "Dreams come true through STEPS! Astronauts dreamed of space, then studied maths, then trained for years. Every dream has a path. Break your dream into steps: What's the FIRST thing you'd need to learn? Start there. Dream big, but step small. Each step brings you closer!", activity: "ü™ú Take your dream and work backwards. What would you need to do just BEFORE achieving it? And before that? Keep going until you find something you can start TODAY.", keyConcept: "Dreams need paths. Break into steps. Start small, dream big!" },
            { title: "Why is having fun important?", hook: "Adults say 'stop playing and do something useful!' But is fun actually useless?", scaffold: "Is fun just wasting time, OR is it actually IMPORTANT for your brain?", explanation: "Fun is ESSENTIAL, not extra! When you're having fun, your brain releases chemicals that help you learn better, be more creative, and stay healthy. People who never have fun burn out and get sad. Fun recharges your batteries! The best ideas often come when you're playing. Fun isn't the opposite of work - it's the fuel for it!", activity: "üéâ Schedule fun like it's important - because it IS! What makes you laugh and feel alive? Do it regularly. Your brain needs it.", keyConcept: "Fun = brain fuel. Makes you learn better, more creative, and healthy!" },
            { title: "Why is family time special?", hook: "You could play on screens or alone. Why does spending time with family matter?", scaffold: "Is family time just something adults want, OR does it give you something you can't get elsewhere?", explanation: "Family is your ROOTS! Like a tree needs roots to grow tall, you need family connections to grow strong. Family gives you: people who love you NO MATTER WHAT, a safe place when things go wrong, people who remember your whole story, and traditions that make you YOU. Screens are fun but they don't love you back!", activity: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Plan something with family - a game, a walk, cooking together. Put the screens away. Notice how different it feels to have real laughs and real hugs.", keyConcept: "Family = your roots. Love, safety, belonging. You can't get this from screens!" },
            { title: "How do I make every day fun?", hook: "Some days feel boring. How do you make ordinary days feel good?", scaffold: "Do you need special things to have fun, OR can you find fun in ordinary moments?", explanation: "Fun is a CHOICE, not a circumstance! You can make almost anything fun by: being curious about it, turning it into a game, doing it with someone you like, or challenging yourself. Boring is not in the activity - it's in your ATTITUDE. People who find fun everywhere are happier than people who need special things to be happy.", activity: "üéÆ Take something 'boring' (tidying up, walking to school) and make it fun. Race against time? Make it a game? Do it silly? YOU control the fun!", keyConcept: "Fun is a choice, not a circumstance. Find it anywhere by changing your attitude!" },
            { title: "What should I do every day?", hook: "If you could only do a few things every day, what should they be?", scaffold: "Is every day just random, OR are there things that ALWAYS make life good?", explanation: "Here's the secret recipe for a good day: 1) LEARN something (stay curious), 2) MOVE your body (play, run, dance), 3) BE KIND to someone, 4) CONNECT with family or friends, 5) HAVE FUN! If you do these five things, almost every day will feel good. Miss them, and even 'exciting' days feel empty.", activity: "üìã Before bed tonight, check: Did I learn? Move? Be kind? Connect? Have fun? Try to get all 5 tomorrow. See how it feels!", keyConcept: "Daily recipe: Learn + Move + Be kind + Connect + Have fun = good life!" }
          ]}
        }
      },
      projects: {
        id: 'projects', name: 'Interactive Projects', icon: 'üéÆ',
        gradient: 'gradient-projects',
        description: 'Learn by building and playing',
        chapters: {
          1: { title: 'Lego Code Builder', icon: 'üß±', description: 'Learn programming with bricks', lessons: [
            { title: "What is a program?", hook: "Computers and robots follow instructions. But what exactly IS a program?", scaffold: "Is a program magic, OR is it just a LIST of steps to follow in order?", explanation: "A program is simply a LIST OF INSTRUCTIONS! Just like a recipe tells you 'first crack eggs, then mix, then bake' - a program tells a computer 'first do this, then do that, then do this.' The computer follows the steps in ORDER. That's called a SEQUENCE. Every app, game, and website is just a list of instructions!", activity: "üéÆ Open the LEGO CODE BUILDER project! Try Level 1: Add commands in order (Red, Blue, Yellow) and watch the bricks stack. That's a SEQUENCE - steps in order!", keyConcept: "Program = list of instructions. Computer follows them in order (sequence)." },
            { title: "What is a sequence?", hook: "When you get dressed, does it matter what order you do things?", scaffold: "Can you put on shoes then socks, OR does the ORDER matter?", explanation: "ORDER MATTERS! Socks THEN shoes works. Shoes then socks doesn't! In programming, a SEQUENCE is steps that happen in a specific order. Step 1, then Step 2, then Step 3. If you change the order, you get a different result. Building a Lego tower? Red-Blue-Yellow is different from Yellow-Blue-Red!", activity: "üß± In LEGO CODE BUILDER Level 1: Try making the tower Red, Blue, Yellow. Then clear and try Yellow, Blue, Red. Same bricks, different ORDER = different tower!", keyConcept: "Sequence = steps in order. Change the order, change the result!" },
            { title: "What is a loop?", hook: "What if you need to do the same thing 100 times? Do you write it 100 times?", scaffold: "Do programmers write the same instruction over and over, OR is there a shortcut?", explanation: "LOOPS are the shortcut! Instead of writing 'Add Red, Add Red, Add Red, Add Red' - you write 'REPEAT 4 times: Add Red.' Same result, much less work! Loops are one of the most powerful ideas in programming. Anything that repeats can use a loop!", activity: "üîÑ In LEGO CODE BUILDER Level 2: Build 4 red bricks using the REPEAT block. Set it to 4 and put 'Add Red' inside. One command builds 4 bricks!", keyConcept: "Loop = repeat instructions. Do something many times with one command!" },
            { title: "What is If-Then?", hook: "What if you want the computer to make a DECISION? Not just follow blindly?", scaffold: "Do programs just do the same thing every time, OR can they CHOOSE what to do?", explanation: "IF-THEN lets programs make decisions! 'IF it's raining, THEN bring umbrella.' 'IF enemy is close, THEN run away.' The program CHECKS something and DECIDES what to do based on what it finds. This makes programs SMART - they can react to different situations differently!", activity: "‚ùì In LEGO CODE BUILDER Level 3: Use IF-THEN to alternate colors. 'IF last brick is Red, THEN add Blue.' The program makes decisions!", keyConcept: "If-Then = making decisions. IF something is true, THEN do this!" },
            { title: "Why is programming like Lego?", hook: "Building with Lego and writing programs seem different. But are they?", scaffold: "Are Lego and coding totally different, OR do they use the same kind of thinking?", explanation: "They're the SAME kind of thinking! Both use: BUILDING BLOCKS (small pieces that combine), SEQUENCES (order matters), PATTERNS (repeat things that work), DEBUGGING (fix what doesn't work). When you build with Lego, you're thinking like a programmer. When you code, you're building with digital bricks!", activity: "üèóÔ∏è Think about your favorite Lego build. What blocks did you use? What order? Did you repeat any patterns? That's programming thinking!", keyConcept: "Lego and coding both: use blocks, need order, repeat patterns, fix mistakes!" }
          ]},
          2: { title: 'Robot Arm Lab', icon: 'ü¶æ', description: 'Build and control a robot arm', lessons: [
            { title: "What is a robot arm?", hook: "Factory robots move things all day long. But how does a robot arm actually work?", scaffold: "Is a robot arm magic, OR is it made of simple parts working together?", explanation: "A robot arm is made of SIMPLE PARTS! A base that stays still, joints that rotate, arms that reach, and a gripper that grabs. Each part has a MOTOR (tiny engine) that makes it move. Put them together and you get an arm that can reach anywhere and grab anything! Your own arm works the same way - shoulder, elbow, wrist, fingers!", activity: "ü¶æ Open the ROBOT ARM LAB and BUILD your robot! Start with the Base, then add each part. Watch how they connect!", keyConcept: "Robot arm = simple parts (base + joints + arms + gripper) + motors!" },
            { title: "What are joints?", hook: "Your arm can reach in many directions. How does it do that?", scaffold: "Does your arm bend anywhere, OR only at certain points?", explanation: "Joints are the BENDING POINTS! Your shoulder joint rotates your whole arm. Your elbow joint bends it in the middle. Your wrist joint rotates your hand. Robot arms have the same joints! Each joint has a MOTOR that spins it. More joints = more ways to move = more places you can reach!", activity: "üîµ In the Robot Arm Lab, watch how the Shoulder rotates the whole arm, and the Elbow bends it. Try moving both - see how many places you can reach!", keyConcept: "Joints = places that bend. More joints = more flexibility!" },
            { title: "What is a lever?", hook: "Why can you lift something heavy with a long stick but not with your bare hands?", scaffold: "Does arm LENGTH matter for lifting, OR can any arm lift the same amount?", explanation: "Arms are LEVERS! A lever trades DISTANCE for FORCE. A longer arm reaches FARTHER, but needs MORE POWER to lift the same weight. A shorter arm is STRONGER but reaches less far. That's why robot arms can extend and retract - longer for reaching, shorter for heavy lifting!", activity: "üìè In Robot Arm Lab, try the ARM LENGTH slider! Make it short (60%) and lift a block - easy! Make it long (100%) and try again. Notice the POWER meter goes up!", keyConcept: "Longer arm = more reach but needs more power. It's a trade-off!" },
            { title: "What is a gripper?", hook: "How does a robot pick things up without hands?", scaffold: "Does a gripper use glue to hold things, OR does it SQUEEZE like fingers?", explanation: "A gripper is a robot's HAND! It has two 'fingers' that OPEN and CLOSE. A motor pushes them together to grab, and pulls them apart to release. The robot controls exactly how hard to squeeze - tight enough to hold, but not so tight it crushes things! Just like how you hold an egg differently than a ball.", activity: "‚úä Use the GRIPPER button in Robot Arm Lab! Open it over a block, then close it to grab. Carry the block and open to release. You're controlling the fingers!", keyConcept: "Gripper = robot hand. Motor squeezes fingers to grab, releases to drop!" },
            { title: "What is force?", hook: "When you lift something heavy, you can feel it. What are you feeling?", scaffold: "Is heaviness just a feeling, OR is there a real FORCE you're fighting against?", explanation: "You're feeling FORCE! When you lift something, gravity pulls it DOWN. You have to push UP with equal force to hold it. The heavier it is, the more force you need. Robot arms measure force too - if they're pushing too hard, they might break something! The Force meter shows how hard the arm is working.", activity: "üí™ In Robot Arm Lab, grab a block and watch the FORCE meter! The more you extend the arm while holding it, the more force is needed. That's the lever effect!", keyConcept: "Force = push or pull. Lifting needs force to fight gravity!" },
            { title: "How do robots sort things?", hook: "Factories sort millions of items. Do humans sort them all?", scaffold: "Do people sort everything by hand, OR do robots help?", explanation: "Robots are AMAZING at sorting! They use a simple rule: IF color is red, THEN put in red bin. IF color is blue, THEN put in blue bin. They do this over and over, never getting tired or making mistakes. A robot arm can sort thousands of items per hour! That's how packages, food, and products get sorted in factories.", activity: "üéØ Play the SORT challenge in Robot Arm Lab! Pick up colored blocks and drop them in matching bins. You're doing what factory robots do!", keyConcept: "Robots sort using IF-THEN rules. They never get tired!" }
          ]}
        }
      }
    };

    // ========== APP STATE & RENDERING ==========
    let state = {
      view: 'home',
      category: null,
      chapter: null,
      lesson: 0,
      showAnswer: false
    };

    function getTotalLessons(cat) {
      return Object.values(cat.chapters).reduce((sum, ch) => sum + ch.lessons.length, 0);
    }

    function getGrandTotal() {
      return Object.values(categories).reduce((sum, cat) => sum + getTotalLessons(cat), 0);
    }

    function render() {
      const app = document.getElementById('app');
      
      if (state.view === 'home') {
        app.innerHTML = renderHome();
      } else if (state.view === 'chapters') {
        app.innerHTML = renderChapters();
      } else if (state.view === 'lesson') {
        app.innerHTML = renderLesson();
      }
      
      attachEventListeners();
    }

    function renderHome() {
      const total = getGrandTotal();
      const catCount = Object.keys(categories).length;
      
      let catCards = Object.values(categories).map(cat => `
        <button onclick="selectCategory('${cat.id}')" class="${cat.gradient} p-5 rounded-2xl text-left hover:opacity-90 active:scale-95 transition-all shadow-xl">
          <div class="text-4xl mb-2">${cat.icon}</div>
          <h2 class="text-xl font-bold mb-1">${cat.name}</h2>
          <p class="text-white/80 text-sm">${cat.description}</p>
          <div class="mt-3 text-white/60 text-sm">
            ${Object.keys(cat.chapters).length} chapters ‚Ä¢ ${getTotalLessons(cat)} lessons ‚Üí
          </div>
        </button>
      `).join('');

      return `
        <div class="p-4 md:p-8 max-w-5xl mx-auto">
          <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold mb-2">ü™∂ Aydin's Learning Lab</h1>
            <p class="text-slate-400">First principles learning - the Feynman way</p>
            <div class="mt-2 text-amber-400 font-medium">${total} lessons across ${catCount} categories</div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
            ${catCards}
          </div>
          <div class="mt-8 bg-slate-800/50 rounded-2xl p-5 border border-slate-700">
            <h3 class="font-bold text-lg mb-3 text-amber-400">üìñ How This Works</h3>
            <div class="grid md:grid-cols-2 gap-4 text-slate-300 text-sm">
              <div>
                <p class="mb-2"><span class="text-amber-400">1. üé£ Hook:</span> Ask the question</p>
                <p class="mb-2"><span class="text-blue-400">2. üîÄ Scaffold:</span> If "I don't know", give choices</p>
                <p><span class="text-green-400">3. üí° Explain:</span> Simple answer</p>
              </div>
              <div>
                <p class="mb-2"><span class="text-purple-400">4. üèÉ Activity:</span> Hands-on experiment</p>
                <p><span class="text-pink-400">5. üß∏ Teddy Test:</span> Aydin teaches YOU</p>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function renderChapters() {
      const cat = categories[state.category];
      
      let chapterCards = Object.entries(cat.chapters).map(([num, ch]) => `
        <button onclick="selectChapter('${num}')" class="w-full bg-slate-800/50 hover:bg-slate-700/50 border border-slate-700 hover:border-slate-500 rounded-xl p-4 text-left transition-all">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 ${cat.gradient} rounded-xl flex items-center justify-center text-2xl">${ch.icon}</div>
            <div class="flex-1">
              <div class="text-slate-400 text-sm">Chapter ${num}</div>
              <h3 class="text-lg font-bold">${ch.title}</h3>
              <p class="text-slate-400 text-sm">${ch.description}</p>
            </div>
            <div class="text-right">
              <div class="text-xl font-bold">${ch.lessons.length}</div>
              <div class="text-slate-500 text-xs">lessons</div>
            </div>
          </div>
        </button>
      `).join('');

      return `
        <div class="p-4 md:p-8 max-w-4xl mx-auto">
          <button onclick="goHome()" class="text-slate-400 hover:text-white mb-6 flex items-center gap-2">
            ‚Üê Back to Categories
          </button>
          <div class="${cat.gradient} rounded-2xl p-6 mb-6">
            <div class="flex items-center gap-4">
              <span class="text-5xl">${cat.icon}</span>
              <div>
                <h1 class="text-2xl md:text-3xl font-bold">${cat.name}</h1>
                <p class="text-white/80">${cat.description}</p>
                <p class="text-white/60 text-sm mt-1">${getTotalLessons(cat)} lessons total</p>
              </div>
            </div>
          </div>
          <div class="space-y-3">
            ${chapterCards}
          </div>
        </div>
      `;
    }

    function renderLesson() {
      const cat = categories[state.category];
      const chapter = cat.chapters[state.chapter];
      const lesson = chapter.lessons[state.lesson];
      
      let lessonDots = chapter.lessons.map((l, idx) => `
        <button onclick="selectLesson(${idx})" class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium transition-all ${state.lesson === idx ? 'bg-white text-slate-900' : 'bg-slate-700 hover:bg-slate-600 text-slate-300'}">
          ${idx + 1}
        </button>
      `).join('');

      let answerSection = '';
      if (state.showAnswer) {
        const keyPart = lesson.keyConcept.split('.')[0].split('=')[0].split('‚Üí')[0].toLowerCase().trim();
        answerSection = `
          <div class="bg-green-500/10 border border-green-500/30 rounded-xl p-4">
            <h4 class="text-green-400 font-semibold mb-2">üí° Explain simply:</h4>
            <p class="text-white leading-relaxed">${lesson.explanation}</p>
            <div class="mt-3 bg-green-900/30 rounded-lg p-2">
              <span class="text-green-300 font-medium">üîë Key:</span>
              <span class="text-white ml-2">${lesson.keyConcept}</span>
            </div>
          </div>
          <div class="bg-purple-500/10 border border-purple-500/30 rounded-xl p-4">
            <h4 class="text-purple-400 font-semibold mb-2">üèÉ Do together:</h4>
            <p class="text-white leading-relaxed">${lesson.activity}</p>
          </div>
          <div class="bg-pink-500/10 border border-pink-500/30 rounded-xl p-4">
            <h4 class="text-pink-400 font-semibold mb-2">üß∏ Aydin teaches you:</h4>
            <p class="text-white">"Can you explain to Teddy why ${keyPart}?"</p>
          </div>
          ${state.category === 'projects' && state.chapter === 1 ? '<div class="bg-cyan-500/10 border border-cyan-500/30 rounded-xl p-4"><h4 class="text-cyan-400 font-semibold mb-2">üéÆ Interactive Project:</h4><button onclick="showGame()" class="w-full py-3 bg-gradient-to-r from-cyan-500 to-blue-600 hover:opacity-90 rounded-xl font-bold text-lg transition-all">üß± Launch Lego Code Builder!</button></div>' : ''}
          ${state.category === 'projects' && state.chapter === 2 ? '<div class="bg-purple-500/10 border border-purple-500/30 rounded-xl p-4"><h4 class="text-purple-400 font-semibold mb-2">üéÆ Interactive Project:</h4><button onclick="showRobotArm()" class="w-full py-3 bg-gradient-to-r from-purple-500 to-pink-600 hover:opacity-90 rounded-xl font-bold text-lg transition-all">ü¶æ Launch Robot Arm Lab!</button></div>' : ''}
        `;
      } else {
        answerSection = `
          <button onclick="showAnswer()" class="w-full py-4 ${cat.gradient} hover:opacity-90 rounded-xl font-bold text-lg transition-all">
            üëÜ Tap to reveal explanation & activity
          </button>
        `;
      }

      let prevDisabled = state.lesson === 0 ? 'opacity-50 cursor-not-allowed' : '';
      let nextDisabled = state.lesson === chapter.lessons.length - 1 ? 'opacity-50 cursor-not-allowed' : '';

      return `
        <div class="p-4 md:p-8 max-w-4xl mx-auto">
          <button onclick="goToChapters()" class="text-slate-400 hover:text-white mb-4 flex items-center gap-2">
            ‚Üê Back to Chapters
          </button>
          <div class="${cat.gradient} rounded-2xl p-4 mb-4">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="text-3xl">${chapter.icon}</span>
                <div>
                  <div class="text-white/70 text-sm">Chapter ${state.chapter}</div>
                  <h2 class="text-lg font-bold">${chapter.title}</h2>
                </div>
              </div>
              <div class="text-white/70 text-sm">${state.lesson + 1} / ${chapter.lessons.length}</div>
            </div>
          </div>
          ${state.category === 'projects' && state.chapter === 1 ? '<div class="mb-4"><button onclick="showGame()" class="w-full py-4 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 rounded-2xl font-bold text-xl shadow-lg shadow-cyan-500/30 flex items-center justify-center gap-3 transition-all hover:scale-[1.02]">üß± Launch Lego Code Builder! üöÄ</button></div>' : ''}
          ${state.category === 'projects' && state.chapter === 2 ? '<div class="mb-4"><button onclick="showRobotArm()" class="w-full py-4 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-400 hover:to-pink-500 rounded-2xl font-bold text-xl shadow-lg shadow-purple-500/30 flex items-center justify-center gap-3 transition-all hover:scale-[1.02]">ü¶æ Launch Robot Arm Lab! üöÄ</button></div>' : ''}
          <div class="flex gap-1.5 mb-4 overflow-x-auto pb-2 flex-wrap">
            ${lessonDots}
          </div>
          <div class="bg-slate-800/50 rounded-2xl border border-slate-700 overflow-hidden">
            <div class="bg-slate-700/50 p-4 border-b border-slate-600">
              <h3 class="text-xl font-bold">${lesson.title}</h3>
            </div>
            <div class="p-4 space-y-4">
              <div class="bg-amber-500/10 border border-amber-500/30 rounded-xl p-4">
                <h4 class="text-amber-400 font-semibold mb-2">üé£ Ask Aydin:</h4>
                <p class="text-lg text-white">"${lesson.hook}"</p>
              </div>
              <div class="bg-blue-500/10 border border-blue-500/30 rounded-xl p-4">
                <h4 class="text-blue-400 font-semibold mb-2">üîÄ If "I don't know":</h4>
                <p class="text-white">"${lesson.scaffold}"</p>
              </div>
              ${answerSection}
            </div>
          </div>
          <div class="flex justify-between mt-4">
            <button onclick="prevLesson()" class="px-5 py-2 bg-slate-700 rounded-xl ${prevDisabled}">‚Üê Previous</button>
            <button onclick="nextLesson()" class="px-5 py-2 bg-slate-700 rounded-xl ${nextDisabled}">Next ‚Üí</button>
          </div>
        </div>
      `;
    }

    // ========== EVENT HANDLERS ==========
    function selectCategory(id) {
      state.category = id;
      state.view = 'chapters';
      render();
    }

    function selectChapter(num) {
      state.chapter = parseInt(num);
      state.lesson = 0;
      state.showAnswer = false;
      state.view = 'lesson';
      render();
    }

    function selectLesson(idx) {
      state.lesson = idx;
      state.showAnswer = false;
      render();
    }

    function showAnswer() {
      state.showAnswer = true;
      render();
    }

    function prevLesson() {
      if (state.lesson > 0) {
        state.lesson--;
        state.showAnswer = false;
        render();
      }
    }

    function nextLesson() {
      const chapter = categories[state.category].chapters[state.chapter];
      if (state.lesson < chapter.lessons.length - 1) {
        state.lesson++;
        state.showAnswer = false;
        render();
      }
    }

    function goHome() {
      state.view = 'home';
      state.category = null;
      state.chapter = null;
      render();
    }

    function goToChapters() {
      state.view = 'chapters';
      state.showAnswer = false;
      render();
    }

    function attachEventListeners() {
      // Events are handled via onclick attributes
    }

    // ========== LEGO CODE BUILDER GAME ==========
    function showGame() {
      document.getElementById('gameModal').classList.remove('lego-hidden');
      initLegoGame();
    }
    
    function closeGame() {
      document.getElementById('gameModal').classList.add('lego-hidden');
    }
    
    // ============ LEGO GAME - LEVELS ============
    const LEGO_LEVELS = {
      1: { name: "First Stack", challenge: "Build: Red, Blue, Yellow", towers: 1, target: [["red","blue","yellow"]], stars3: 3, stars2: 4, hint: "Click Red, then Blue, then Yellow!", concept: "Sequence: commands run in order" },
      2: { name: "Taller Tower", challenge: "Build: Red, Red, Blue, Blue, Green", towers: 1, target: [["red","red","blue","blue","green"]], stars3: 5, stars2: 6, hint: "Click colors in order!", concept: "Sequence: one step at a time" },
      3: { name: "Loop Power", challenge: "Build 4 Red bricks using REPEAT!", towers: 1, target: [["red","red","red","red"]], stars3: 2, stars2: 3, hint: "Click Repeat, click its body, click Red. Set repeat to 4!", concept: "Loop: repeat saves time!" },
      4: { name: "Pattern Loop", challenge: "Build: Red Blue Red Blue Red Blue", towers: 1, target: [["red","blue","red","blue","red","blue"]], stars3: 3, stars2: 5, hint: "Repeat 3 times: Red then Blue!", concept: "Loop: repeat a pattern" },
      5: { name: "Smart Building", challenge: "Use IF-THEN to alternate colors!", towers: 1, target: [["red","blue","red","blue"]], stars3: 5, stars2: 7, hint: "Add Red. Then IF last=Red THEN Blue. Then IF last=Blue THEN Red.", concept: "If-Then: make decisions" },
      6: { name: "Twin Towers", challenge: "Tower 1: Red Red. Tower 2: Blue Blue", towers: 2, target: [["red","red"],["blue","blue"]], stars3: 6, stars2: 8, hint: "Select Tower 1, add Reds. Select Tower 2, add Blues.", concept: "Managing multiple things" },
      7: { name: "Staircase", challenge: "Stairs! T1:1, T2:2, T3:3 bricks (Red)", towers: 3, target: [["red"],["red","red"],["red","red","red"]], stars3: 8, stars2: 10, hint: "Select each tower and add the right number.", concept: "Shapes from towers" },
      8: { name: "Simple Car", challenge: "Car! All towers: Blue(wheel) + Red(body)", towers: 3, target: [["blue","red"],["blue","red"],["blue","red"]], stars3: 8, stars2: 10, hint: "Each tower needs Blue then Red!", concept: "Real objects from code!", extraColors: true },
      9: { name: "Race Car", challenge: "Race car! T1:Blue+Orange, T2:Blue+Orange+Orange, T3:Blue+Orange", towers: 3, target: [["blue","orange"],["blue","orange","orange"],["blue","orange"]], stars3: 9, stars2: 12, hint: "Middle tower is taller!", concept: "Complex builds", extraColors: true },
      10: { name: "Big Truck", challenge: "Truck! T1:Blue+Green, T2:Blue+Green√ó3, T3:Blue+Green", towers: 3, target: [["blue","green"],["blue","green","green","green"],["blue","green"]], stars3: 10, stars2: 14, hint: "T2 is much taller (truck cabin)!", concept: "Efficiency matters!", extraColors: true }
    };
    
    const LEGO_TOTAL = Object.keys(LEGO_LEVELS).length;
    
    // ============ LEGO GAME - STATE ============
    let legoCurrentLevel = 1;
    let legoCurrentTower = 0;
    let legoBuiltTowers = [];
    let legoActiveBody = null;
    let legoProgress = {};
    
    // ============ LEGO GAME - HELPERS ============
    function legoGetColor(c) {
      return {red:'#ef4444',blue:'#3b82f6',yellow:'#eab308',green:'#22c55e',orange:'#f97316',purple:'#a855f7'}[c]||'#888';
    }
    function legoGetEmoji(c) {
      return {red:'üî¥',blue:'üîµ',yellow:'üü°',green:'üü¢',orange:'üü†',purple:'üü£'}[c]||'‚¨ú';
    }
    
    // ============ LEGO GAME - INIT ============
    function initLegoGame() {
      try { legoProgress = JSON.parse(localStorage.getItem('lego_progress')) || {}; } catch(e) {}
      loadLegoLevel(1);
    }
    
    // ============ LEGO GAME - LOAD LEVEL ============
    function loadLegoLevel(num) {
      legoCurrentLevel = num;
      const L = LEGO_LEVELS[num];
      legoCurrentTower = 0;
      legoActiveBody = null;
      
      legoBuiltTowers = [];
      for (let i = 0; i < L.towers; i++) legoBuiltTowers.push([]);
      
      document.getElementById('legoLvlBadge').textContent = 'Level ' + num;
      document.getElementById('legoLvlName').textContent = L.name;
      document.getElementById('legoChallengeText').textContent = L.challenge;
      document.getElementById('legoStarReq').textContent = `‚≠ê‚≠ê‚≠ê = ${L.stars3} blocks | ‚≠ê‚≠ê = ${L.stars2}`;
      document.getElementById('legoConcept').textContent = 'üí° ' + L.concept;
      
      const earned = legoProgress[num] || 0;
      document.getElementById('legoStars').textContent = '‚≠ê'.repeat(earned) + '‚òÜ'.repeat(3-earned);
      
      document.getElementById('legoPrevBtn').disabled = num <= 1;
      document.getElementById('legoNextBtn').disabled = num >= LEGO_TOTAL;
      
      // Tower buttons
      const towerSection = document.getElementById('legoTowerSection');
      const towerBtns = document.getElementById('legoTowerBtns');
      if (L.towers > 1) {
        towerSection.style.display = 'block';
        towerBtns.innerHTML = '';
        for (let i = 0; i < L.towers; i++) {
          towerBtns.innerHTML += `<button class="lego-cmd lego-cmd-tower" onclick="legoClickTower(${i})">üèóÔ∏è Tower ${i+1}</button>`;
        }
      } else {
        towerSection.style.display = 'none';
      }
      
      document.getElementById('legoExtraColors').style.display = L.extraColors ? 'block' : 'none';
      
      renderLegoTarget(L);
      renderLegoBuildArea(L);
      clearLegoProgram();
    }
    
    function renderLegoTarget(L) {
      const area = document.getElementById('legoTargetArea');
      let html = '';
      for (let t = 0; t < L.target.length; t++) {
        html += '<div class="lego-target-tower-wrap">';
        if (L.towers > 1) html += `<div class="lego-target-label">T${t+1}</div>`;
        html += '<div class="lego-target-tower">';
        for (let b = 0; b < L.target[t].length; b++) {
          html += `<div class="lego-target-brick" style="background:${legoGetColor(L.target[t][b])}"></div>`;
        }
        html += '</div><div class="lego-target-base"></div></div>';
      }
      area.innerHTML = html;
    }
    
    function renderLegoBuildArea(L) {
      const area = document.getElementById('legoBuildArea');
      let html = '';
      for (let t = 0; t < L.towers; t++) {
        html += '<div class="lego-build-tower-wrap">';
        if (L.towers > 1) html += `<div class="lego-build-label">Tower ${t+1}</div>`;
        html += `<div class="lego-build-tower" id="legoTower${t}"></div>`;
        html += '<div class="lego-build-base"></div></div>';
      }
      area.innerHTML = html;
    }
    
    // ============ LEGO GAME - COMMANDS ============
    function legoClickColor(color) {
      if (legoActiveBody) {
        legoInsertIntoBody(legoActiveBody, color);
        legoClearActiveBody();
        return;
      }
      legoAddColorToProgram(color);
    }
    
    function legoAddColorToProgram(color) {
      const list = document.getElementById('legoProgramList');
      legoRemoveHint();
      const step = list.querySelectorAll(':scope > .lego-prog-item').length + 1;
      const item = document.createElement('div');
      item.className = 'lego-prog-item';
      item.dataset.type = 'color';
      item.dataset.color = color;
      item.innerHTML = `<span class="lego-step">${step}</span> ${legoGetEmoji(color)} Add ${color.charAt(0).toUpperCase()+color.slice(1)} <button class="lego-remove" onclick="legoRemoveItem(this)">√ó</button>`;
      list.appendChild(item);
      legoUpdateCount();
    }
    
    function legoClickLoop() {
      const list = document.getElementById('legoProgramList');
      legoRemoveHint();
      const step = list.querySelectorAll(':scope > .lego-prog-item').length + 1;
      const item = document.createElement('div');
      item.className = 'lego-prog-item lego-loop-block';
      item.dataset.type = 'loop';
      item.innerHTML = `
        <div class="lego-block-header"><span class="lego-step">${step}</span> üîÑ Repeat <select class="lego-loop-count"><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option></select> times: <button class="lego-remove" onclick="legoRemoveItem(this)">√ó</button></div>
        <div class="lego-block-body" onclick="legoSetActiveBody(this, event)"><div class="lego-body-hint">üëÜ Click here, then a color</div></div>
      `;
      list.appendChild(item);
      legoUpdateCount();
    }
    
    function legoClickIf() {
      const list = document.getElementById('legoProgramList');
      legoRemoveHint();
      const step = list.querySelectorAll(':scope > .lego-prog-item').length + 1;
      const item = document.createElement('div');
      item.className = 'lego-prog-item lego-if-block';
      item.dataset.type = 'if';
      item.innerHTML = `
        <div class="lego-block-header"><span class="lego-step">${step}</span> ‚ùì If last = <select class="lego-if-cond"><option value="red">üî¥</option><option value="blue">üîµ</option><option value="yellow">üü°</option><option value="green">üü¢</option><option value="orange">üü†</option><option value="purple">üü£</option></select> then: <button class="lego-remove" onclick="legoRemoveItem(this)">√ó</button></div>
        <div class="lego-block-body" onclick="legoSetActiveBody(this, event)"><div class="lego-body-hint">üëÜ Click here, then a color</div></div>
      `;
      list.appendChild(item);
      legoUpdateCount();
    }
    
    function legoClickTower(num) {
      const list = document.getElementById('legoProgramList');
      legoRemoveHint();
      const step = list.querySelectorAll(':scope > .lego-prog-item').length + 1;
      const item = document.createElement('div');
      item.className = 'lego-prog-item';
      item.dataset.type = 'tower';
      item.dataset.tower = num;
      item.innerHTML = `<span class="lego-step">${step}</span> üèóÔ∏è Select Tower ${num+1} <button class="lego-remove" onclick="legoRemoveItem(this)">√ó</button>`;
      list.appendChild(item);
      legoUpdateCount();
    }
    
    function legoSetActiveBody(bodyEl, event) {
      event.stopPropagation();
      legoClearActiveBody();
      bodyEl.classList.add('active');
      legoActiveBody = bodyEl;
    }
    
    function legoClearActiveBody() {
      document.querySelectorAll('.lego-block-body').forEach(b => b.classList.remove('active'));
      legoActiveBody = null;
    }
    
    function legoInsertIntoBody(body, color) {
      const hint = body.querySelector('.lego-body-hint');
      if (hint) hint.remove();
      const item = document.createElement('div');
      item.className = 'lego-prog-item';
      item.dataset.type = 'color';
      item.dataset.color = color;
      item.innerHTML = `${legoGetEmoji(color)} ${color.charAt(0).toUpperCase()+color.slice(1)} <button class="lego-remove" onclick="legoRemoveItem(this)">√ó</button>`;
      body.appendChild(item);
      legoUpdateCount();
    }
    
    function legoRemoveItem(btn) {
      btn.closest('.lego-prog-item').remove();
      legoRenumberSteps();
      legoUpdateCount();
      const list = document.getElementById('legoProgramList');
      if (!list.querySelector('.lego-prog-item')) {
        list.innerHTML = '<div class="lego-prog-hint">üëÜ Click commands to start!</div>';
      }
    }
    
    function legoRemoveHint() {
      const hint = document.querySelector('#legoProgramList > .lego-prog-hint');
      if (hint) hint.remove();
    }
    
    function legoRenumberSteps() {
      const items = document.querySelectorAll('#legoProgramList > .lego-prog-item');
      items.forEach((item, i) => {
        const step = item.querySelector('.lego-step');
        if (step) step.textContent = i + 1;
      });
    }
    
    function legoUpdateCount() {
      const count = document.querySelectorAll('#legoProgramList .lego-prog-item').length;
      document.getElementById('legoBlockCount').textContent = `(${count} blocks)`;
    }
    
    function clearLegoProgram() {
      document.getElementById('legoProgramList').innerHTML = '<div class="lego-prog-hint">üëÜ Click commands to start!</div>';
      legoUpdateCount();
    }
    
    function clearLegoBuild() {
      const L = LEGO_LEVELS[legoCurrentLevel];
      legoBuiltTowers = [];
      for (let i = 0; i < L.towers; i++) {
        legoBuiltTowers.push([]);
        const el = document.getElementById('legoTower' + i);
        if (el) el.innerHTML = '';
      }
      legoCurrentTower = 0;
    }
    
    function legoClearAll() {
      clearLegoProgram();
      clearLegoBuild();
      legoClearActiveBody();
    }
    
    // ============ LEGO GAME - RUN CODE ============
    async function legoRunCode() {
      clearLegoBuild();
      const items = document.querySelectorAll('#legoProgramList > .lego-prog-item');
      for (const item of items) {
        await legoExecuteItem(item);
      }
      legoCheckWin();
    }
    
    async function legoExecuteItem(item) {
      const type = item.dataset.type;
      if (type === 'color') {
        await legoPlaceBrick(item.dataset.color);
      } else if (type === 'tower') {
        legoCurrentTower = parseInt(item.dataset.tower);
        await legoSleep(50);
      } else if (type === 'loop') {
        const count = parseInt(item.querySelector('.lego-loop-count').value);
        const bodyItems = item.querySelectorAll('.lego-block-body > .lego-prog-item');
        for (let i = 0; i < count; i++) {
          for (const bi of bodyItems) await legoExecuteItem(bi);
        }
      } else if (type === 'if') {
        const cond = item.querySelector('.lego-if-cond').value;
        const lastBrick = legoBuiltTowers[legoCurrentTower].slice(-1)[0];
        if (lastBrick === cond) {
          const bodyItems = item.querySelectorAll('.lego-block-body > .lego-prog-item');
          for (const bi of bodyItems) await legoExecuteItem(bi);
        }
      }
    }
    
    async function legoPlaceBrick(color) {
      return new Promise(resolve => {
        const tower = document.getElementById('legoTower' + legoCurrentTower);
        if (!tower) { resolve(); return; }
        const brick = document.createElement('div');
        brick.className = 'lego-brick lego-brick-' + color;
        tower.appendChild(brick);
        legoBuiltTowers[legoCurrentTower].push(color);
        setTimeout(resolve, 200);
      });
    }
    
    function legoSleep(ms) { return new Promise(r => setTimeout(r, ms)); }
    
    // ============ LEGO GAME - CHECK WIN ============
    function legoCheckWin() {
      const L = LEGO_LEVELS[legoCurrentLevel];
      let win = true;
      for (let t = 0; t < L.target.length; t++) {
        const target = L.target[t];
        const built = legoBuiltTowers[t] || [];
        if (target.length !== built.length) { win = false; break; }
        for (let b = 0; b < target.length; b++) {
          if (target[b] !== built[b]) { win = false; break; }
        }
        if (!win) break;
      }
      if (win) legoShowWin();
    }
    
    function legoShowWin() {
      const L = LEGO_LEVELS[legoCurrentLevel];
      const blocks = document.querySelectorAll('#legoProgramList .lego-prog-item').length;
      let stars = 1;
      if (blocks <= L.stars3) stars = 3;
      else if (blocks <= L.stars2) stars = 2;
      if (!legoProgress[legoCurrentLevel] || legoProgress[legoCurrentLevel] < stars) {
        legoProgress[legoCurrentLevel] = stars;
        try { localStorage.setItem('lego_progress', JSON.stringify(legoProgress)); } catch(e) {}
      }
      document.getElementById('legoStars').textContent = '‚≠ê'.repeat(stars) + '‚òÜ'.repeat(3-stars);
      document.getElementById('legoModalStars').textContent = '‚≠ê'.repeat(stars) + '‚òÜ'.repeat(3-stars);
      document.getElementById('legoModalTitle').textContent = stars === 3 ? 'üéâ PERFECT!' : stars === 2 ? 'üëè Great!' : '‚úÖ Done!';
      document.getElementById('legoModalMsg').textContent = stars === 3 ? `Only ${blocks} blocks!` : `Used ${blocks} blocks. Try ${L.stars3} for 3 stars!`;
      document.getElementById('legoSuccessModal').classList.remove('lego-hidden');
    }
    
    function legoCloseSuccess() { document.getElementById('legoSuccessModal').classList.add('lego-hidden'); }
    
    // ============ LEGO GAME - NAVIGATION ============
    function legoPrev() { if (legoCurrentLevel > 1) loadLegoLevel(legoCurrentLevel - 1); }
    function legoNext() { legoCloseSuccess(); if (legoCurrentLevel < LEGO_TOTAL) loadLegoLevel(legoCurrentLevel + 1); else { alert('üèÜ All levels complete!'); loadLegoLevel(1); } }
    function legoOpenLevels() {
      const grid = document.getElementById('legoLevelsGrid');
      grid.innerHTML = '';
      for (let i = 1; i <= LEGO_TOTAL; i++) {
        const L = LEGO_LEVELS[i];
        const stars = legoProgress[i] || 0;
        const classes = 'lego-level-card' + (i === legoCurrentLevel ? ' current' : '') + (stars > 0 ? ' done' : '');
        grid.innerHTML += `<div class="${classes}" onclick="legoPickLevel(${i})"><div class="lego-card-num">Level ${i}</div><div class="lego-card-name">${L.name}</div><div class="lego-card-stars">${'‚≠ê'.repeat(stars)}${'‚òÜ'.repeat(3-stars)}</div></div>`;
      }
      document.getElementById('legoLevelsModal').classList.remove('lego-hidden');
    }
    function legoCloseLevels() { document.getElementById('legoLevelsModal').classList.add('lego-hidden'); }
    function legoPickLevel(num) { legoCloseLevels(); loadLegoLevel(num); }
    function legoShowHint() { alert('üí° ' + LEGO_LEVELS[legoCurrentLevel].hint); }

    // ========== ROBOT ARM LAB ==========
    function showRobotArm() {
      document.getElementById('robotArmModal').classList.remove('robot-hidden');
      initRobotBuild();
    }
    
    function closeRobotArm() {
      document.getElementById('robotArmModal').classList.add('robot-hidden');
    }
    
    // Robot Build Mode State
    const robotPartOrder = ['base', 'shoulder', 'upperArm', 'elbow', 'forearm', 'wrist', 'gripper'];
    let robotPlacedParts = [];
    
    const robotConcepts = {
      base: { title: "üü´ The Base", text: "The base SLIDES left and right on a rail. This lets the arm reach things across the whole table!" },
      shoulder: { title: "üîµ Shoulder Motor", text: "The shoulder has a MOTOR inside that spins to rotate the whole arm up and down." },
      upperArm: { title: "ü¶æ Upper Arm = Lever!", text: "The arm is a LEVER! Longer arms reach further, but need MORE POWER to lift the same weight." },
      elbow: { title: "üü° Elbow Motor", text: "Another motor that BENDS the arm in the middle. Two joints = more flexibility!" },
      forearm: { title: "ü¶ø Forearm = Second Lever!", text: "Two levers together = lots of flexibility! The arm can fold up small or stretch out far." },
      wrist: { title: "üü£ Wrist Motor", text: "The wrist ROTATES the gripper! This helps grab things at different angles." },
      gripper: { title: "üî¥ Gripper = Robot Hand!", text: "Two fingers that OPEN and CLOSE. Motors squeeze them to grab things!" }
    };
    
    // Robot Control Mode State
    let robotBasePos = 0, robotShoulderAngle = 45, robotElbowAngle = -45, robotWristAngle = 0, robotArmLength = 100;
    let robotGripperOpen = true, robotGrabbedBlock = null, robotScore = 0, robotLevel = 1, robotChallenge = 'sort';
    let robotCtx, robotCanvas;
    
    const robotChallenges = {
      sort: { levels: [
        { blocks: [{c:'red',x:60},{c:'blue',x:100},{c:'red',x:140}], goal: 3 },
        { blocks: [{c:'red',x:50},{c:'blue',x:90},{c:'yellow',x:130},{c:'red',x:170}], goal: 4 }
      ]},
      stack: { levels: [
        { blocks: [{c:'red',x:60},{c:'blue',x:100},{c:'green',x:140}], goal: 3 }
      ]},
      knock: { levels: [
        { tower: [{x:450,y:0},{x:450,y:30},{x:450,y:60}], goal: 3 }
      ]}
    };
    
    function initRobotBuild() {
      robotPlacedParts = [];
      document.querySelectorAll('.robot-part-item').forEach(p => p.classList.remove('placed'));
      document.querySelectorAll('.robot-slot').forEach((s, i) => {
        s.classList.remove('filled', 'active');
        if (i === robotPartOrder.length - 1) s.classList.add('active');
      });
      document.querySelectorAll('.robot-prev-part').forEach(p => p.classList.remove('visible'));
      document.getElementById('robotTabControl').disabled = true;
      setRobotMode('build');
    }
    
    function setRobotMode(mode) {
      document.getElementById('robotTabBuild').classList.toggle('active', mode === 'build');
      document.getElementById('robotTabControl').classList.toggle('active', mode === 'control');
      document.getElementById('robotBuildMode').classList.toggle('robot-hidden', mode !== 'build');
      document.getElementById('robotControlMode').classList.toggle('robot-hidden', mode !== 'control');
      document.getElementById('robotInfoTitle').textContent = mode === 'build' ? 'üîß Build Your Robot Arm!' : 'üéÆ Complete the Challenge!';
      document.getElementById('robotInfoText').textContent = mode === 'build' ? 'Click parts in order to assemble. Start with BASE!' : 'Use sliders to move arm. Grab blocks and sort them!';
      if (mode === 'control') initRobotControl();
    }
    
    function placeRobotPart(partName) {
      const nextIdx = robotPlacedParts.length;
      if (robotPartOrder[nextIdx] !== partName) { alert('ü§î Try ' + robotPartOrder[nextIdx].toUpperCase() + ' next!'); return; }
      robotPlacedParts.push(partName);
      document.querySelector('.robot-part-item[data-part="'+partName+'"]').classList.add('placed');
      const slot = document.querySelector('.robot-slot[data-slot="'+partName+'"]');
      slot.classList.remove('active');
      slot.classList.add('filled');
      slot.innerHTML = '‚úì ' + partName;
      document.getElementById('robotPrev' + partName.charAt(0).toUpperCase() + partName.slice(1)).classList.add('visible');
      showRobotConcept(robotConcepts[partName].title, robotConcepts[partName].text);
      if (robotPartOrder[robotPlacedParts.length]) {
        document.querySelector('.robot-slot[data-slot="'+robotPartOrder[robotPlacedParts.length]+'"]').classList.add('active');
      }
      if (robotPlacedParts.length === robotPartOrder.length) {
        setTimeout(() => {
          document.getElementById('robotTabControl').disabled = false;
          document.getElementById('robotInfoTitle').textContent = '‚úÖ Robot Complete!';
          document.getElementById('robotInfoText').textContent = 'Click CONTROL tab to start!';
        }, 1500);
      }
    }
    
    function showRobotConcept(title, text) {
      document.getElementById('robotConceptTitle').textContent = title;
      document.getElementById('robotConceptText').textContent = text;
      document.getElementById('robotConceptPopup').classList.remove('robot-hidden');
    }
    
    function hideRobotConcept() { document.getElementById('robotConceptPopup').classList.add('robot-hidden'); }
    
    function initRobotControl() {
      robotCanvas = document.getElementById('robotCanvas');
      robotCtx = robotCanvas.getContext('2d');
      robotScore = 0;
      robotLevel = 1;
      robotGrabbedBlock = null;
      robotGripperOpen = true;
      loadRobotLevel();
    }
    
    function setRobotChallenge(type) {
      robotChallenge = type;
      robotLevel = 1;
      robotScore = 0;
      document.querySelectorAll('.robot-challenge-btn').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      loadRobotLevel();
    }
    
    function loadRobotLevel() {
      const ch = robotChallenges[robotChallenge];
      const lv = ch.levels[robotLevel - 1] || ch.levels[0];
      robotScore = 0;
      robotGrabbedBlock = null;
      robotGripperOpen = true;
      updateRobotGripperBtn();
      document.getElementById('robotLevelNum').textContent = robotLevel;
      document.getElementById('robotScoreNum').textContent = '0';
      document.getElementById('robotGoalNum').textContent = lv.goal;
      document.getElementById('robotBaseSlider').value = 0;
      document.getElementById('robotShoulderSlider').value = 45;
      document.getElementById('robotElbowSlider').value = -45;
      document.getElementById('robotWristSlider').value = 0;
      document.getElementById('robotLengthSlider').value = 100;
      
      const blocksArea = document.getElementById('robotBlocksArea');
      blocksArea.innerHTML = '';
      if (lv.blocks) {
        lv.blocks.forEach((b, i) => {
          const el = document.createElement('div');
          el.className = 'robot-block robot-block-' + b.c;
          el.id = 'robotBlock' + i;
          el.dataset.color = b.c;
          el.style.left = b.x + 'px';
          el.style.bottom = '50px';
          blocksArea.appendChild(el);
        });
      }
      if (lv.tower) {
        lv.tower.forEach((t, i) => {
          const el = document.createElement('div');
          el.className = 'robot-tower-block';
          el.id = 'robotTower' + i;
          el.dataset.standing = 'true';
          el.style.left = t.x + 'px';
          el.style.bottom = (50 + t.y) + 'px';
          blocksArea.appendChild(el);
        });
      }
      updateRobotArm();
    }
    
    function updateRobotArm() {
      robotBasePos = parseInt(document.getElementById('robotBaseSlider').value);
      robotShoulderAngle = parseInt(document.getElementById('robotShoulderSlider').value);
      robotElbowAngle = parseInt(document.getElementById('robotElbowSlider').value);
      robotWristAngle = parseInt(document.getElementById('robotWristSlider').value);
      robotArmLength = parseInt(document.getElementById('robotLengthSlider').value);
      document.getElementById('robotBaseVal').textContent = robotBasePos;
      document.getElementById('robotShoulderVal').textContent = robotShoulderAngle + '¬∞';
      document.getElementById('robotElbowVal').textContent = robotElbowAngle + '¬∞';
      document.getElementById('robotWristVal').textContent = robotWristAngle + '¬∞';
      document.getElementById('robotLengthVal').textContent = robotArmLength + '%';
      const power = Math.min(100, Math.abs(robotShoulderAngle - 45) + Math.abs(robotElbowAngle + 45) + Math.abs(robotBasePos) / 3);
      document.getElementById('robotPowerFill').style.width = power + '%';
      drawRobotArm();
      if (robotGrabbedBlock) updateRobotGrabbedBlock();
      if (robotChallenge === 'knock') checkRobotKnock();
    }
    
    function drawRobotArm() {
      robotCtx.clearRect(0, 0, robotCanvas.width, robotCanvas.height);
      const scale = robotArmLength / 100;
      const upperLen = 80 * scale, foreLen = 70 * scale;
      const baseX = robotCanvas.width / 2 + robotBasePos, baseY = robotCanvas.height - 20;
      const shoulderRad = (robotShoulderAngle - 90) * Math.PI / 180;
      const elbowRad = (robotShoulderAngle + robotElbowAngle - 90) * Math.PI / 180;
      const wristRad = (robotShoulderAngle + robotElbowAngle + robotWristAngle - 90) * Math.PI / 180;
      const elbowX = baseX + Math.cos(shoulderRad) * upperLen;
      const elbowY = baseY - 15 + Math.sin(shoulderRad) * upperLen;
      const wristX = elbowX + Math.cos(elbowRad) * foreLen;
      const wristY = elbowY + Math.sin(elbowRad) * foreLen;
      window.robotGripperPos = { x: wristX + Math.cos(wristRad) * 25, y: wristY + Math.sin(wristRad) * 25, angle: wristRad };
      
      // Rail
      robotCtx.fillStyle = '#334155';
      robotCtx.fillRect(50, baseY - 5, robotCanvas.width - 100, 10);
      // Base
      robotCtx.fillStyle = '#475569';
      robotCtx.beginPath();
      robotCtx.roundRect(baseX - 30, baseY - 15, 60, 20, 4);
      robotCtx.fill();
      // Shoulder
      robotCtx.fillStyle = '#3b82f6';
      robotCtx.beginPath();
      robotCtx.arc(baseX, baseY - 15, 12, 0, Math.PI * 2);
      robotCtx.fill();
      // Upper arm
      robotCtx.strokeStyle = '#64748b';
      robotCtx.lineWidth = 14;
      robotCtx.lineCap = 'round';
      robotCtx.beginPath();
      robotCtx.moveTo(baseX, baseY - 15);
      robotCtx.lineTo(elbowX, elbowY);
      robotCtx.stroke();
      // Elbow
      robotCtx.fillStyle = '#f59e0b';
      robotCtx.beginPath();
      robotCtx.arc(elbowX, elbowY, 10, 0, Math.PI * 2);
      robotCtx.fill();
      // Forearm
      robotCtx.strokeStyle = '#64748b';
      robotCtx.lineWidth = 10;
      robotCtx.beginPath();
      robotCtx.moveTo(elbowX, elbowY);
      robotCtx.lineTo(wristX, wristY);
      robotCtx.stroke();
      // Wrist
      robotCtx.fillStyle = '#8b5cf6';
      robotCtx.beginPath();
      robotCtx.arc(wristX, wristY, 8, 0, Math.PI * 2);
      robotCtx.fill();
      // Gripper
      robotCtx.save();
      robotCtx.translate(wristX, wristY);
      robotCtx.rotate(wristRad + Math.PI / 2);
      robotCtx.fillStyle = '#ef4444';
      robotCtx.beginPath();
      robotCtx.roundRect(-12, 0, 24, 15, 3);
      robotCtx.fill();
      robotCtx.fillStyle = '#dc2626';
      if (robotGripperOpen) {
        robotCtx.fillRect(-12, 15, 7, 18);
        robotCtx.fillRect(5, 15, 7, 18);
      } else {
        robotCtx.fillRect(-8, 15, 16, 18);
      }
      robotCtx.restore();
    }
    
    function toggleRobotGripper() {
      robotGripperOpen = !robotGripperOpen;
      updateRobotGripperBtn();
      if (robotGripperOpen && robotGrabbedBlock) releaseRobotBlock();
      else if (!robotGripperOpen && !robotGrabbedBlock) tryRobotGrab();
      drawRobotArm();
    }
    
    function updateRobotGripperBtn() {
      const btn = document.getElementById('robotGripperBtn');
      btn.textContent = robotGripperOpen ? '‚úã OPEN' : '‚úä CLOSED';
      btn.className = 'robot-gripper-btn ' + (robotGripperOpen ? 'open' : 'closed');
    }
    
    function tryRobotGrab() {
      if (!window.robotGripperPos) return;
      const gx = window.robotGripperPos.x, gy = window.robotGripperPos.y;
      document.querySelectorAll('.robot-block').forEach(block => {
        const rect = block.getBoundingClientRect();
        const ws = document.getElementById('robotWorkspace').getBoundingClientRect();
        const bx = rect.left - ws.left + rect.width / 2;
        const by = robotCanvas.height - (rect.bottom - ws.top);
        if (Math.sqrt(Math.pow(gx - bx, 2) + Math.pow(gy - by, 2)) < 50) {
          robotGrabbedBlock = block;
          block.classList.add('grabbed');
          document.getElementById('robotForceFill').style.width = '40%';
        }
      });
    }
    
    function updateRobotGrabbedBlock() {
      if (!robotGrabbedBlock || !window.robotGripperPos) return;
      robotGrabbedBlock.style.left = (window.robotGripperPos.x - 16) + 'px';
      robotGrabbedBlock.style.bottom = (robotCanvas.height - window.robotGripperPos.y + 35) + 'px';
    }
    
    function releaseRobotBlock() {
      if (!robotGrabbedBlock || !window.robotGripperPos) return;
      const gx = window.robotGripperPos.x;
      const color = robotGrabbedBlock.dataset.color;
      let scored = false;
      document.querySelectorAll('.robot-zone[data-zone]').forEach(zone => {
        const rect = zone.getBoundingClientRect();
        const ws = document.getElementById('robotWorkspace').getBoundingClientRect();
        const zl = rect.left - ws.left, zr = zl + rect.width;
        if (gx >= zl && gx <= zr) {
          const zt = zone.dataset.zone;
          if (robotChallenge === 'sort' && zt === color) {
            scored = true;
            robotScore++;
            robotGrabbedBlock.remove();
          } else if (robotChallenge === 'stack' && zt === 'stack') {
            scored = true;
            robotScore++;
            robotGrabbedBlock.style.bottom = (50 + (robotScore - 1) * 34) + 'px';
            robotGrabbedBlock.style.left = (zl + 34) + 'px';
            robotGrabbedBlock.classList.remove('grabbed');
          }
        }
      });
      if (!scored && robotGrabbedBlock.parentElement) robotGrabbedBlock.classList.remove('grabbed');
      robotGrabbedBlock = null;
      document.getElementById('robotForceFill').style.width = '0%';
      document.getElementById('robotScoreNum').textContent = robotScore;
      checkRobotWin();
    }
    
    function checkRobotKnock() {
      if (!window.robotGripperPos) return;
      const gx = window.robotGripperPos.x, gy = window.robotGripperPos.y;
      document.querySelectorAll('.robot-tower-block[data-standing="true"]').forEach(tower => {
        const rect = tower.getBoundingClientRect();
        const ws = document.getElementById('robotWorkspace').getBoundingClientRect();
        const tx = rect.left - ws.left + rect.width / 2;
        const ty = robotCanvas.height - (rect.bottom - ws.top);
        if (Math.sqrt(Math.pow(gx - tx, 2) + Math.pow(gy - ty, 2)) < 35) {
          tower.dataset.standing = 'false';
          tower.style.transform = 'rotate(' + (Math.random() > 0.5 ? 45 : -45) + 'deg)';
          tower.style.bottom = '50px';
          robotScore++;
          document.getElementById('robotScoreNum').textContent = robotScore;
          checkRobotWin();
        }
      });
    }
    
    function checkRobotWin() {
      const ch = robotChallenges[robotChallenge];
      const lv = ch.levels[robotLevel - 1] || ch.levels[0];
      if (robotScore >= lv.goal) {
        setTimeout(() => {
          document.getElementById('robotSuccessModal').classList.remove('robot-hidden');
        }, 300);
      }
    }
    
    function nextRobotLevel() {
      document.getElementById('robotSuccessModal').classList.add('robot-hidden');
      const ch = robotChallenges[robotChallenge];
      if (robotLevel < ch.levels.length) robotLevel++;
      else { robotLevel = 1; alert('üèÜ All levels complete!'); }
      loadRobotLevel();
    }
    
    function restartRobotLevel() {
      document.getElementById('robotSuccessModal').classList.add('robot-hidden');
      loadRobotLevel();
    }

    // ========== INIT ==========
    render();
  </script>
  
  <!-- LEGO CODE BUILDER GAME MODAL -->
  <div id="gameModal" class="lego-hidden" style="position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#1e1b4b,#312e81);z-index:9999;overflow-y:auto;padding:16px;">
    <style>
      .lego-hidden{display:none!important}
      .lego-container{max-width:900px;margin:0 auto;color:white;font-family:system-ui,sans-serif}
      .lego-close{position:fixed;top:16px;right:16px;background:#ef4444;border:none;color:white;width:44px;height:44px;border-radius:50%;font-size:1.5rem;cursor:pointer;z-index:10000}
      .lego-header{text-align:center;margin-bottom:12px}
      .lego-header h2{font-size:1.4rem;margin-bottom:4px}
      .lego-level-bar{display:flex;justify-content:space-between;align-items:center;background:rgba(255,255,255,0.1);padding:10px 14px;border-radius:10px;margin-bottom:12px;flex-wrap:wrap;gap:8px}
      .lego-badge{background:#fbbf24;color:#1e1b4b;padding:5px 12px;border-radius:16px;font-weight:bold;font-size:0.85rem}
      .lego-name{font-weight:bold;margin-left:8px}
      .lego-stars{font-size:1.2rem}
      .lego-nav button{width:32px;height:32px;border-radius:50%;border:none;background:rgba(255,255,255,0.2);color:white;cursor:pointer;margin-left:4px;font-size:0.9rem}
      .lego-nav button:disabled{opacity:0.4}
      .lego-challenge{background:linear-gradient(135deg,#7c3aed,#5b21b6);padding:14px;border-radius:12px;margin-bottom:12px;border:2px solid #a78bfa}
      .lego-challenge-title{font-weight:bold;margin-bottom:10px}
      .lego-star-req{float:right;background:rgba(0,0,0,0.2);padding:4px 8px;border-radius:6px;font-size:0.75rem}
      .lego-target-area{display:flex;justify-content:center;gap:16px;align-items:flex-end;padding:12px;background:rgba(0,0,0,0.2);border-radius:8px;min-height:100px}
      .lego-target-tower-wrap{text-align:center}
      .lego-target-label{font-size:0.7rem;opacity:0.6;margin-bottom:2px}
      .lego-target-tower{display:flex;flex-direction:column-reverse;align-items:center}
      .lego-target-brick{width:36px;height:18px;border-radius:3px;margin-bottom:2px;position:relative}
      .lego-target-brick::after{content:'';position:absolute;top:-4px;left:50%;transform:translateX(-50%);width:14px;height:4px;background:inherit;filter:brightness(1.2);border-radius:2px}
      .lego-target-base{width:44px;height:6px;background:#475569;border-radius:2px;margin-top:2px}
      .lego-game-area{display:grid;grid-template-columns:140px 1fr 180px;gap:10px;margin-bottom:12px}
      @media(max-width:650px){.lego-game-area{grid-template-columns:1fr}}
      .lego-panel{background:rgba(255,255,255,0.08);border-radius:10px;padding:10px}
      .lego-panel-title{font-size:0.7rem;text-transform:uppercase;opacity:0.6;margin-bottom:8px}
      .lego-cmd-section{margin-bottom:8px}
      .lego-cmd-label{font-size:0.6rem;opacity:0.5;margin-bottom:3px}
      .lego-cmd-list{display:flex;flex-direction:column;gap:4px}
      .lego-cmd{padding:8px;border-radius:6px;border:none;font-weight:bold;cursor:pointer;color:white;font-size:0.8rem;text-align:left}
      .lego-cmd:hover{filter:brightness(1.1)}
      .lego-cmd-red{background:#ef4444}.lego-cmd-blue{background:#3b82f6}.lego-cmd-yellow{background:#eab308;color:#1a1a1a}.lego-cmd-green{background:#22c55e}.lego-cmd-orange{background:#f97316}.lego-cmd-purple{background:#a855f7}
      .lego-cmd-loop{background:#8b5cf6}.lego-cmd-if{background:#06b6d4}.lego-cmd-tower{background:#64748b}
      .lego-program-area{background:rgba(0,0,0,0.15);border-radius:8px;padding:8px;min-height:200px;max-height:280px;overflow-y:auto}
      .lego-prog-item{background:rgba(255,255,255,0.1);padding:7px 9px;border-radius:5px;margin-bottom:4px;display:flex;align-items:center;gap:6px;font-size:0.8rem;flex-wrap:wrap}
      .lego-step{width:18px;height:18px;background:rgba(255,255,255,0.2);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.65rem;font-weight:bold}
      .lego-remove{margin-left:auto;width:18px;height:18px;border-radius:50%;border:none;background:rgba(239,68,68,0.5);color:white;cursor:pointer;font-size:0.8rem}
      .lego-remove:hover{background:#ef4444}
      .lego-prog-hint{text-align:center;padding:24px 8px;opacity:0.5;border:2px dashed rgba(255,255,255,0.2);border-radius:6px;font-size:0.85rem}
      .lego-loop-block,.lego-if-block{flex-direction:column;align-items:stretch!important}
      .lego-loop-block{background:rgba(139,92,246,0.2)!important;border:2px dashed #a78bfa}
      .lego-if-block{background:rgba(6,182,212,0.2)!important;border:2px dashed #22d3ee}
      .lego-block-header{display:flex;align-items:center;gap:5px;flex-wrap:wrap}
      .lego-block-header select{background:rgba(255,255,255,0.2);border:none;color:white;padding:3px 6px;border-radius:4px;font-weight:bold;font-size:0.75rem}
      .lego-block-body{margin:6px 0 0 14px;padding:6px;background:rgba(0,0,0,0.2);border-radius:5px;min-height:28px;cursor:pointer}
      .lego-block-body.active{background:rgba(34,197,94,0.3);border:2px solid #22c55e}
      .lego-body-hint{font-size:0.7rem;opacity:0.5;text-align:center}
      .lego-build-area{display:flex;justify-content:center;gap:12px;align-items:flex-end;padding:10px;background:rgba(0,0,0,0.15);border-radius:8px;min-height:150px}
      .lego-build-tower-wrap{text-align:center}
      .lego-build-label{font-size:0.65rem;opacity:0.6;margin-bottom:2px}
      .lego-build-tower{display:flex;flex-direction:column-reverse;align-items:center;min-height:100px}
      .lego-brick{width:50px;height:22px;border-radius:3px;margin-bottom:2px;position:relative;animation:legoDrop 0.25s ease-out}
      @keyframes legoDrop{from{transform:translateY(-18px);opacity:0}to{transform:translateY(0);opacity:1}}
      .lego-brick::before,.lego-brick::after{content:'';position:absolute;top:-5px;width:12px;height:5px;background:inherit;filter:brightness(1.2);border-radius:2px}
      .lego-brick::before{left:7px}.lego-brick::after{right:7px}
      .lego-brick-red{background:#ef4444}.lego-brick-blue{background:#3b82f6}.lego-brick-yellow{background:#eab308}.lego-brick-green{background:#22c55e}.lego-brick-orange{background:#f97316}.lego-brick-purple{background:#a855f7}
      .lego-build-base{width:58px;height:7px;background:#475569;border-radius:2px}
      .lego-controls{display:flex;justify-content:center;gap:8px;flex-wrap:wrap;margin-bottom:10px}
      .lego-btn{padding:10px 20px;border-radius:8px;border:none;font-weight:bold;cursor:pointer;font-size:0.9rem}
      .lego-btn:hover{filter:brightness(1.1)}
      .lego-btn-run{background:linear-gradient(135deg,#22c55e,#16a34a);color:white}
      .lego-btn-clear{background:linear-gradient(135deg,#ef4444,#dc2626);color:white}
      .lego-btn-hint{background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#1a1a1a}
      .lego-concept{text-align:center;font-size:0.8rem;opacity:0.8}
      .lego-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:10001;padding:16px}
      .lego-modal-box{background:linear-gradient(135deg,#22c55e,#16a34a);padding:24px;border-radius:16px;text-align:center;border:3px solid #86efac;max-width:340px}
      .lego-modal-stars{font-size:2rem;margin-bottom:8px}
      .lego-modal-box h3{margin-bottom:6px}
      .lego-modal-box p{margin-bottom:14px;opacity:0.9;font-size:0.9rem}
      .lego-levels-box{background:linear-gradient(135deg,#1e1b4b,#312e81);padding:20px;border-radius:14px;max-width:450px;width:90%;max-height:75vh;overflow-y:auto;border:2px solid #6366f1}
      .lego-levels-box h3{text-align:center;margin-bottom:12px}
      .lego-levels-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:8px}
      .lego-level-card{background:rgba(255,255,255,0.1);padding:10px;border-radius:8px;text-align:center;cursor:pointer;border:2px solid transparent}
      .lego-level-card:hover{background:rgba(255,255,255,0.15)}
      .lego-level-card.current{border-color:#fbbf24}
      .lego-level-card.done{border-color:#22c55e}
      .lego-card-num{font-size:0.65rem;opacity:0.6}
      .lego-card-name{font-weight:bold;font-size:0.75rem;margin:2px 0}
      .lego-card-stars{font-size:0.8rem}
    </style>
    
    <button class="lego-close" onclick="closeGame()">√ó</button>
    
    <div class="lego-container">
      <div class="lego-header">
        <h2>üß± Lego Code Builder</h2>
      </div>
      
      <div class="lego-level-bar">
        <div><span class="lego-badge" id="legoLvlBadge">Level 1</span><span class="lego-name" id="legoLvlName">First Stack</span></div>
        <div class="lego-stars" id="legoStars">‚òÜ‚òÜ‚òÜ</div>
        <div class="lego-nav">
          <button id="legoPrevBtn" onclick="legoPrev()">‚óÄ</button>
          <button onclick="legoOpenLevels()">üìã</button>
          <button id="legoNextBtn" onclick="legoNext()">‚ñ∂</button>
        </div>
      </div>
      
      <div class="lego-challenge">
        <span class="lego-star-req" id="legoStarReq">‚≠ê‚≠ê‚≠ê = 3 blocks</span>
        <div class="lego-challenge-title">üéØ <span id="legoChallengeText">Build: Red, Blue, Yellow</span></div>
        <div class="lego-target-area" id="legoTargetArea"></div>
      </div>
      
      <div class="lego-game-area">
        <div class="lego-panel">
          <div class="lego-panel-title">üé® Commands</div>
          <div class="lego-cmd-section">
            <div class="lego-cmd-label">Colors</div>
            <div class="lego-cmd-list">
              <button class="lego-cmd lego-cmd-red" onclick="legoClickColor('red')">üî¥ Red</button>
              <button class="lego-cmd lego-cmd-blue" onclick="legoClickColor('blue')">üîµ Blue</button>
              <button class="lego-cmd lego-cmd-yellow" onclick="legoClickColor('yellow')">üü° Yellow</button>
              <button class="lego-cmd lego-cmd-green" onclick="legoClickColor('green')">üü¢ Green</button>
            </div>
          </div>
          <div class="lego-cmd-section" id="legoExtraColors" style="display:none">
            <div class="lego-cmd-list">
              <button class="lego-cmd lego-cmd-orange" onclick="legoClickColor('orange')">üü† Orange</button>
              <button class="lego-cmd lego-cmd-purple" onclick="legoClickColor('purple')">üü£ Purple</button>
            </div>
          </div>
          <div class="lego-cmd-section">
            <div class="lego-cmd-label">Logic</div>
            <div class="lego-cmd-list">
              <button class="lego-cmd lego-cmd-loop" onclick="legoClickLoop()">üîÑ Repeat</button>
              <button class="lego-cmd lego-cmd-if" onclick="legoClickIf()">‚ùì If-Then</button>
            </div>
          </div>
          <div class="lego-cmd-section" id="legoTowerSection" style="display:none">
            <div class="lego-cmd-label">Towers</div>
            <div class="lego-cmd-list" id="legoTowerBtns"></div>
          </div>
        </div>
        
        <div class="lego-panel">
          <div class="lego-panel-title">üìù Your Program <span id="legoBlockCount">(0 blocks)</span></div>
          <div class="lego-program-area">
            <div id="legoProgramList"><div class="lego-prog-hint">üëÜ Click commands to start!</div></div>
          </div>
        </div>
        
        <div class="lego-panel">
          <div class="lego-panel-title">üèóÔ∏è Your Build</div>
          <div class="lego-build-area" id="legoBuildArea"></div>
        </div>
      </div>
      
      <div class="lego-controls">
        <button class="lego-btn lego-btn-run" onclick="legoRunCode()">‚ñ∂Ô∏è Run Code</button>
        <button class="lego-btn lego-btn-clear" onclick="legoClearAll()">üóëÔ∏è Clear</button>
        <button class="lego-btn lego-btn-hint" onclick="legoShowHint()">üí° Hint</button>
      </div>
      
      <div class="lego-concept" id="legoConcept">üí° Sequence: commands run in order</div>
    </div>
    
    <!-- Success Modal -->
    <div class="lego-modal lego-hidden" id="legoSuccessModal">
      <div class="lego-modal-box">
        <div class="lego-modal-stars" id="legoModalStars">‚≠ê‚≠ê‚≠ê</div>
        <h3 id="legoModalTitle">üéâ Amazing!</h3>
        <p id="legoModalMsg">You did it!</p>
        <button class="lego-btn lego-btn-run" onclick="legoNext()">Next Level ‚û°Ô∏è</button>
        <button class="lego-btn lego-btn-hint" onclick="legoCloseSuccess()">Try Again</button>
      </div>
    </div>
    
    <!-- Levels Modal -->
    <div class="lego-modal lego-hidden" id="legoLevelsModal">
      <div class="lego-levels-box">
        <h3>üìã Select Level</h3>
        <div class="lego-levels-grid" id="legoLevelsGrid"></div>
        <br>
        <center><button class="lego-btn lego-btn-clear" onclick="legoCloseLevels()">Close</button></center>
      </div>
    </div>
  </div>
  
  <!-- ROBOT ARM LAB MODAL -->
  <div id="robotArmModal" class="robot-hidden" style="position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#0f172a,#1e293b);z-index:9999;overflow-y:auto;padding:12px;">
    <style>
      .robot-hidden{display:none!important}
      .robot-container{max-width:950px;margin:0 auto;color:white;font-family:system-ui,sans-serif}
      .robot-close{position:fixed;top:12px;right:12px;background:#ef4444;border:none;color:white;width:40px;height:40px;border-radius:50%;font-size:1.3rem;cursor:pointer;z-index:10000}
      .robot-header{text-align:center;margin-bottom:10px}
      .robot-header h2{font-size:1.3rem;margin-bottom:2px}
      .robot-subtitle{opacity:0.7;font-size:0.8rem}
      .robot-tabs{display:flex;justify-content:center;gap:6px;margin-bottom:10px}
      .robot-tab{padding:8px 20px;border-radius:16px;border:2px solid rgba(255,255,255,0.2);background:transparent;color:white;font-weight:bold;cursor:pointer;font-size:0.85rem}
      .robot-tab:hover{background:rgba(255,255,255,0.1)}
      .robot-tab.active{background:#3b82f6;border-color:#60a5fa}
      .robot-tab:disabled{opacity:0.4;cursor:not-allowed}
      .robot-info{background:linear-gradient(135deg,#7c3aed,#5b21b6);padding:10px 14px;border-radius:10px;margin-bottom:10px;border:2px solid #a78bfa}
      .robot-info h3{margin-bottom:2px;font-size:0.9rem}
      .robot-info p{opacity:0.9;font-size:0.8rem}
      .robot-build-area{display:grid;grid-template-columns:160px 1fr;gap:10px}
      .robot-parts-panel{background:rgba(255,255,255,0.08);border-radius:10px;padding:10px}
      .robot-parts-panel h4{font-size:0.7rem;text-transform:uppercase;opacity:0.6;margin-bottom:6px}
      .robot-parts-list{display:flex;flex-direction:column;gap:4px}
      .robot-part-item{background:rgba(255,255,255,0.1);padding:8px;border-radius:6px;cursor:pointer;display:flex;align-items:center;gap:6px;font-size:0.8rem;border:2px solid transparent}
      .robot-part-item:hover{background:rgba(255,255,255,0.15);border-color:rgba(255,255,255,0.3)}
      .robot-part-item.placed{opacity:0.4;cursor:default}
      .robot-part-item.placed::after{content:' ‚úì';color:#22c55e}
      .robot-assembly{background:rgba(255,255,255,0.05);border-radius:10px;padding:10px;min-height:300px;position:relative;border:2px dashed rgba(255,255,255,0.2)}
      .robot-slots{display:flex;flex-direction:column;align-items:center;gap:4px;padding:10px}
      .robot-slot{width:140px;height:36px;border:2px dashed rgba(255,255,255,0.3);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:0.75rem;opacity:0.5}
      .robot-slot.active{border-color:#fbbf24;background:rgba(251,191,36,0.1);opacity:1}
      .robot-slot.filled{border-style:solid;border-color:#22c55e;background:rgba(34,197,94,0.15);opacity:1}
      .robot-preview{position:absolute;right:12px;bottom:12px;width:100px;height:160px;background:rgba(0,0,0,0.3);border-radius:6px;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;padding:6px}
      .robot-preview-label{position:absolute;top:4px;font-size:0.6rem;opacity:0.5}
      .robot-prev-part{transition:all 0.3s;opacity:0.2}
      .robot-prev-part.visible{opacity:1}
      .rprev-base{width:60px;height:14px;background:#475569;border-radius:3px}
      .rprev-shoulder{width:20px;height:20px;background:#3b82f6;border-radius:50%;margin-bottom:-3px}
      .rprev-arm{width:12px;height:40px;background:#64748b;border-radius:3px}
      .rprev-elbow{width:16px;height:16px;background:#f59e0b;border-radius:50%;margin:-2px 0}
      .rprev-forearm{width:10px;height:32px;background:#64748b;border-radius:3px}
      .rprev-wrist{width:12px;height:12px;background:#8b5cf6;border-radius:50%;margin:-2px 0}
      .rprev-gripper{width:26px;height:16px;background:#ef4444;border-radius:3px 3px 6px 6px}
      .robot-control-area{display:grid;grid-template-columns:1fr 180px;gap:10px}
      .robot-workspace{background:linear-gradient(180deg,#1e3a5f,#0f172a);border-radius:10px;height:340px;position:relative;overflow:hidden;border:2px solid #334155}
      .robot-ground{position:absolute;bottom:0;left:0;right:0;height:50px;background:linear-gradient(180deg,#374151,#1f2937);border-top:3px solid #4b5563}
      .robot-zone{position:absolute;bottom:50px;border:2px dashed;border-radius:6px;font-size:0.6rem;text-align:center}
      .robot-zone-pickup{left:15px;width:130px;height:70px;border-color:#60a5fa;background:rgba(59,130,246,0.1)}
      .robot-zone-red{right:140px;width:45px;height:60px;border-color:#ef4444;background:rgba(239,68,68,0.1)}
      .robot-zone-blue{right:85px;width:45px;height:60px;border-color:#3b82f6;background:rgba(59,130,246,0.1)}
      .robot-zone-yellow{right:30px;width:45px;height:60px;border-color:#eab308;background:rgba(234,179,8,0.1)}
      .robot-zone-stack{right:30px;width:80px;height:90px;border-color:#22c55e;background:rgba(34,197,94,0.1)}
      .robot-zone-label{position:absolute;top:-14px;left:50%;transform:translateX(-50%);font-size:0.65rem;white-space:nowrap}
      .robot-indicators{position:absolute;top:8px;left:8px;display:flex;flex-direction:column;gap:4px}
      .robot-indicator{background:rgba(0,0,0,0.5);padding:4px 8px;border-radius:4px;font-size:0.65rem;display:flex;align-items:center;gap:6px}
      .robot-ind-bar{width:50px;height:6px;background:rgba(255,255,255,0.2);border-radius:3px;overflow:hidden}
      .robot-ind-fill{height:100%;border-radius:3px}
      .robot-ind-power{background:linear-gradient(90deg,#22c55e,#eab308,#ef4444)}
      .robot-ind-force{background:linear-gradient(90deg,#3b82f6,#8b5cf6)}
      #robotCanvas{position:absolute;bottom:0;left:50%;transform:translateX(-50%)}
      .robot-block{position:absolute;width:28px;height:28px;border-radius:4px;box-shadow:0 2px 6px rgba(0,0,0,0.3)}
      .robot-block-red{background:linear-gradient(135deg,#ef4444,#dc2626)}
      .robot-block-blue{background:linear-gradient(135deg,#3b82f6,#2563eb)}
      .robot-block-yellow{background:linear-gradient(135deg,#eab308,#ca8a04)}
      .robot-block-green{background:linear-gradient(135deg,#22c55e,#16a34a)}
      .robot-block.grabbed{box-shadow:0 4px 12px rgba(0,0,0,0.5);transform:scale(1.05)}
      .robot-tower-block{position:absolute;width:24px;height:24px;background:linear-gradient(135deg,#f97316,#ea580c);border-radius:3px;box-shadow:0 2px 4px rgba(0,0,0,0.3)}
      .robot-controls{background:rgba(255,255,255,0.08);border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:6px}
      .robot-controls h4{font-size:0.7rem;text-transform:uppercase;opacity:0.6;margin-bottom:2px}
      .robot-challenge-btns{display:flex;gap:3px;flex-wrap:wrap;margin-bottom:6px}
      .robot-challenge-btn{flex:1;min-width:40px;padding:5px;border:2px solid rgba(255,255,255,0.2);background:transparent;color:white;border-radius:5px;cursor:pointer;font-size:0.65rem}
      .robot-challenge-btn:hover{background:rgba(255,255,255,0.1)}
      .robot-challenge-btn.active{background:#7c3aed;border-color:#a78bfa}
      .robot-ctrl-group{margin-bottom:4px}
      .robot-ctrl-label{display:flex;justify-content:space-between;font-size:0.7rem;margin-bottom:2px}
      .robot-ctrl-val{opacity:0.6}
      .robot-slider{width:100%;height:5px;border-radius:3px;background:rgba(255,255,255,0.2);-webkit-appearance:none;outline:none}
      .robot-slider::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:#3b82f6;cursor:pointer;border:2px solid white}
      .robot-gripper-btn{width:100%;padding:10px;border-radius:6px;border:none;font-weight:bold;font-size:0.85rem;cursor:pointer}
      .robot-gripper-btn.open{background:#22c55e;color:white}
      .robot-gripper-btn.closed{background:#ef4444;color:white}
      .robot-stats{background:rgba(0,0,0,0.3);padding:6px;border-radius:6px;display:grid;grid-template-columns:repeat(3,1fr);gap:3px;text-align:center;margin-top:6px}
      .robot-stat-label{font-size:0.55rem;opacity:0.6}
      .robot-stat-value{font-weight:bold;font-size:0.9rem}
      .robot-concept-popup{position:fixed;bottom:12px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#7c3aed,#5b21b6);padding:10px 16px;border-radius:10px;border:2px solid #a78bfa;max-width:340px;text-align:center;z-index:10001}
      .robot-concept-popup h4{margin-bottom:4px;font-size:0.85rem}
      .robot-concept-popup p{font-size:0.75rem;opacity:0.9}
      .robot-concept-popup button{margin-top:6px;padding:5px 14px;border-radius:14px;border:none;background:white;color:#5b21b6;font-weight:bold;cursor:pointer;font-size:0.75rem}
      .robot-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:10002;padding:12px}
      .robot-modal-box{background:linear-gradient(135deg,#22c55e,#16a34a);padding:20px;border-radius:14px;text-align:center;border:3px solid #86efac;max-width:280px}
      .robot-modal-box h2{font-size:1.3rem;margin-bottom:4px}
      .robot-modal-box p{margin-bottom:10px;opacity:0.9;font-size:0.85rem}
      .robot-modal-stars{font-size:1.6rem;margin-bottom:8px}
      .robot-modal-btn{padding:8px 16px;border-radius:6px;border:none;font-weight:bold;cursor:pointer;margin:2px;font-size:0.85rem}
      .robot-modal-btn.primary{background:white;color:#16a34a}
      .robot-modal-btn.secondary{background:rgba(255,255,255,0.2);color:white}
    </style>
    
    <button class="robot-close" onclick="closeRobotArm()">√ó</button>
    
    <div class="robot-container">
      <div class="robot-header">
        <h2>ü¶æ Robot Arm Lab</h2>
        <p class="robot-subtitle">Build it, control it, learn how it works!</p>
      </div>
      
      <div class="robot-tabs">
        <button class="robot-tab active" id="robotTabBuild" onclick="setRobotMode('build')">üîß Build</button>
        <button class="robot-tab" id="robotTabControl" onclick="setRobotMode('control')" disabled>üéÆ Control</button>
      </div>
      
      <div class="robot-info">
        <h3 id="robotInfoTitle">üîß Build Your Robot Arm!</h3>
        <p id="robotInfoText">Click parts in order to assemble. Start with BASE!</p>
      </div>
      
      <!-- BUILD MODE -->
      <div id="robotBuildMode">
        <div class="robot-build-area">
          <div class="robot-parts-panel">
            <h4>üß© Parts</h4>
            <div class="robot-parts-list">
              <div class="robot-part-item" data-part="base" onclick="placeRobotPart('base')">üü´ Base</div>
              <div class="robot-part-item" data-part="shoulder" onclick="placeRobotPart('shoulder')">üîµ Shoulder</div>
              <div class="robot-part-item" data-part="upperArm" onclick="placeRobotPart('upperArm')">ü¶æ Upper Arm</div>
              <div class="robot-part-item" data-part="elbow" onclick="placeRobotPart('elbow')">üü° Elbow</div>
              <div class="robot-part-item" data-part="forearm" onclick="placeRobotPart('forearm')">ü¶ø Forearm</div>
              <div class="robot-part-item" data-part="wrist" onclick="placeRobotPart('wrist')">üü£ Wrist</div>
              <div class="robot-part-item" data-part="gripper" onclick="placeRobotPart('gripper')">üî¥ Gripper</div>
            </div>
          </div>
          <div class="robot-assembly">
            <div class="robot-slots">
              <div class="robot-slot" data-slot="gripper">7. Gripper</div>
              <div class="robot-slot" data-slot="wrist">6. Wrist</div>
              <div class="robot-slot" data-slot="forearm">5. Forearm</div>
              <div class="robot-slot" data-slot="elbow">4. Elbow</div>
              <div class="robot-slot" data-slot="upperArm">3. Upper Arm</div>
              <div class="robot-slot" data-slot="shoulder">2. Shoulder</div>
              <div class="robot-slot active" data-slot="base">1. Base ‚Üê</div>
            </div>
            <div class="robot-preview">
              <span class="robot-preview-label">Preview</span>
              <div class="robot-prev-part rprev-gripper" id="robotPrevGripper"></div>
              <div class="robot-prev-part rprev-wrist" id="robotPrevWrist"></div>
              <div class="robot-prev-part rprev-forearm" id="robotPrevForearm"></div>
              <div class="robot-prev-part rprev-elbow" id="robotPrevElbow"></div>
              <div class="robot-prev-part rprev-arm" id="robotPrevUpperArm"></div>
              <div class="robot-prev-part rprev-shoulder" id="robotPrevShoulder"></div>
              <div class="robot-prev-part rprev-base" id="robotPrevBase"></div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- CONTROL MODE -->
      <div id="robotControlMode" class="robot-hidden">
        <div class="robot-control-area">
          <div class="robot-workspace" id="robotWorkspace">
            <div class="robot-indicators">
              <div class="robot-indicator">‚ö°<div class="robot-ind-bar"><div class="robot-ind-fill robot-ind-power" id="robotPowerFill" style="width:20%"></div></div></div>
              <div class="robot-indicator">üí™<div class="robot-ind-bar"><div class="robot-ind-fill robot-ind-force" id="robotForceFill" style="width:0%"></div></div></div>
            </div>
            <canvas id="robotCanvas" width="500" height="290"></canvas>
            <div class="robot-zone robot-zone-pickup"><span class="robot-zone-label">üì¶ Pickup</span></div>
            <div class="robot-zone robot-zone-red" data-zone="red"><span class="robot-zone-label">üî¥</span></div>
            <div class="robot-zone robot-zone-blue" data-zone="blue"><span class="robot-zone-label">üîµ</span></div>
            <div class="robot-zone robot-zone-yellow" data-zone="yellow"><span class="robot-zone-label">üü°</span></div>
            <div id="robotBlocksArea"></div>
            <div class="robot-ground"></div>
          </div>
          <div class="robot-controls">
            <h4>üéÆ Challenge</h4>
            <div class="robot-challenge-btns">
              <button class="robot-challenge-btn active" onclick="setRobotChallenge('sort')">Sort</button>
              <button class="robot-challenge-btn" onclick="setRobotChallenge('stack')">Stack</button>
              <button class="robot-challenge-btn" onclick="setRobotChallenge('knock')">Knock</button>
            </div>
            <h4>üéõÔ∏è Controls</h4>
            <div class="robot-ctrl-group">
              <div class="robot-ctrl-label"><span>‚ÜîÔ∏è Base</span><span class="robot-ctrl-val" id="robotBaseVal">0</span></div>
              <input type="range" class="robot-slider" id="robotBaseSlider" min="-120" max="120" value="0" oninput="updateRobotArm()">
            </div>
            <div class="robot-ctrl-group">
              <div class="robot-ctrl-label"><span>üîÑ Shoulder</span><span class="robot-ctrl-val" id="robotShoulderVal">45¬∞</span></div>
              <input type="range" class="robot-slider" id="robotShoulderSlider" min="-30" max="120" value="45" oninput="updateRobotArm()">
            </div>
            <div class="robot-ctrl-group">
              <div class="robot-ctrl-label"><span>üí™ Elbow</span><span class="robot-ctrl-val" id="robotElbowVal">-45¬∞</span></div>
              <input type="range" class="robot-slider" id="robotElbowSlider" min="-135" max="0" value="-45" oninput="updateRobotArm()">
            </div>
            <div class="robot-ctrl-group">
              <div class="robot-ctrl-label"><span>üîÉ Wrist</span><span class="robot-ctrl-val" id="robotWristVal">0¬∞</span></div>
              <input type="range" class="robot-slider" id="robotWristSlider" min="-90" max="90" value="0" oninput="updateRobotArm()">
            </div>
            <div class="robot-ctrl-group">
              <div class="robot-ctrl-label"><span>üìè Length</span><span class="robot-ctrl-val" id="robotLengthVal">100%</span></div>
              <input type="range" class="robot-slider" id="robotLengthSlider" min="60" max="100" value="100" oninput="updateRobotArm()">
            </div>
            <button class="robot-gripper-btn open" id="robotGripperBtn" onclick="toggleRobotGripper()">‚úã OPEN</button>
            <div class="robot-stats">
              <div><div class="robot-stat-label">Level</div><div class="robot-stat-value" id="robotLevelNum">1</div></div>
              <div><div class="robot-stat-label">Score</div><div class="robot-stat-value" id="robotScoreNum">0</div></div>
              <div><div class="robot-stat-label">Goal</div><div class="robot-stat-value" id="robotGoalNum">3</div></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Concept Popup -->
    <div class="robot-concept-popup robot-hidden" id="robotConceptPopup">
      <h4 id="robotConceptTitle">üí° Did you know?</h4>
      <p id="robotConceptText">Concept text</p>
      <button onclick="hideRobotConcept()">Got it!</button>
    </div>
    
    <!-- Success Modal -->
    <div class="robot-modal robot-hidden" id="robotSuccessModal">
      <div class="robot-modal-box">
        <div class="robot-modal-stars">‚≠ê‚≠ê‚≠ê</div>
        <h2>üéâ Great Job!</h2>
        <p>Challenge complete!</p>
        <button class="robot-modal-btn primary" onclick="nextRobotLevel()">Next Level ‚û°Ô∏è</button>
        <button class="robot-modal-btn secondary" onclick="restartRobotLevel()">Try Again</button>
      </div>
    </div>
  </div>
</body>
</html>
